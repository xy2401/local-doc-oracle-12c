<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Understand the different data mining SQL scoring functions.">
      <meta name="description" content="Understand the different data mining SQL scoring functions.">
      <title>Data Mining SQL Scoring Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide">
      <meta property="og:description" content="Understand the different data mining SQL scoring functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-11T22:53:56-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85731-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="data-mining-PL-SQL-packages.html" title="Previous" type="text/html">
      <link rel="next" href="preparing-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining User's Guide">
    <meta name="dcterms.isVersionOf" content="DMPRG">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-mining-PL-SQL-packages.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="preparing-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-mining-API.html" property="item" typeof="WebPage"><span property="name"> About the Data Mining API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Data Mining SQL Scoring Functions</li>
            </ol>
            <a id="GUID-191F4A5D-136B-426E-98F6-D4EB250A602E" name="GUID-191F4A5D-136B-426E-98F6-D4EB250A602E"></a><a id="DMPRG131"></a><a id="DMPRG748"></a><a id="DMPRG013"></a>
            
            <h2 id="DMPRG-GUID-191F4A5D-136B-426E-98F6-D4EB250A602E" class="sect2"><span class="enumeration_section">2.4 </span>Data Mining SQL Scoring Functions
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Understand the different data mining SQL scoring functions.</p>
               <div class="section">
                  <p>The <a id="d5750e23" class="indexterm-anchor"></a><a id="d5750e27" class="indexterm-anchor"></a>Data Mining SQL language functions use Oracle Data Mining to score data. The functions can apply a mining model schema object to the data, or they can dynamically mine the data by executing an analytic clause. SQL functions are available for all the data mining algorithms that support the scoring operation. All Data Mining SQL functions, as listed in the following table can operate on R Mining Model with the corresponding mining function. However, the functions are not limited to the ones listed here.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-191F4A5D-136B-426E-98F6-D4EB250A602E__CHDIGCHB">
                  <p class="titleintable">Table 2-4 Data Mining SQL Functions</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Data Mining SQL Functions" summary="This table provides a summary of the predictive functions for Data Mining." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="23%" id="d5750e43">Function</th>
                           <th align="left" valign="bottom" width="77%" id="d5750e46">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e51" headers="d5750e43 ">
                              <p><a id="d5750e53" class="indexterm-anchor"></a><code class="codeph">CLUSTER_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e51 d5750e46 ">
                              <p>Returns the ID of the predicted cluster</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e61" headers="d5750e43 ">
                              <p><a id="d5750e63" class="indexterm-anchor"></a><code class="codeph">CLUSTER_DETAILS</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e61 d5750e46 ">
                              <p>Returns detailed information about the predicted cluster</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e71" headers="d5750e43 ">
                              <p><a id="d5750e73" class="indexterm-anchor"></a><code class="codeph">CLUSTER_DISTANCE</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e71 d5750e46 ">
                              <p>Returns the distance from the centroid of the predicted cluster</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e81" headers="d5750e43 ">
                              <p><a id="d5750e83" class="indexterm-anchor"></a><code class="codeph">CLUSTER_PROBABILITY</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e81 d5750e46 ">
                              <p>Returns the probability of a case belonging to a given cluster</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e91" headers="d5750e43 ">
                              <p><a id="d5750e93" class="indexterm-anchor"></a><code class="codeph">CLUSTER_SET</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e91 d5750e46 ">
                              <p>Returns a list of all possible clusters to which a given case belongs along with the associated probability of inclusion</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e101" headers="d5750e43 "><a id="d5750e104" class="indexterm-anchor"></a><code class="codeph">FEATURE_COMPARE</code></td>
                           <td align="left" valign="top" width="77%" headers="d5750e101 d5750e46 ">Compares two similar and dissimilar set of texts from two different documents or keyword phrases or a combination of both</td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e111" headers="d5750e43 ">
                              <p><a id="d5750e113" class="indexterm-anchor"></a><code class="codeph">FEATURE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e111 d5750e46 ">
                              <p>Returns the ID of the feature with the highest coefficient value</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e121" headers="d5750e43 ">
                              <p><a id="d5750e123" class="indexterm-anchor"></a><code class="codeph">FEATURE_DETAILS</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e121 d5750e46 ">
                              <p>Returns detailed information about the predicted feature</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e131" headers="d5750e43 ">
                              <p><a id="d5750e133" class="indexterm-anchor"></a><code class="codeph">FEATURE_SET</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e131 d5750e46 ">
                              <p>Returns a list of objects containing all possible features along with the associated coefficients</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e141" headers="d5750e43 ">
                              <p><a id="d5750e143" class="indexterm-anchor"></a><code class="codeph">FEATURE_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e141 d5750e46 ">
                              <p>Returns the value of the predicted feature</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e151" headers="d5750e43 "><a id="d5750e154" class="indexterm-anchor"></a><code class="codeph">ORA_DM_PARTITION_NAME</code></td>
                           <td align="left" valign="top" width="77%" headers="d5750e151 d5750e46 ">Returns the partition names for a partitioned model</td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e162" headers="d5750e43 ">
                              <p><a id="d5750e164" class="indexterm-anchor"></a><code class="codeph">PREDICTION</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e162 d5750e46 ">
                              <p>Returns the best prediction for the target</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e172" headers="d5750e43 ">
                              <p><a id="d5750e174" class="indexterm-anchor"></a><code class="codeph">PREDICTION_BOUNDS</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e172 d5750e46 ">
                              <p>(GLM only) Returns the upper and lower bounds of the interval wherein the predicted values (l<a id="d5750e181" class="indexterm-anchor"></a>inear regression) or probabilities <a id="d5750e184" class="indexterm-anchor"></a>(logistic regression) lie. 
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e188" headers="d5750e43 ">
                              <p><a id="d5750e190" class="indexterm-anchor"></a><code class="codeph">PREDICTION_COST</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e188 d5750e46 ">
                              <p>Returns a measure of the cost of incorrect predictions</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e198" headers="d5750e43 ">
                              <p><a id="d5750e200" class="indexterm-anchor"></a><code class="codeph">PREDICTION_DETAILS</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e198 d5750e46 ">
                              <p>Returns detailed information about the prediction</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e208" headers="d5750e43 ">
                              <p><a id="d5750e210" class="indexterm-anchor"></a><code class="codeph">PREDICTION_PROBABILITY</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e208 d5750e46 ">
                              <p>Returns the probability of the prediction</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d5750e218" headers="d5750e43 ">
                              <p><a id="d5750e220" class="indexterm-anchor"></a><code class="codeph">PREDICTION_SET</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d5750e218 d5750e46 ">
                              <p>Returns the results of a classification model, including the predictions and associated probabilities for each case</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p>The following example shows a query that returns the results of the <code class="codeph">CLUSTER_ID</code> function. The query applies the model <code class="codeph">em_sh_clus_sample</code>, which finds groups of customers that share certain characteristics. The query returns the identifiers of the clusters and the number of customers in each cluster.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-191F4A5D-136B-426E-98F6-D4EB250A602E__CHDJFEGJ">
                  <p class="titleinexample">Example 2-9 CLUSTER_ID Function</p><pre class="oac_no_warn" dir="ltr">-- -List the clusters into which the customers in this
-- -data set have been grouped.
--
SELECT <a id="d5750e241" class="indexterm-anchor"></a>CLUSTER_ID(em_sh_clus_sample USING *) AS clus, COUNT(*) AS cnt 
  FROM mining_data_apply_v
GROUP BY CLUSTER_ID(em_sh_clus_sample USING *)
ORDER BY cnt DESC;


SQL&gt; -- List the clusters into which the customers in this
SQL&gt; -- data set have been grouped.
SQL&gt; --
SQL&gt; SELECT CLUSTER_ID(em_sh_clus_sample USING *) AS clus, COUNT(*) AS cnt
  2    FROM mining_data_apply_v
  3  GROUP BY CLUSTER_ID(em_sh_clus_sample USING *)
  4  ORDER BY cnt DESC;
 
      CLUS        CNT
---------- ----------
         9        311
         3        294
         7        215
        12        201
        17        123
        16        114
        14         86
        19         64
        15         56
        18         36</pre></div>
               <!-- class="example" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="scoring-deployment.html#GUID-891F460B-CB68-43F6-AD21-D7C9FD1CF670" title="Explains the scoring and deployment features of Oracle Data Mining.">Scoring and Deployment</a></li>
                     <li><a href="../sqlrf/Single-Row-Functions.html#SQLRF-GUID-E64F8D20-C7E2-482A-914F-2781D0AA4E64"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>