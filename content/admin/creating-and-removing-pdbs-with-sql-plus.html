<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can create PDBs in several different ways, including using the seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove PDBs from a CDB.">
      <meta name="description" content="You can create PDBs in several different ways, including using the seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove PDBs from a CDB.">
      <title>Creating and Removing PDBs with SQL*Plus</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="You can create PDBs in several different ways, including using the seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove PDBs from a CDB.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-29T07:20:19-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85760-06">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="creating-and-configuring-a-cdb.html" title="Previous" type="text/html">
      <link rel="next" href="creating-and-removing-pdbs-with-cloud-control.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-and-configuring-a-cdb.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-and-removing-pdbs-with-cloud-control.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">    Managing a Multitenant Environment</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Creating and Removing PDBs with SQL*Plus</li>
            </ol>
            <a id="GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" name="GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413"></a><a id="ADMIN13549"></a>
            
            <h2 id="ADMIN-GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" class="sect2"><span class="enumeration_chapter">38 </span>Creating and Removing PDBs with SQL*Plus
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can create PDBs in several different ways, including using the seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove PDBs from a CDB. </p>
               <div class="infoboxnote" id="GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413__GUID-45E7A6AA-859C-4DBE-A50D-66A9DD76967B">
                  <p class="notep1">Note:</p>You can complete the tasks in this chapter using SQL*Plus or Oracle SQL Developer.
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F6C4F50C-E31C-450A-A2F4-8903515DDEFE">About Creating and Removing PDBs</a><br>You can create a pluggable database (PDB) in a multitenant container database (CDB) by using the CDB seed or an application seed, cloning an existing PDB or non-CDB, plugging an unplugged PDB into a CDB, or using a non-CDB. You can remove a PDB from a CDB by unplugging the PDB or dropping the PDB. You can also create PDBs in application containers.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6">Preparing for PDBs</a><br>Prerequisites must be met before creating a PDB.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B">Creating a PDB Using the Seed</a><br>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a PDB in a CDB using the files of the CDB seed. You can also use this statement to create an application PDB in an application container using the files of an application seed or a CDB seed. 
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007">Creating a PDB by Cloning an Existing PDB or Non-CDB</a><br>You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-75519361-3DA2-4558-A7E5-64BC16FAFC7D">Creating a PDB by Relocating It</a><br>You can create a PDB by relocating it from one CDB to another.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3">Creating a PDB by Plugging an Unplugged PDB into a CDB</a><br>You can create a PDB by plugging an unplugged PDB into a CDB.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C">Creating a PDB as a Proxy PDB</a><br>You can create a PDB as a proxy PDB by referencing a PDB in a remote CDB.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-60C23F96-6EF3-4BE3-B8CF-5AD6EC29954F">Creating a PDB Using a Non-CDB</a><br>You can create a PDB using a non-CDB in different ways.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722">Unplugging a PDB from a CDB</a><br>You can unplug a PDB from a CDB.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E">Dropping a PDB</a><br>The <code class="codeph">DROP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement drops a PDB. You can drop a PDB when you want to move the PDB from one CDB to another or when you no longer need the PDB. 
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="overview-of-managing-a-multitenant-environment.html#GUID-C1EEE559-3E2B-42A4-B0A0-94C82769ECCB" title="You can use various tools to configure and administer a multitenant environment.">Tools for a Multitenant Environment</a></li>
                  </ul>
               </div>
            </div><a id="ADMIN13550"></a><div class="props_rev_3"><a id="GUID-F6C4F50C-E31C-450A-A2F4-8903515DDEFE" name="GUID-F6C4F50C-E31C-450A-A2F4-8903515DDEFE"></a><h3 id="ADMIN-GUID-F6C4F50C-E31C-450A-A2F4-8903515DDEFE" class="sect3"><span class="enumeration_section">38.1 </span>About Creating and Removing PDBs
               </h3>
               <div>
                  <p>You can create a pluggable database (PDB) in a multitenant container database (CDB) by using the CDB seed or an application seed, cloning an existing PDB or non-CDB, plugging an unplugged PDB into a CDB, or using a non-CDB. You can remove a PDB from a CDB by unplugging the PDB or dropping the PDB. You can also create PDBs in application containers.</p>
                  <p> </p>
                  <div class="infoboxnote" id="GUID-F6C4F50C-E31C-450A-A2F4-8903515DDEFE__GUID-0B734A59-1BD7-4F82-95F9-05BAAA34FDF5">
                     <p class="notep1">Note:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>This chapter discusses using SQL statements to create and remove PDBs. An easier way to create and remove PDBs is with a graphical user interface, such as of Database Configuration Assistant (DBCA), Oracle Enterprise Manager Cloud Control (Cloud Control), or Oracle Enterprise Manager Database Express (EM Express).</p>
                        </li>
                        <li>
                           <p>A CDB can contain up to 4,096 PDBs, including PDBs, application roots, application PDBs, application seeds, and proxy PDBs. This number does not include the CDB root and the CDB seed.</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21">Techniques for Creating a PDB</a><br>You can use various techniques to create a PDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-59F42929-7237-4371-8934-921B46DB6F31">The CREATE PLUGGABLE DATABASE Statement</a><br>You use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a PDB. To use this statement, you must understand  the clauses for the statement and when to use each clause. 
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6">Summary of Clauses for Creating a PDB</a><br>When you create a PDB with the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, various clauses are available to you based on different factors, such as the technique you are using to create the PDB. You can determine which clauses to use by answering a series of questions.  
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-F6C4F50C-E31C-450A-A2F4-8903515DDEFE__GUID-96A816C7-F8A0-4CC1-9F60-98D3953F4250">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="overview-of-managing-a-multitenant-environment.html#GUID-A1F3A63E-3BE5-4B80-A053-46D9EF71D45E" title="You can use the Oracle Multitenant option to configure and manage a multitenant environment. The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB) that includes zero, one, or many customer-created pluggable databases (PDBs). A PDB is a portable collection of schemas, schema objects, and nonschema objects that appears to an Oracle Net client as a non-CDB. All Oracle databases before Oracle Database 12c were non-CDBs.">About a Multitenant Environment</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../admqs/installing-oracle-database-creating-database.html#ADMQS023"><span class="italic">Oracle Database 2 Day DBA</span></a> and the DBCA online help for more information about DBCA
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <a id="ADMIN13849"></a><a id="ADMIN14085"></a><a id="ADMIN13551"></a><div class="props_rev_3"><a id="GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21" name="GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21"></a><h4 id="ADMIN-GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21" class="sect4"><span class="enumeration_section">38.1.1 </span>Techniques for Creating a PDB
                  </h4>
                  <div>
                     <p>You can use various techniques to create a PDB.</p>
                     <p>Creating a PDB is the process of associating the PDB with a CDB or an application container. You create a PDB when you want to use the PDB as part of the CDB or application container.</p>
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__CEGEGFCB" title="This table describes each technique for creating a PDB and provides a link for more information about each technique.">Table 38-1</a> describes the techniques that you can use to create a PDB.
                     </p>
                     <div class="tblformalwide" id="GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__CEGEGFCB">
                        <p class="titleintable">Table 38-1 Techniques for Creating a PDB</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Techniques for Creating a PDB" summary="This table describes each technique for creating a PDB and provides a link for more information about each technique." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d300602e288">Technique</th>
                                 <th align="left" valign="bottom" width="51%" id="d300602e291">Description</th>
                                 <th align="left" valign="bottom" width="25%" id="d300602e294">More Information</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d300602e299" headers="d300602e288 ">
                                    <p>Create a PDB by using the seed</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d300602e299 d300602e291 ">
                                    <p>Create a PDB in a CDB using the files of the CDB seed or application seed. This technique copies the files associated with the seed to a new location and associates the copied files with the new PDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d300602e299 d300602e294 ">
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" title="You can use the CREATE PLUGGABLE DATABASE statement to create a PDB in a CDB using the files of the CDB seed. You can also use this statement to create an application PDB in an application container using the files of an application seed or a CDB seed.">Creating a PDB Using the Seed</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d300602e323" headers="d300602e288 ">
                                    <p>Create a PDB by cloning an existing PDB or non-CDB</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d300602e323 d300602e291 ">
                                    <p>Create a PDB by cloning a source PDB or non-CDB. A source can be a PDB in the local CDB, a PDB in a remote CDB, a PDB in a local or remote application container, or a non-CDB. This technique copies the files associated with the source to a new location and associates the copied files with the new PDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d300602e323 d300602e294 ">
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Creating a PDB by Cloning an Existing PDB or Non-CDB</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d300602e338" headers="d300602e288 ">
                                    <p>Create a PDB by relocating it to a different CDB</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d300602e338 d300602e291 ">
                                    <p>Create a PDB by relocating it from one CDB to another. This technique moves the files associated with the PDB to a new location.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d300602e338 d300602e294 ">
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-75519361-3DA2-4558-A7E5-64BC16FAFC7D" title="You can create a PDB by relocating it from one CDB to another.">Creating a PDB by Relocating It</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d300602e353" headers="d300602e288 ">
                                    <p>Create a PDB by plugging an unplugged PDB into a CDB</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d300602e353 d300602e291 ">
                                    <p>Create a PDB by using the XML metadata file that describes the PDB and the files associated with the PDB to plug it into the CDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d300602e353 d300602e294 ">
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="You can create a PDB by plugging an unplugged PDB into a CDB.">Creating a PDB by Plugging an Unplugged PDB into a CDB</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d300602e368" headers="d300602e288 ">
                                    <p>Creating a PDB as a proxy PDB</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d300602e368 d300602e291 ">
                                    <p>Create a PDB as a proxy PDB by referencing a different PDB with a database link. The referenced PDB can be in the same CDB as the proxy PDB, or it can be in a different CDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d300602e368 d300602e294 ">
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="You can create a PDB as a proxy PDB by referencing a PDB in a remote CDB.">Creating a PDB as a Proxy PDB</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d300602e383" headers="d300602e288 ">
                                    <p>Create a PDB by using a non-CDB</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d300602e383 d300602e291 ">
                                    <p>Create a PDB by adopting a non-CDB into a PDB. You can use the <code class="codeph">DBMS_PDB</code> package to create an unplugged PDB from an Oracle Database 12<span class="italic">c</span> non-CDB. You can then plug the unplugged PDB into the CDB.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d300602e383 d300602e294 ">
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F68E6FE9-919B-4665-95F7-785E69E07264" title="You can move a non-CDB into a PDB.">About Creating a PDB Using a Non-CDB</a>"</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>All of the techniques described in <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__CEGEGFCB" title="This table describes each technique for creating a PDB and provides a link for more information about each technique.">Table 38-1</a> use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a PDB. These techniques fall into four main categories: relocating, copying, plugging in, and referencing as a proxy PDB. <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__CEGBEGGJ">Figure 38-1</a> depicts the options for creating a PDB:
                     </p>
                     <div class="figure" id="GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__CEGBEGGJ">
                        <p class="titleinfigure">Figure 38-1 Options for Creating a PDB</p><img src="img/admin358.png" width="504" alt="Description of Figure 38-1 follows" title="Description of Figure 38-1 follows" longdesc="img_text/admin358.html"><br><a href="img_text/admin358.html">Description of "Figure 38-1 Options for Creating a PDB"</a></div>
                     <!-- class="figure" -->
                     <p>Creating an application container is the process of associating the application container with a CDB. You can use all of these techniques to create an application container by including the <code class="codeph">AS APPLICATION CONTAINER</code> clause in the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. 
                     </p>
                     <p>When you create a PDB, it can be associated with a CDB or with an application container. When the current container is a CDB root and you create a PDB, the PDB is associated with the CDB root. When the current container is an application root in an application container, and you create a PDB, the PDB is associated with the application root. When cloning a PDB into an application container, relocating a PDB to an application container, or plugging in a PDB into an application container, the PDB’s application name and version must match the application container’s application name and version.</p>
                     <p>You can unplug a PDB when you want to plug it into a different CDB. You can unplug or drop a PDB when you no longer need it. An unplugged PDB is not usable until it is plugged into a CDB.</p>
                     <div class="infoboxnote" id="GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__GUID-9C69528B-F9FA-4634-B45F-04726CF60899">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating a PDB by cloning a non-CDB is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                              </p>
                           </li>
                           <li>
                              <p>Creating a PDB by relocating it or as a proxy PDB is available starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1).
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__GUID-90682480-518C-4E28-93A4-4D898E8784BC">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-065649AC-18ED-4858-ACC5-36F011362A83" title="You can create application containers in several different ways, including using the CDB seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove application containers from a CDB.">Creating and Removing Application Containers with SQL*Plus</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722" title="You can unplug a PDB from a CDB.">Unplugging a PDB from a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E" title="The DROP PLUGGABLE DATABASE statement drops a PDB. You can drop a PDB when you want to move the PDB from one CDB to another or when you no longer need the PDB.">Dropping a PDB</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN13556"></a><div class="props_rev_3"><a id="GUID-59F42929-7237-4371-8934-921B46DB6F31" name="GUID-59F42929-7237-4371-8934-921B46DB6F31"></a><h4 id="ADMIN-GUID-59F42929-7237-4371-8934-921B46DB6F31" class="sect4"><span class="enumeration_section">38.1.2 </span>The CREATE PLUGGABLE DATABASE Statement
                  </h4>
                  <div>
                     <p>You use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a PDB. To use this statement, you must understand  the clauses for the statement and when to use each clause. 
                     </p>
                     <p>All of the techniques described in <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-BAD70A3D-0C46-4392-BCC9-B17413A0BA21__CEGEGFCB" title="This table describes each technique for creating a PDB and provides a link for more information about each technique.">Table 38-1</a> use this statement.
                     </p>
                     <div class="infoboxnote" id="GUID-59F42929-7237-4371-8934-921B46DB6F31__GUID-FA1C52B5-41EA-4A15-9B6C-06A3E6387908">
                        <p class="notep1">Note:</p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), you can also use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to create application containers, application seeds, and application PDBs. The SQL statements that create PDBs and application PDBs are exactly the same. When a <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement is run in the CDB root, the PDB belongs to the CDB root. When a <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement is run in an application root, the application PDB belongs to the application root. You can create an application root by running a <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement with the <code class="codeph">AS APPLICATION CONTAINER</code> clause when the CDB root is the current container.
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637">Storage Limits</a><br>The optional <code class="codeph">STORAGE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies storage limits for PDBs.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-39D2F826-7460-4439-B410-29E16C0CA0B1">File Location of the New PDB</a><br>In the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, you can specify the locations of files used by the new PDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426">Restrictions on PDB File Locations</a><br>The <code class="codeph">PATH_PREFIX</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement ensures that all directory object paths associated with the PDB are restricted to the specified directory or its subdirectories. It also ensures that the following files associated with the PDB are restricted to specified directory: the Oracle XML repository for the PDB, files created with a <code class="codeph">CREATE PFILE</code> statement, and the export directory for Oracle wallets.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1691A7A2-372E-4E51-8A4F-15DAC6AB0FC3">Source File Locations When Plugging In an Unplugged PDB</a><br>Use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">...</code> <code class="codeph">USING</code> statement to plug an unplugged PDB into a CDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-6B1CE78D-A6BC-44F7-A74E-61A8E469334E">Renaming a Service</a><br>The <code class="codeph">SERVICE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement  renames the user-defined services of the new PDB based on the service names of the source PDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-EC6BFAB6-F44D-45CF-9565-E899B60B5E35">Temp File Reuse</a><br>The <code class="codeph">TEMPFILE REUSE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies that an existing temp file in the target location is reused.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-5FC7BAB3-65DE-47E2-9ED7-1093ED784A3C">Default Tablespace</a><br>The <code class="codeph">DEFAULT TABLESPACE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the default tablespace for the new PDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1C47D543-8376-48AE-A1AE-632316731D59">User Tablespaces</a><br>The <code class="codeph">USER_TABLESPACES</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies which tablespaces are available in the new PDB. 
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-ADD3198D-7D05-4026-A30A-F3972A89F779">PDB Tablespace Logging</a><br>The <span class="italic">logging_clause</span> of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the logging attribute of the PDB. The logging attribute controls whether certain DML operations are logged in the redo log file (<code class="codeph">LOGGING</code>) or not (<code class="codeph">NOLOGGING</code>).
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-93484655-B6C5-487B-B89A-5957A26309BE">PDB Inclusion in Standby CDBs</a><br>The <code class="codeph">STANDBYS</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies whether the new PDB is included in standby CDBs.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3BB463D5-D152-45FF-AB23-61856FB84C0B">Excluding Data When Cloning a PDB</a><br>The <code class="codeph">NO DATA</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies that a PDB's data model definition is cloned but not the PDB's data.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-AD2AEBFC-589D-4221-BCE8-E100296163E2">Parallelize PDB Creation</a><br>The <code class="codeph">PARALLEL</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement specifies whether to use parallel execution servers during PDB creation and, optionally, the degree of parallelism.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B99FE87D-151B-4350-84B3-BB5E7150E414">PDB Refresh</a><br>The <code class="codeph">REFRESH MODE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies whether a PDB created as a clone can be refreshed periodically. Each PDB refresh propagates changes from the source PDB to the new PDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-01115872-C545-4350-BE0D-54CD580B909F">Application Container and Application Seed</a><br>With the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, you can create an application container. You can also create an application seed in an application container. 
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB">PDB Listener Host Name and Port Number</a><br>The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB. Use the <code class="codeph">PORT</code> clause to specify the PDB’s port number. Use the <code class="codeph">HOST</code> clause to specify the PDB’s host name. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-59F42929-7237-4371-8934-921B46DB6F31__GUID-0C1DE93B-A23C-49E1-9AC1-B08FFA2DF7AE">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways, including using the CDB seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds with SQL*Plus</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <a id="ADMIN14182"></a><a id="ADMIN14183"></a><a id="ADMIN13560"></a><a id="ADMIN13557"></a><div class="props_rev_3"><a id="GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637" name="GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637"></a><h5 id="ADMIN-GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637" class="sect5"><span class="enumeration_section">38.1.2.1 </span>Storage Limits
                     </h5>
                     <div>
                        <p>The optional <code class="codeph">STORAGE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies storage limits for PDBs.
                        </p>
                        <p>The <code class="codeph">STORAGE</code> clause specifies the following limits:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The amount of storage that can be used by all tablespaces that belong to the PDB</p>
                              <p>Use <code class="codeph">MAXSIZE</code> and a size clause to specify a limit, or set <code class="codeph">MAXSIZE</code> to <code class="codeph">UNLIMITED</code> to indicate no limit.
                              </p>
                           </li>
                           <li>
                              <p>The amount of storage that can be used by unified audit OS spillover (.bin  format) files in the PDB</p>
                              <p>Use <code class="codeph">MAX_AUDIT_SIZE</code> and a size clause to specify a limit, or set <code class="codeph">MAX_AUDIT_SIZE</code> to <code class="codeph">UNLIMITED</code> to indicate no limit.
                              </p>
                           </li>
                           <li>
                              <p>The amount of diagnostics (trace files and incident dumps) in the Automatic Diagnostic Repository (ADR) that can be used by the PDB</p>
                              <p>Use <code class="codeph">MAX_DIAG_SIZE</code> and a size clause to specify a limit, or set <code class="codeph">MAX_DIAG_SIZE</code> to <code class="codeph">UNLIMITED</code> to indicate no limit.
                              </p>
                           </li>
                        </ul>
                        <p>If <code class="codeph">STORAGE</code> <code class="codeph">UNLIMITED</code> is set, or if there is no <code class="codeph">STORAGE</code> clause, then there are no storage limits for the PDB.
                        </p>
                        <p>The following are examples that use the <code class="codeph">STORAGE</code> clause.
                        </p>
                        <div class="example" id="GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637__CEGBDDCG">
                           <p class="titleinexample">Example 38-1 STORAGE Clause That Specifies a Storage Limit</p>
                           <p>This <code class="codeph">STORAGE</code> clause specifies that the storage used by all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                           </p><pre class="oac_no_warn" dir="ltr">STORAGE (MAXSIZE 2G)
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637__CEGJBFHG">
                           <p class="titleinexample">Example 38-2 STORAGE Clause That Specifies Unlimited Storage</p>
                           <p>This <code class="codeph">STORAGE</code> clause specifies unlimited storage for all tablespaces that belong to the PDB.
                           </p><pre class="oac_no_warn" dir="ltr">STORAGE (MAXSIZE UNLIMITED)
</pre><div class="infoboxnotealso" id="GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637__GUID-2FFC8633-8544-4BB0-9755-9BF6E0FDD169">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55694"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax of the <code class="codeph">STORAGE</code> clause
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN13966"></a><div class="props_rev_3"><a id="GUID-39D2F826-7460-4439-B410-29E16C0CA0B1" name="GUID-39D2F826-7460-4439-B410-29E16C0CA0B1"></a><h5 id="ADMIN-GUID-39D2F826-7460-4439-B410-29E16C0CA0B1" class="sect5"><span class="enumeration_section">38.1.2.2 </span>File Location of the New PDB
                     </h5>
                     <div>
                        <p>In the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, you can specify the locations of files used by the new PDB.
                        </p>
                        <p>The term "file name" means both the name and the location of a file. The <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement has the following clauses that indicate the file names of the new PDB being created:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause specifies the names of the PDB's files after the PDB is created.
                              </p>
                              <p>Use this clause when the files are not yet at their ultimate destination, and you want to copy or move them during PDB creation. You can use this clause in any <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                              </p>
                           </li>
                           <li>
                              <p>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), the <code class="codeph">CREATE_FILE_DEST</code> clause specifies the default Oracle Managed Files file system directory or Oracle ASM disk group for the PDB's files.
                              </p>
                              <p>Use this clause to enable Oracle Managed Files for the new PDB, independent of any Oracle Managed Files default location specified in the root for the CDB. You can use this clause in any <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                              </p>
                           </li>
                        </ul>
                        <p>When necessary, you can use both of these clauses in the same <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. In addition, the following initialization parameters can control the location of the new PDB's files:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">DB_CREATE_FILE_DEST</code> initialization parameter set in the root
                              </p>
                              <p>This initialization parameter specifies the default location for Oracle Managed Files for the CDB. When this parameter is set in a PDB, it specifies the default location for Oracle Managed Files for the PDB.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                              </p>
                              <p>This initialization parameter maps names of existing files to new file names when processing a <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement.
                              </p>
                           </li>
                        </ul>
                        <p>The following table shows the precedence order when both clauses are used in the same <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, and both initialization parameters are set. For each clause and initialization parameter, the table also shows whether the files created by the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement will use Oracle Managed Files or not.
                        </p>
                        <div class="tblformal" id="GUID-39D2F826-7460-4439-B410-29E16C0CA0B1__GUID-D1C01B5C-19ED-4124-9C21-6415055443EE">
                           <p class="titleintable">Table 38-2 Summary of File Location Clauses and Initialization Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of File Location Clauses and Initialization Parameters" summary="This table lists each clause and initialization parameter, the precedence order of each, and whether the files will use Oracle Managed Files for each." frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d300602e1184">Clause or Initialization Parameter</th>
                                    <th align="left" valign="bottom" id="d300602e1186">Precedence Order</th>
                                    <th align="left" valign="bottom" id="d300602e1188">Will the Files Created by CREATE PLUGGABLE DATABASE Use Oracle Managed Files?</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e1192" headers="d300602e1184 "><code class="codeph">FILE_NAME_CONVERT</code> clause
                                    </td>
                                    <td align="left" valign="top" headers="d300602e1192 d300602e1186 ">1</td>
                                    <td align="left" valign="top" headers="d300602e1192 d300602e1188 ">No</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e1201" headers="d300602e1184 "><code class="codeph">CREATE_FILE_DEST</code> clause
                                    </td>
                                    <td align="left" valign="top" headers="d300602e1201 d300602e1186 ">2</td>
                                    <td align="left" valign="top" headers="d300602e1201 d300602e1188 ">Yes</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e1210" headers="d300602e1184 "><code class="codeph">DB_CREATE_FILE_DEST</code> initialization parameter
                                    </td>
                                    <td align="left" valign="top" headers="d300602e1210 d300602e1186 ">3</td>
                                    <td align="left" valign="top" headers="d300602e1210 d300602e1188 ">Yes</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e1219" headers="d300602e1184 "><code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                    </td>
                                    <td align="left" valign="top" headers="d300602e1219 d300602e1186 ">4</td>
                                    <td align="left" valign="top" headers="d300602e1219 d300602e1188 ">No</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Regarding the use of Oracle Managed Files, the table only applies to files created by the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement. Files created for the PDB after the PDB has been created might or might not use Oracle Managed Files.
                        </p>
                        <p>In addition, if <code class="codeph">FILE_NAME_CONVERT</code> and <code class="codeph">CREATE_FILE_DEST</code> are both specified in the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, then the <code class="codeph">FILE_NAME_CONVERT</code> setting is used for the files being placed during PDB creation, and the <code class="codeph">CREATE_FILE_DEST</code> setting is used to set the <code class="codeph">DB_CREATE_FILE_DEST</code> initialization parameter in the PDB. In this case, Oracle Managed Files controls the location of the files for the PDB after PDB creation.
                        </p>
                        <div class="infoboxnote" id="GUID-39D2F826-7460-4439-B410-29E16C0CA0B1__GUID-14C2A794-9F27-4778-901F-1494F6E96BD2">
                           <p class="notep1">Note:</p>The <code class="codeph">PATH_PREFIX</code>&nbsp;clause does not affect files created by Oracle Managed Files.
                        </div>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F782A53E-8056-44DC-9C6F-280AA5ADFC1B">FILE_NAME_CONVERT Clause</a><br>If the PDB will not use Oracle Managed Files, then the <code class="codeph">FILE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies how to generate the names of files (such as data files) using the names of existing files.
                           </li>
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B">CREATE_FILE_DEST Clause</a><br>The <code class="codeph">CREATE_FILE_DEST</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement enables Oracle Managed Files for the PDB and specifies the default file system directory or Oracle ASM disk group for the PDB's files. The PDB’s data files and temp files are restricted to the specified directory and its subdirectories.
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-39D2F826-7460-4439-B410-29E16C0CA0B1__GUID-236BADB2-97D0-4E4D-93D5-46205C2F9040">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../refrn/DB_CREATE_FILE_DEST.html#REFRN10034"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">DB_CREATE_FILE_DEST</code> initialization parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <a id="ADMIN13562"></a><a id="ADMIN13561"></a><div class="props_rev_3"><a id="GUID-F782A53E-8056-44DC-9C6F-280AA5ADFC1B" name="GUID-F782A53E-8056-44DC-9C6F-280AA5ADFC1B"></a><h6 id="ADMIN-GUID-F782A53E-8056-44DC-9C6F-280AA5ADFC1B" class="sect6"><span class="enumeration_section">38.1.2.2.1 </span>FILE_NAME_CONVERT Clause
                        </h6>
                        <div>
                           <p>If the PDB will not use Oracle Managed Files, then the <code class="codeph">FILE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies how to generate the names of files (such as data files) using the names of existing files.
                           </p>
                           <p>You can use this clause to specify one of the following options:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>One or more file name patterns and replacement file name patterns, in the following form:</p><pre class="oac_no_warn" dir="ltr">'<span class="italic">string1</span>' , '<span class="italic">string2</span>' , '<span class="italic">string3</span>' , '<span class="italic">string4</span>' , ...
</pre><p>The <span class="italic">string2</span> file name pattern replaces the <span class="italic">string1</span> file name pattern, and the <span class="italic">string4</span> file name pattern replaces the <span class="italic">string3</span> file name pattern. You can use as many pairs of file name pattern and replacement file name pattern strings as required.
                                 </p>
                                 <p>If you specify an odd number of strings (the last string has no corresponding replacement string), then an error is returned. Do not specify more than one pattern/replace string that matches a single file name or directory.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">NONE</code> when no files should be copied or moved during PDB creation. Omitting the <code class="codeph">FILE_NAME_CONVERT</code> clause is the same as specifying <code class="codeph">NONE</code>.
                                 </p>
                              </li>
                           </ul>
                           <p>You can use the <code class="codeph">FILE_NAME_CONVERT</code> clause in any <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                           </p>
                           <p>When the <code class="codeph">FILE_NAME_CONVERT</code> clause is not specified in a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, either Oracle Managed Files or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter specifies how to generate the names of the files. If you use both Oracle Managed Files and the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter, then Oracle Managed Files takes precedence. The <code class="codeph">FILE_NAME_CONVERT</code> clause takes precedence when it is specified.
                           </p>
                           <p>File name patterns specified in the <code class="codeph">FILE_NAME_CONVERT</code> clause cannot match files or directories managed by Oracle Managed Files.
                           </p>
                           <div class="example" id="GUID-F782A53E-8056-44DC-9C6F-280AA5ADFC1B__GUID-079577AE-60A8-409A-A503-1287C2734DB3">
                              <p class="titleinexample">Example 38-3 FILE_NAME_CONVERT Clause</p>
                              <p>This <code class="codeph">FILE_NAME_CONVERT</code> clause generates file names for the new PDB in the /oracle/pdb5 directory using file names in the /oracle/dbs directory.
                              </p><pre class="oac_no_warn" dir="ltr">FILE_NAME_CONVERT = ('/oracle/dbs/', '/oracle/pdb5/')
</pre><div class="infoboxnotealso" id="GUID-F782A53E-8056-44DC-9C6F-280AA5ADFC1B__GUID-CFBC0780-996F-4428-9553-6B38405CCA92">
                                 <p class="notep1">See Also:</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55786"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax of the <code class="codeph">FILE_NAME_CONVERT</code> clause
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">Example 45-7</a></p>
                                    </li>
                                    <li>
                                       <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a></p>
                                    </li>
                                    <li>
                                       <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADMIN14291"></a><a id="ADMIN14290"></a><div class="props_rev_3"><a id="GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B" name="GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B"></a><h6 id="ADMIN-GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B" class="sect6"><span class="enumeration_section">38.1.2.2.2 </span>CREATE_FILE_DEST Clause
                        </h6>
                        <div>
                           <p>The <code class="codeph">CREATE_FILE_DEST</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement enables Oracle Managed Files for the PDB and specifies the default file system directory or Oracle ASM disk group for the PDB's files. The PDB’s data files and temp files are restricted to the specified directory and its subdirectories.
                           </p>
                           <p>If a file system directory is specified as the default location in this clause, then the directory must exist. Also, the user who runs the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement must have the appropriate privileges to create files in the specified directory. Alternatively, you can specify the name of a directory object that exists in the CDB root (<code class="codeph">CDB$ROOT</code>). The directory object points to the file system directory used by <code class="codeph">CREATE_FILE_DEST</code>.
                           </p>
                           <p>If there is a default Oracle Managed Files location for the CDB set in the CDB root, then the <code class="codeph">CREATE_FILE_DEST</code> setting overrides the CDB root’s setting, and the specified <code class="codeph">CREATE_FILE_DEST</code> setting is used for the PDB.
                           </p>
                           <p>If <code class="codeph">CREATE_FILE_DEST=NONE</code> is specified, then Oracle Managed Files is disabled for the PDB.
                           </p>
                           <p>When the <code class="codeph">CREATE_FILE_DEST</code> clause is set to a value other than <code class="codeph">NONE</code>, the <code class="codeph">DB_CREATE_FILE_DEST</code> initialization parameter is set implicitly in the PDB with <code class="codeph">SCOPE=SPFILE</code>.
                           </p>
                           <p>If the CDB root uses Oracle Managed Files, and this clause is not specified, then the PDB inherits the Oracle Managed Files default location from the CDB root.</p>
                           <div class="infoboxnote" id="GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B__GUID-23D6D081-7349-47EF-A944-AE15ECC4E525">
                              <p class="notep1">Note:</p>
                              <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                              </p>
                           </div>
                           <div class="example" id="GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B__GUID-30B5456B-EDF3-410B-8E04-88E3BD83AE46">
                              <p class="titleinexample">Example 38-4 CREATE_FILE_DEST Clause</p>
                              <p>This <code class="codeph">CREATE_FILE_DEST</code> clause specifies /oracle/pdb2/ as the default Oracle Managed Files file system directory for the new PDB.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE_FILE_DEST = '/oracle/pdb2/'
</pre><div class="infoboxnotealso" id="GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B__GUID-FE56E999-A290-44CE-9823-DA4E7BE7F869">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database.">Using Oracle Managed Files</a>"</span></p>
                              </div>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div><a id="ADMIN14087"></a><a id="ADMIN14086"></a><div class="props_rev_3"><a id="GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426" name="GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426"></a><h5 id="ADMIN-GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426" class="sect5"><span class="enumeration_section">38.1.2.3 </span>Restrictions on PDB File Locations
                     </h5>
                     <div>
                        <p>The <code class="codeph">PATH_PREFIX</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement ensures that all directory object paths associated with the PDB are restricted to the specified directory or its subdirectories. It also ensures that the following files associated with the PDB are restricted to specified directory: the Oracle XML repository for the PDB, files created with a <code class="codeph">CREATE PFILE</code> statement, and the export directory for Oracle wallets.
                        </p>
                        <p>Use this clause when you want to ensure that a PDB's files reside in a specific directory and its subdirectories. </p>
                        <p>You can use this clause to specify one of the following options:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An absolute path that is used as a prefix for all file paths associated with the PDB.</p>
                           </li>
                           <li>
                              <p>The name of a directory object that exists in the CDB root (<code class="codeph">CDB$ROOT</code>). The directory object points to the absolute path to be used for <code class="codeph">PATH_PREFIX</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NONE</code> to indicate that there are no restrictions for the file paths. Omitting the <code class="codeph">PATH_PREFIX</code> clause is the same as specifying <code class="codeph">NONE</code>.
                              </p>
                           </li>
                        </ul>
                        <p>After a PDB is created, its <code class="codeph">PATH_PREFIX</code> setting cannot be modified.
                        </p>
                        <p>You can use the <code class="codeph">PATH_PREFIX</code> clause in any <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                        </p>
                        <div class="example" id="GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426__GUID-E5F6A0A0-9D96-47F8-9B9A-B9FBE81691F4">
                           <p class="titleinexample">Example 38-5 PATH_PREFIX Clause</p>
                           <p>This <code class="codeph">PATH_PREFIX</code> clause ensures that all file paths associated with the PDB are restricted to the /disk1/oracle/dbs/salespdb/ directory.
                           </p><pre class="oac_no_warn" dir="ltr">PATH_PREFIX = '/disk1/oracle/dbs/salespdb/'
</pre><p>Be sure to specify the path name so that it is properly formed when file names are appended to it. For example, on UNIX systems, be sure to end the path name with a forward slash (/).</p>
                           <div class="infoboxnote" id="GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426__GUID-14B01E6A-B83F-4A6C-8A9E-E9647551C159">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>After the <code class="codeph">PATH_PREFIX</code> clause is specified for a PDB, existing directory objects might not work as expected, since the <code class="codeph">PATH_PREFIX</code> string is always added as a prefix to all local directory objects in the PDB.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">PATH_PREFIX</code> clause does not affect files created by Oracle Managed Files.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">PATH_PREFIX</code> clause only applies to user-created directory objects. It does not apply to Oracle-supplied directory objects.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">PATH_PREFIX</code> clause does not apply to data files or temporary files. If you are using Oracle Managed Files, then use the <code class="codeph">CREATE_FILE_DEST</code> clause to restrict the locations of data files and temporary files.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnotealso" id="GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426__GUID-D75885C2-686C-4932-A535-BE2BC5A1CEF4">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="overview-of-managing-a-multitenant-environment.html#GUID-A1F3A63E-3BE5-4B80-A053-46D9EF71D45E" title="You can use the Oracle Multitenant option to configure and manage a multitenant environment. The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB) that includes zero, one, or many customer-created pluggable databases (PDBs). A PDB is a portable collection of schemas, schema objects, and nonschema objects that appears to an Oracle Net client as a non-CDB. All Oracle databases before Oracle Database 12c were non-CDBs.">About a Multitenant Environment</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" title="The V$CONTAINERS view provides information about all of the containers in a CDB, including the root and all PDBs.">Viewing Information About the Containers in a CDB</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN13564"></a><a id="ADMIN13563"></a><div class="props_rev_3"><a id="GUID-1691A7A2-372E-4E51-8A4F-15DAC6AB0FC3" name="GUID-1691A7A2-372E-4E51-8A4F-15DAC6AB0FC3"></a><h5 id="ADMIN-GUID-1691A7A2-372E-4E51-8A4F-15DAC6AB0FC3" class="sect5"><span class="enumeration_section">38.1.2.4 </span>Source File Locations When Plugging In an Unplugged PDB
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">...</code> <code class="codeph">USING</code> statement to plug an unplugged PDB into a CDB.
                        </p>
                        <p>You can plug in a PDB by specifying the XML metadata file or by specifying a compressed archive file with a .pdb extension. An archive file includes the XML metadata file and the PDB’s files (such as the data files and wallet file). </p>
                        <p>When you use a .pdb archive file when plugging in a PDB, this file is extracted when you plug in the PDB, and the PDB’s files are placed in the same directory as the .pdb archive file. Therefore, the clauses that specify the source file locations are not required when you use a .pdb archive file.</p>
                        <p>When you specify an XML metadata file when plugging in a PDB, this file describes the names and locations of an unplugged PDB's source files. The XML file might not describe the locations of these files accurately if you transported the unplugged files from one storage system to a different one. The files are in a new location, but the file paths in the XML file still indicate the old location.</p>
                        <p>The <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement has the following clauses that indicate the location of the source files for the new PDB being created:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause specifies how to locate files (such as data files) listed in an XML file describing a PDB if they reside in a location different from that specified in the XML file. The clause contains information about each file listed in the XML file.
                              </p>
                           </li>
                           <li>
                              <p>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), the <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause specifies the source directory of the files that will be used to create the new PDB. The clause specifies a directory that contains all of the files listed in the XML file. Using this clause is convenient when you have a large number of data files and specifying a <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> pattern for each file is not feasible.
                              </p>
                           </li>
                        </ul>
                        <p>Use these clauses only when you are plugging in an unplugged PDB with a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">...</code> <code class="codeph">USING</code> statement with an XML metadata file (not a .pdb archive file). These clauses are mutually exclusive. You cannot use both clauses in a single <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-CD341EDB-8B27-484B-9C55-CF206E2983DD">SOURCE_FILE_NAME_CONVERT Clause</a><br>The <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">...</code> <code class="codeph">USING</code> statement specifies how to locate files (such as data files) listed in an XML file describing a PDB if they reside in a location different from that specified in the XML file. 
                           </li>
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-57A111DC-5D82-47D3-9239-9B8F604528FC">SOURCE_FILE_DIRECTORY Clause</a><br>The <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the source directory of the files that will be used to create the new PDB. The clause specifies a directory that contains all of the files listed in the XML file for the unplugged PDB. 
                           </li>
                        </ul>
                     </div>
                     
                     <div class="sect5"><a id="GUID-CD341EDB-8B27-484B-9C55-CF206E2983DD" name="GUID-CD341EDB-8B27-484B-9C55-CF206E2983DD"></a><h6 id="ADMIN-GUID-CD341EDB-8B27-484B-9C55-CF206E2983DD" class="sect6"><span class="enumeration_section">38.1.2.4.1 </span>SOURCE_FILE_NAME_CONVERT Clause
                        </h6>
                        <div>
                           <p>The <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">...</code> <code class="codeph">USING</code> statement specifies how to locate files (such as data files) listed in an XML file describing a PDB if they reside in a location different from that specified in the XML file. 
                           </p>
                           <p>You can use this clause to specify one of the following options:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>One or more file name patterns and replacement file name patterns, in the following form:</p><pre class="oac_no_warn" dir="ltr">'<span class="italic">string1</span>' , '<span class="italic">string2</span>' , '<span class="italic">string3</span>' , '<span class="italic">string4</span>' , ...
</pre><p>The <span class="italic">string2</span> file name pattern replaces the <span class="italic">string1</span> file name pattern, and the <span class="italic">string4</span> file name pattern replaces the <span class="italic">string3</span> file name pattern. You can use as many pairs of file name pattern and replacement file name pattern strings as required.
                                 </p>
                                 <p>When you use this clause, ensure that the files you want to use for the PDB reside in the replacement file name patterns. Move or copy the files to these locations if necessary.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">NONE</code> when no file names need to be located because the PDB's XML file describes the file names accurately. Omitting the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause is the same as specifying <code class="codeph">NONE</code>.
                                 </p>
                              </li>
                           </ul>
                           <p>You can use the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause only in a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <code class="codeph">USING</code> clause that specifies an XML metadata file. Therefore, you can use this clause only when you are plugging in an unplugged PDB with an XML metadata file. You cannot use this clause when you are plugging in a PDB with a .pdb archive file.
                           </p>
                           <div class="example" id="GUID-CD341EDB-8B27-484B-9C55-CF206E2983DD__GUID-72F60ACF-4573-4252-9993-AC08E183F617">
                              <p class="titleinexample">Example 38-6 SOURCE_FILE_NAME_CONVERT Clause</p>
                              <p>This <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause uses the files in the /disk2/oracle/pdb7 directory instead of the /disk1/oracle/pdb7 directory. In this case, the XML file describing a PDB specifies the /disk1/oracle/pdb7 directory, but the PDB should use the files in the /disk2/oracle/pdb7 directory.
                              </p><pre class="oac_no_warn" dir="ltr">SOURCE_FILE_NAME_CONVERT = ('/disk1/oracle/pdb7/', '/disk2/oracle/pdb7/')
</pre><div class="infoboxnotealso" id="GUID-CD341EDB-8B27-484B-9C55-CF206E2983DD__GUID-36424435-B7BE-4778-85F8-CF6EEE8C55F6">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="You can create a PDB by plugging an unplugged PDB into a CDB.">Creating a PDB by Plugging an Unplugged PDB into a CDB</a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55794"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax of the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                     <div class="props_rev_3"><a id="GUID-57A111DC-5D82-47D3-9239-9B8F604528FC" name="GUID-57A111DC-5D82-47D3-9239-9B8F604528FC"></a><h6 id="ADMIN-GUID-57A111DC-5D82-47D3-9239-9B8F604528FC" class="sect6"><span class="enumeration_section">38.1.2.4.2 </span>SOURCE_FILE_DIRECTORY Clause
                        </h6>
                        <div>
                           <p>The <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the source directory of the files that will be used to create the new PDB. The clause specifies a directory that contains all of the files listed in the XML file for the unplugged PDB. 
                           </p>
                           <p>When you plug in a PDB, if the source files are all present in a single directory, then you can specify the directory name in this clause. The directory is scanned to find the appropriate files based on the unplugged PDB’s XML file. </p>
                           <p>You can use this clause to specify one of the following options:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The absolute path of the source file directory.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">NONE</code> when no files should be copied or moved during PDB creation. Omitting the <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is the same as specifying <code class="codeph">NONE</code>.
                                 </p>
                              </li>
                           </ul>
                           <p></p>
                           <p>You can use the <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause only in a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <code class="codeph">USING</code> clause that specifies an XML metadata file. Therefore, you can use this clause only when you are plugging in an unplugged PDB with an XML metadata file. You cannot use this clause when you are plugging in a PDB with a .pdb archive file.
                           </p>
                           <p>You can specify this clause for configurations that use Oracle Managed Files and for configurations that do not use Oracle Managed Files.</p>
                           <div class="example" id="GUID-57A111DC-5D82-47D3-9239-9B8F604528FC__GUID-079577AE-60A8-409A-A503-1287C2734DB3">
                              <p class="titleinexample">Example 38-7 SOURCE_FILE_DIRECTORY Clause</p>
                              <p>This <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause generates file names for the new PDB by using the source files in the /oracle/pdb5/ directory.
                              </p><pre class="oac_no_warn" dir="ltr">SOURCE_FILE_DIRECTORY = '/oracle/pdb5/'</pre><div class="infoboxnotealso" id="GUID-57A111DC-5D82-47D3-9239-9B8F604528FC__GUID-36424435-B7BE-4778-85F8-CF6EEE8C55F6">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="You can create a PDB by plugging an unplugged PDB into a CDB.">Creating a PDB by Plugging an Unplugged PDB into a CDB</a></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF57048"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax of the <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-6B1CE78D-A6BC-44F7-A74E-61A8E469334E" name="GUID-6B1CE78D-A6BC-44F7-A74E-61A8E469334E"></a><h5 id="ADMIN-GUID-6B1CE78D-A6BC-44F7-A74E-61A8E469334E" class="sect5"><span class="enumeration_section">38.1.2.5 </span>Renaming a Service
                     </h5>
                     <div>
                        <p>The <code class="codeph">SERVICE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement  renames the user-defined services of the new PDB based on the service names of the source PDB.
                        </p>
                        <p> When the service name of a new PDB conflicts with an existing service name in the CDB, plug-in violations can result. Use the <code class="codeph">SERVICE_NAME_CONVERT</code> clause to rename services and avoid these violations.
                        </p>
                        <p>You can use this clause to specify one of the following options:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>One or more service names and replacement service names, in the following form:</p><pre class="oac_no_warn" dir="ltr">'<span class="italic">string1</span>' , '<span class="italic">string2</span>' , '<span class="italic">string3</span>' , '<span class="italic">string4</span>' , ...
</pre><p>The <span class="italic">string2</span> service name replaces the <span class="italic">string1</span> service name, and the <span class="italic">string4</span> service name replaces the <span class="italic">string3</span> service name. You can use as many pairs of service names and replacement service names as required.
                              </p>
                              <p>If you specify an odd number of strings (the last string has no corresponding replacement string), then an error is returned.</p>
                           </li>
                           <li>
                              <p><code class="codeph">NONE</code> when no service names need to be renamed. Omitting the <code class="codeph">SERVICE_NAME_CONVERT</code> clause is the same as specifying <code class="codeph">NONE</code>.
                              </p>
                           </li>
                        </ul>
                        <p>You can use the <code class="codeph">SERVICE_NAME_CONVERT</code> clause in any <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, except for a <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement that creates a PDB from the CDB seed. The CDB seed cannot have user-defined services. However, you can use this statement for a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement that creates an application PDB from an application seed in an application container.
                        </p>
                        <div class="infoboxnote" id="GUID-6B1CE78D-A6BC-44F7-A74E-61A8E469334E__GUID-87561C88-424F-4CDD-A193-7963F06A3C4A">
                           <p class="notep1">Note:</p>This clause does not apply to the default service for the PDB. The default service has the same name as the PDB.
                        </div>
                        <div class="example" id="GUID-6B1CE78D-A6BC-44F7-A74E-61A8E469334E__GUID-72F60ACF-4573-4252-9993-AC08E183F617">
                           <p class="titleinexample">Example 38-8 SERVICE_NAME_CONVERT Clause</p>
                           <p>This <code class="codeph">SERVICE_NAME_CONVERT</code> clause uses renames the <code class="codeph">salesrep</code> service to <code class="codeph">salesperson</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SERVICE_NAME_CONVERT = ('salesrep','salesperson')
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-6B1CE78D-A6BC-44F7-A74E-61A8E469334E__GUID-7A2975A1-9F7E-4DF8-9A26-5899C29BE4CE">
                              <p class="notep1">Note:</p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686"><span><cite>Oracle Database SQL Language Reference</cite></span></a></div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMIN14165"></a><a id="ADMIN14164"></a><div class="props_rev_3"><a id="GUID-EC6BFAB6-F44D-45CF-9565-E899B60B5E35" name="GUID-EC6BFAB6-F44D-45CF-9565-E899B60B5E35"></a><h5 id="ADMIN-GUID-EC6BFAB6-F44D-45CF-9565-E899B60B5E35" class="sect5"><span class="enumeration_section">38.1.2.6 </span>Temp File Reuse
                     </h5>
                     <div>
                        <p>The <code class="codeph">TEMPFILE REUSE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies that an existing temp file in the target location is reused.
                        </p>
                        <p>When you specify this clause, Oracle Database formats the temp file and reuses it. The previous contents of the file are lost. If this clause is specified, and there is no temp file in the target location, then Oracle Database creates a new temp file for the PDB.</p>
                        <p>If you do not specify this clause, then the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement creates a new temp file for the PDB. If a file exists with the same name as the new temp file in the target location, then an error is returned, and the PDB is not created. Therefore, if you do not specify the <code class="codeph">TEMPFILE REUSE</code> clause, then ensure that such a temp file does not exist in the target location.
                        </p>
                        <div class="example" id="GUID-EC6BFAB6-F44D-45CF-9565-E899B60B5E35__GUID-8E8FB0BB-E7AA-4FD2-87E4-F8BA3C48D38A">
                           <p class="titleinexample">Example 38-9 TEMPFILE REUSE Clause</p><pre class="oac_no_warn" dir="ltr">TEMPFILE REUSE</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-5FC7BAB3-65DE-47E2-9ED7-1093ED784A3C" name="GUID-5FC7BAB3-65DE-47E2-9ED7-1093ED784A3C"></a><h5 id="ADMIN-GUID-5FC7BAB3-65DE-47E2-9ED7-1093ED784A3C" class="sect5"><span class="enumeration_section">38.1.2.7 </span>Default Tablespace
                     </h5>
                     <div>
                        <p>The <code class="codeph">DEFAULT TABLESPACE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the default tablespace for the new PDB.
                        </p>
                        <p>Oracle Database will assign the default tablespace to any non-SYSTEM users who do not have a different permanent tablespace specified.</p>
                        <p>When you create the PDB from the CDB seed or an application seed and specify the <code class="codeph">DEFAULT TABLESPACE</code> clause, Oracle Database creates a smallfile tablespace and sets it as the default tablespace for the PDB. When you create the PDB using a method other than the using the CDB seed or application seed, such as cloning a PDB or plugging in an unplugged PDB, the default tablespace must be a tablespace that already exists in the source PDB.
                        </p>
                        <div class="example" id="GUID-5FC7BAB3-65DE-47E2-9ED7-1093ED784A3C__GUID-CA61A650-E722-43E5-BE56-E8DF31AA4E2B">
                           <p class="titleinexample">Example 38-10 DEFAULT TABLESPACE Clause</p><pre class="pre codeblock"><code>DEFAULT TABLESPACE sales</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN14242"></a><a id="ADMIN14243"></a><a id="ADMIN14244"></a><a id="ADMIN14241"></a><div class="props_rev_3"><a id="GUID-1C47D543-8376-48AE-A1AE-632316731D59" name="GUID-1C47D543-8376-48AE-A1AE-632316731D59"></a><h5 id="ADMIN-GUID-1C47D543-8376-48AE-A1AE-632316731D59" class="sect5"><span class="enumeration_section">38.1.2.8 </span>User Tablespaces
                     </h5>
                     <div>
                        <p>The <code class="codeph">USER_TABLESPACES</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies which tablespaces are available in the new PDB. 
                        </p>
                        <p>You can use this clause to separate the data for multiple schemas into different PDBs. For example, when you move a non-CDB to a PDB, and the non-CDB had a number of schemas that each supported a different application, you can use this clause to separate the data belonging to each schema into a separate PDB, assuming that each schema used a separate tablespace in the non-CDB.</p>
                        <p>You can use this clause to specify one of the following options:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>List one or more tablespaces to include.</p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">ALL</code>, the default, to include all of the tablespaces.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> to include all of the tablespaces, except for the tablespaces listed.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">NONE</code> to exclude all of the tablespaces.
                              </p>
                           </li>
                           <li>
                              <p>If the creation mode of the user tablespaces must be different from the creation mode for the Oracle-supplied tablespaces (such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>), then specify one of the following in the <code class="codeph">USER_TABLESPACES</code> clause:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">COPY</code>: The files of the tablespaces are copied to a new location.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MOVE</code>: The files of the tablespaces are moved to a new location.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NOCOPY</code>: The files of the tablespaces are not copied or moved.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SNAPSHOT COPY</code>: The tablespaces are cloned with storage snapshots.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO DATA</code>: The data model definition of the tablespaces is cloned but not the tablespaces’ data.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>When the compatibility level of the CDB is 12.2.0 or higher, the tablespaces that are excluded by this clause are created offline in the new PDB, and they have no data files associated with them. When the compatibility level of the CDB is lower than 12.2.0, the tablespaces that are excluded by this clause are offline in the new PDB, and all data files that belong to these tablespaces are unnamed and offline.</p>
                        <p>This clause does not apply to the <code class="codeph">SYSTEM</code>, <code class="codeph">SYSAUX</code>, or <code class="codeph">TEMP</code> tablespaces. Do not include these tablespaces in a tablespace list for this clause.
                        </p>
                        <p>The following are examples that use the <code class="codeph">USER_TABLESPACES</code> clause.
                        </p>
                        <div class="example" id="GUID-1C47D543-8376-48AE-A1AE-632316731D59__CEGBGECI">
                           <p class="titleinexample">Example 38-11 USER_TABLESPACES Clause That Includes One Tablespace</p>
                           <p>Assume that the non-CDB or PDB from which a PDB is being created includes the following tablespaces: <code class="codeph">tbs1</code>, <code class="codeph">tbs2</code>, and <code class="codeph">tbs3</code>. This <code class="codeph">USER_TABLESPACES</code> clause includes the <code class="codeph">tbs2</code> tablespace, but excludes the <code class="codeph">tbs1</code> and <code class="codeph">tbs3</code> tablespaces.
                           </p><pre class="oac_no_warn" dir="ltr">USER_TABLESPACES=('tbs2')
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-1C47D543-8376-48AE-A1AE-632316731D59__CEGGABAC">
                           <p class="titleinexample">Example 38-12 USER_TABLESPACES Clause That Includes a List of Tablespaces</p>
                           <p>Assume that the non-CDB or PDB from which a PDB is being created includes the following tablespaces: <code class="codeph">tbs1</code>, <code class="codeph">tbs2</code>, <code class="codeph">tbs3</code>, <code class="codeph">tbs4</code>, and <code class="codeph">tbs5</code>. This <code class="codeph">USER_TABLESPACES</code> clause includes the <code class="codeph">tbs1</code>, <code class="codeph">tbs4</code>, and <code class="codeph">tbs5</code> tablespaces, but excludes the <code class="codeph">tbs2</code> and <code class="codeph">tbs3</code> tablespaces.
                           </p><pre class="oac_no_warn" dir="ltr">USER_TABLESPACES=('tbs1','tbs4','tbs5')</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-1C47D543-8376-48AE-A1AE-632316731D59__CEGJFEHH">
                           <p class="titleinexample">Example 38-13 USER_TABLESPACES Clause That Includes All Tablespaces Except for Listed Ones</p>
                           <p>Assume that the non-CDB or PDB from which a PDB is being created includes the following tablespaces: <code class="codeph">tbs1</code>, <code class="codeph">tbs2</code>, <code class="codeph">tbs3</code>, <code class="codeph">tbs4</code>, and <code class="codeph">tbs5</code>. This <code class="codeph">USER_TABLESPACES</code> clause includes the <code class="codeph">tbs2</code> and <code class="codeph">tbs3</code> tablespaces, but excludes the <code class="codeph">tbs1</code>, <code class="codeph">tbs4</code>, and <code class="codeph">tbs5</code> tablespaces.
                           </p><pre class="oac_no_warn" dir="ltr">USER_TABLESPACES=ALL EXCEPT('tbs1','tbs4','tbs5')</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-1C47D543-8376-48AE-A1AE-632316731D59__GUID-4FE9EC7F-C819-4E2D-AA2F-930A68DAB110">
                           <p class="titleinexample">Example 38-14 USER_TABLESPACES in a Different Creation Mode</p>
                           <p>This example shows a full <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement that plugs in a non-CDB and only includes the <code class="codeph">tbs3</code> user tablespace from the non-CDB. The example copies the files for Oracle-supplied tablespaces (such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>) to a new location, but moves the files of the <code class="codeph">tbs3</code> user tablespace.
                           </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE ncdb USING '/disk1/oracle/ncdb.xml'
  COPY
  FILE_NAME_CONVERT = ('/disk1/oracle/dbs/', '/disk2/oracle/ncdb/')
  USER_TABLESPACES=('tbs3') MOVE;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN14246"></a><a id="ADMIN14247"></a><a id="ADMIN14245"></a><div class="props_rev_3"><a id="GUID-ADD3198D-7D05-4026-A30A-F3972A89F779" name="GUID-ADD3198D-7D05-4026-A30A-F3972A89F779"></a><h5 id="ADMIN-GUID-ADD3198D-7D05-4026-A30A-F3972A89F779" class="sect5"><span class="enumeration_section">38.1.2.9 </span>PDB Tablespace Logging
                     </h5>
                     <div>
                        <p>The <span class="italic">logging_clause</span> of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the logging attribute of the PDB. The logging attribute controls whether certain DML operations are logged in the redo log file (<code class="codeph">LOGGING</code>) or not (<code class="codeph">NOLOGGING</code>).
                        </p>
                        <div class="infoboxnote" id="GUID-ADD3198D-7D05-4026-A30A-F3972A89F779__GUID-07F8A135-33EF-476C-BA00-1A69AEA105B8">
                           <p class="notep1">Note:</p>
                           <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                           </p>
                        </div>
                        <p>You can use this clause to specify one of the following attributes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">LOGGING</code>, the default, indicates that any future tablespaces created within the PDB will be created with the <code class="codeph">LOGGING</code> attribute by default.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NOLOGGING</code> indicates that any future tablespaces created within the PDB will be created with the <code class="codeph">NOLOGGING</code> attribute by default.
                              </p>
                           </li>
                        </ul>
                        <p>You can override the default logging attribute by specifying either <code class="codeph">LOGGING</code> or <code class="codeph">NOLOGGING</code> at the schema object level--for example, in a <code class="codeph">CREATE TABLE</code> statement.
                        </p>
                        <p>The specified attribute is used to establish the logging attribute of tablespaces created within the PDB if the <span class="italic">logging_clause</span> is not specified in the <code class="codeph">CREATE TABLESPACE</code> statement.
                        </p>
                        <p>The <code class="codeph">DBA_PDBS</code> view shows the current logging attribute for a PDB.
                        </p>
                        <div class="example" id="GUID-ADD3198D-7D05-4026-A30A-F3972A89F779__GUID-3BD305DE-812C-438E-82AA-A8D83EFC37E1">
                           <p class="titleinexample">Example 38-15 Specifying the LOGGING Attribute for the PDB</p><pre class="oac_no_warn" dir="ltr">LOGGING</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-ADD3198D-7D05-4026-A30A-F3972A89F779__GUID-BCADD99C-308D-4D96-B55C-854F1E38098E">
                           <p class="titleinexample">Example 38-16 Specifying the NOLOGGING Attribute for the PDB</p><pre class="oac_no_warn" dir="ltr">NOLOGGING
</pre><div class="infoboxnotealso" id="GUID-ADD3198D-7D05-4026-A30A-F3972A89F779__GUID-226D7C25-AEFC-4FF4-B0EE-C3786FBEC596">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="managing-tablespaces.html#GUID-A1939693-60AC-4009-B37C-A1D8D1360D49" title="For some database operations, you can control whether the database generates redo records.">Controlling the Writing of Redo Records</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../sqlrf/logging_clause.html#SQLRF30009"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the logging attribute
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN14249"></a><a id="ADMIN14250"></a><a id="ADMIN14248"></a><div class="props_rev_3"><a id="GUID-93484655-B6C5-487B-B89A-5957A26309BE" name="GUID-93484655-B6C5-487B-B89A-5957A26309BE"></a><h5 id="ADMIN-GUID-93484655-B6C5-487B-B89A-5957A26309BE" class="sect5"><span class="enumeration_section">38.1.2.10 </span>PDB Inclusion in Standby CDBs
                     </h5>
                     <div>
                        <p>The <code class="codeph">STANDBYS</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies whether the new PDB is included in standby CDBs.
                        </p>
                        <div class="infoboxnote" id="GUID-93484655-B6C5-487B-B89A-5957A26309BE__GUID-2572FDBF-86B1-44FE-9F7E-AEC00C5644E2">
                           <p class="notep1">Note:</p>
                           <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                           </p>
                        </div>
                        <p>You can specify one of the following values for the <code class="codeph">STANDBYS</code> clause:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALL</code> includes the new PDB in all of the standby CDBs.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALL EXCEPT</code> includes the new PDB in all of the standby CDBs except the specified standby CDBs. If more than one standby CDB is excluded, use a comma-separated list of the excluded standby CDBs.
                              </p>
                           </li>
                           <li>
                              <p>A comma-separated list of the standby CDBs. The new PDB is included in the listed standby CDBs.</p>
                           </li>
                           <li>
                              <p><code class="codeph">NONE</code> excludes the new PDB from all of the standby CDBs.
                              </p>
                           </li>
                        </ul>
                        <p>When a PDB is not included in any of the standby CDBs, the PDB's data files are offline and marked as unnamed on all of the standby CDBs. Any new standby CDBs that are instantiated after the PDB has been created must disable the PDB for recovery explicitly to exclude it from the standby CDB. It is possible to enable a PDB on a standby CDB after it was excluded on that standby CDB.</p>
                        <div class="example" id="GUID-93484655-B6C5-487B-B89A-5957A26309BE__GUID-97D3A442-42A6-4A25-BE12-DF3EB7E9CE13">
                           <p class="titleinexample">Example 38-17 STANDBYS Clause That Includes the New PDB on All Standby CDBs</p><pre class="oac_no_warn" dir="ltr">STANDBYS=ALL</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-93484655-B6C5-487B-B89A-5957A26309BE__GUID-54C2C8FA-E0DA-48D2-AEC1-4C39BC1B18A1">
                           <p class="titleinexample">Example 38-18 STANDBYS Clause That Includes the New PDB on All Standby CDBs Except the Specified Standby CDBs</p>
                           <p>This example shows a <code class="codeph">STANDBYS</code> clause that includes the new PDB in all standby CDBs except standby CDB <code class="codeph">standby1</code> and standby CDB <code class="codeph">standby2</code>.
                           </p><pre class="oac_no_warn" dir="ltr">STANDBYS=ALL EXCEPT('standby1','standby2')</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-93484655-B6C5-487B-B89A-5957A26309BE__GUID-B0602133-2DB2-4665-9CA7-B5E0739FE616">
                           <p class="titleinexample">Example 38-19 STANDBYS Clause That Lists Standby CDBs</p>
                           <p>This example shows a <code class="codeph">STANDBYS</code> clause that includes the new PDB in a list of standby CDBs. The list includes the standby CDBs <code class="codeph">standby1</code>, <code class="codeph">standby2</code>, and <code class="codeph">standby3</code>.
                           </p><pre class="oac_no_warn" dir="ltr">STANDBYS=('standby1','standby2','standby3')</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-93484655-B6C5-487B-B89A-5957A26309BE__GUID-235CE4E2-C66C-49BB-86DF-2B3F99C0DB7F">
                           <p class="titleinexample">Example 38-20 STANDBYS Clause That Excludes the New PDB from All Standby CDBs</p><pre class="oac_no_warn" dir="ltr">STANDBYS=NONE</pre><div class="infoboxnotealso" id="GUID-93484655-B6C5-487B-B89A-5957A26309BE__GUID-24BA8525-B423-4F9F-9BD3-DD33476734EB">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sbydb/creating-oracle-data-guard-physical-standby.html#SBYDB5260"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about configuring PDBs on standby CDBs
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN14330"></a><a id="ADMIN14329"></a><div class="props_rev_3"><a id="GUID-3BB463D5-D152-45FF-AB23-61856FB84C0B" name="GUID-3BB463D5-D152-45FF-AB23-61856FB84C0B"></a><h5 id="ADMIN-GUID-3BB463D5-D152-45FF-AB23-61856FB84C0B" class="sect5"><span class="enumeration_section">38.1.2.11 </span>Excluding Data When Cloning a PDB
                     </h5>
                     <div>
                        <p>The <code class="codeph">NO DATA</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies that a PDB's data model definition is cloned but not the PDB's data.
                        </p>
                        <div class="infoboxnote" id="GUID-3BB463D5-D152-45FF-AB23-61856FB84C0B__GUID-500057F6-ADC8-43D4-B738-9634AEC8B85B">
                           <p class="notep1">Note:</p>
                           <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                           </p>
                        </div>
                        <p>The dictionary data in the source PDB is cloned, but all user-created table and index data from the source PDB is discarded. This clause is useful for quickly creating clones of a PDB with only the object definitions and no data. Use this clause only when you are cloning a PDB with a <code class="codeph">CREATE PLUGGABLE DATABASE ... FROM</code> statement.
                        </p>
                        <p>This clause does not apply to the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces. If user-created database objects in the source PDB are stored in one of these tablespaces, the database objects will contain data in the cloned PDB.
                        </p>
                        <p>When the <code class="codeph">NO DATA</code> clause is included in the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, the source PDB cannot contain the following types of tables:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Advanced Queue (AQ) tables</p>
                           </li>
                           <li>
                              <p>Clustered tables</p>
                           </li>
                           <li>
                              <p>Table clusters</p>
                           </li>
                        </ul>
                        <div class="example" id="GUID-3BB463D5-D152-45FF-AB23-61856FB84C0B__GUID-8FE2B3CE-1A75-4B6F-AA5F-9ECF459BBC1B">
                           <p class="titleinexample">Example 38-21 NO DATA Clause</p><pre class="oac_no_warn" dir="ltr">NO DATA</pre><div class="infoboxnotealso" id="GUID-3BB463D5-D152-45FF-AB23-61856FB84C0B__GUID-97ABAF8B-D9F8-42B8-84DB-C55286E52832">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF57032"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-AD2AEBFC-589D-4221-BCE8-E100296163E2" name="GUID-AD2AEBFC-589D-4221-BCE8-E100296163E2"></a><h5 id="ADMIN-GUID-AD2AEBFC-589D-4221-BCE8-E100296163E2" class="sect5"><span class="enumeration_section">38.1.2.12 </span>Parallelize PDB Creation
                     </h5>
                     <div>
                        <p>The <code class="codeph">PARALLEL</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement specifies whether to use parallel execution servers during PDB creation and, optionally, the degree of parallelism.
                        </p>
                        <p>You can use this clause to make the creation of PDBs faster by using more than one parallel execution server to copy the new PDB’s data files to a new location. When the compatibility level of the CDB is 12.2.0 or higher, the CDB chooses the degree of parallelism to use for PDB creation by default. Alternatively, you can specify the desired degree of parallelism in the clause, but the CDB can ignore the suggestion, depending on the current database load and the number of available parallel execution servers. </p>
                        <p>When a value of 0 or 1 is specified, the CDB does not parallelize the creation of the PDB. Specifying 0 or 1 can result in longer PDB creation time.</p>
                        <p>Use this clause only when you are creating a PDB from the CDB seed or an application seed, or when you are cloning a PDB.</p>
                        <div class="example" id="GUID-AD2AEBFC-589D-4221-BCE8-E100296163E2__GUID-AF4D90BB-B7A3-4246-B444-AD3B52E691DE">
                           <p class="titleinexample">Example 38-22 The CDB Chooses the Degree of Parallelism for PDB Creation</p>
                           <p>Either omit the <code class="codeph">PARALLEL</code> clause or specify the following in the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement:
                           </p><pre class="pre codeblock"><code>PARALLEL</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-AD2AEBFC-589D-4221-BCE8-E100296163E2__GUID-57831614-7F57-4918-85A7-0B0F1F29D902">
                           <p class="titleinexample">Example 38-23 Specify the Degree of Parallelism for PDB Creation</p>
                           <p>This example specifies that the PDB is created with a degree of parallelism of four:</p><pre class="pre codeblock"><code>PARALLEL 4</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-AD2AEBFC-589D-4221-BCE8-E100296163E2__GUID-8BEFE338-DA6C-4860-85E8-9103738C6853">
                           <p class="titleinexample">Example 38-24 Specify That the CDB Does Not Parallelize PDB Creation</p>
                           <p>This example specifies that the PDB is created without parallel processing:</p><pre class="pre codeblock"><code>PARALLEL 1</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-B99FE87D-151B-4350-84B3-BB5E7150E414" name="GUID-B99FE87D-151B-4350-84B3-BB5E7150E414"></a><h5 id="ADMIN-GUID-B99FE87D-151B-4350-84B3-BB5E7150E414" class="sect5"><span class="enumeration_section">38.1.2.13 </span>PDB Refresh
                     </h5>
                     <div>
                        <p>The <code class="codeph">REFRESH MODE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies whether a PDB created as a clone can be refreshed periodically. Each PDB refresh propagates changes from the source PDB to the new PDB.
                        </p>
                        <p> This clause is supported only in a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">...</code> <code class="codeph">FROM</code> statement. You can use this clause to specify one of the following options:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify <code class="codeph">REFRESH MODE NONE</code>, the default, to create a PDB that is not refreshable.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">REFRESH MODE MANUAL</code> to create a refreshable PDB that must be refreshed manually.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">REFRESH MODE EVERY <span class="codeinlineitalic">number_of_minutes</span> MINUTES</code> to create a refreshable PDB that is refreshed automatically after the specified number of minutes has passed. A refreshable PDB that uses automatic refresh can also be refreshed manually.
                              </p>
                           </li>
                        </ul>
                        <p>A refreshable PDB can be opened only in open read-only mode. Also, a refreshable PDB must be closed when a refresh is performed. If it is not closed when automatic refresh is attempted, then the refresh is deferred until the next scheduled refresh. If it is not closed when a user attempts to perform manual refresh, then an error is reported. </p>
                        <p>The refreshable PDB must be kept in read-only mode to prevent out-of-sync changes on the refreshable PDB which do not occur on the source PDB. The refreshable PDB is intended to serve as a clone master and as such must accurately reflect the source PDB at the refreshed point in time.</p>
                        <p>This clause is also supported in an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement that modifies the refresh mode of a refreshable PDB. The <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement can switch from manual refresh to automatic refresh, or from automatic refresh to manual refresh. It can also change the number of minutes between automatic refreshes.
                        </p>
                        <div class="infoboxnote" id="GUID-B99FE87D-151B-4350-84B3-BB5E7150E414__GUID-D010F47C-77A9-4589-AF7C-8DAB7ADEA297">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A refreshable PDB and its source must be in different CDBs. Therefore, a refreshable PDB must be created at a CDB that is remote from the source CDB, and a database link must be specified during the creation.</p>
                              </li>
                              <li>
                                 <p>A PDB that is not refreshable cannot be changed into a refreshable PDB. However, a PDB that is refreshable can be changed into a PDB that is not refreshable by running an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement with <code class="codeph">REFRESH MODE NONE</code> for the PDB.
                                 </p>
                              </li>
                              <li>
                                 <p>When you create a refreshable PDB, you can set the <code class="codeph">REMOTE_RECOVERY_FILE_DEST</code> initialization parameter in the PDB. This initialization parameter specifies a directory from which to read archive log files during refresh operations if the source PDB is not available over its database link.
                                 </p>
                              </li>
                              <li>
                                 <p>If new data files are created in the source PDB, then the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter must be set in the CDB to convert the data file paths from the source PDB to the clone PDB.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="example" id="GUID-B99FE87D-151B-4350-84B3-BB5E7150E414__GUID-A5EAF9C8-DA70-4EFC-B78C-3DD227F864DB">
                           <p class="titleinexample">Example 38-25 A REFRESH MODE Clause That Specifies Automatic Refresh</p>
                           <p>This refresh mode clause specifies that a refreshable PDB is refreshed automatically every two hours (120 minutes):</p><pre class="pre codeblock"><code>REFRESH MODE EVERY 120 MINUTES</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="You can use the CREATE PLUGGABLE DATABASE statement to clone a PDB from a source PDB or from a non-CDB.">About Cloning a PDB</a></li>
                              <li><a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="You can refresh a PDB that was created as a refreshable clone.">Refreshing a PDB</a></li>
                              <li><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-39D2F826-7460-4439-B410-29E16C0CA0B1" title="In the CREATE PLUGGABLE DATABASE statement, you can specify the locations of files used by the new PDB.">File Location of the New PDB</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-01115872-C545-4350-BE0D-54CD580B909F" name="GUID-01115872-C545-4350-BE0D-54CD580B909F"></a><h5 id="ADMIN-GUID-01115872-C545-4350-BE0D-54CD580B909F" class="sect5"><span class="enumeration_section">38.1.2.14 </span>Application Container and Application Seed
                     </h5>
                     <p>With the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, you can create an application container. You can also create an application seed in an application container. 
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B7A9C4B7-14C2-4D92-ACA3-8DAEAF845895">AS APPLICATION CONTAINER Clause</a><br>To create an application container, specify the <code class="codeph">AS APPLICATION CONTAINER</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                           </li>
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-13ECCBC3-9C4E-465E-BEEB-0590988E9125">AS SEED Clause</a><br>To create an application seed in an application container, specify the <code class="codeph">AS SEED</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. 
                           </li>
                        </ul>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways, including using the CDB seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds with SQL*Plus</a></li>
                           </ul>
                        </div>
                     </div>
                     <div class="props_rev_3"><a id="GUID-B7A9C4B7-14C2-4D92-ACA3-8DAEAF845895" name="GUID-B7A9C4B7-14C2-4D92-ACA3-8DAEAF845895"></a><h6 id="ADMIN-GUID-B7A9C4B7-14C2-4D92-ACA3-8DAEAF845895" class="sect6"><span class="enumeration_section">38.1.2.14.1 </span>AS APPLICATION CONTAINER Clause
                        </h6>
                        <div>
                           <p>To create an application container, specify the <code class="codeph">AS APPLICATION CONTAINER</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                           </p>
                           <p>This clause creates an application container (not a PDB). When you include this clause in a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, you can use all of the techniques and clauses that are used for creating a PDB.
                           </p>
                           <p>When you include this clause, the current container must be a CDB root. It cannot be an application root.</p>
                           <div class="example" id="GUID-B7A9C4B7-14C2-4D92-ACA3-8DAEAF845895__GUID-7247A4B9-CA1A-41C6-8E4E-B28F7655B483">
                              <p class="titleinexample">Example 38-26 AS APPLICATION CONTAINER Clause</p><pre class="oac_no_warn" dir="ltr">AS APPLICATION CONTAINER</pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-065649AC-18ED-4858-ACC5-36F011362A83" title="You can create application containers in several different ways, including using the CDB seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove application containers from a CDB.">Creating and Removing Application Containers with SQL*Plus</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="props_rev_3"><a id="GUID-13ECCBC3-9C4E-465E-BEEB-0590988E9125" name="GUID-13ECCBC3-9C4E-465E-BEEB-0590988E9125"></a><h6 id="ADMIN-GUID-13ECCBC3-9C4E-465E-BEEB-0590988E9125" class="sect6"><span class="enumeration_section">38.1.2.14.2 </span>AS SEED Clause
                        </h6>
                        <div>
                           <p>To create an application seed in an application container, specify the <code class="codeph">AS SEED</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. 
                           </p>
                           <p>This clause creates an application seed in an application container. When you include this clause in a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, you can use all of the techniques and clauses that are used for creating a PDB.
                           </p>
                           <p>When you include this clause, the current container must be an application root. It cannot be the CDB root.</p>
                           <p>An application container can have no application seed or one application seed. It cannot have more than one application seed.</p>
                           <p>After an application seed is created, you can use it to create application PDBs in the application container. The application seed provides a quick way to create application PDBs that meet the requirements of the application container.</p>
                           <div class="example" id="GUID-13ECCBC3-9C4E-465E-BEEB-0590988E9125__GUID-7247A4B9-CA1A-41C6-8E4E-B28F7655B483">
                              <p class="titleinexample">Example 38-27 AS SEED Clause</p><pre class="oac_no_warn" dir="ltr">AS SEED</pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-93AAE6F0-7969-4D05-B10B-F2514CB39417" title="You can create application seeds in several different ways, including using the CDB seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove application seeds from application containers.">Creating and Removing Application Seeds with SQL*Plus</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" name="GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB"></a><h5 id="ADMIN-GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" class="sect5"><span class="enumeration_section">38.1.2.15 </span>PDB Listener Host Name and Port Number
                     </h5>
                     <p>The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB. Use the <code class="codeph">PORT</code> clause to specify the PDB’s port number. Use the <code class="codeph">HOST</code> clause to specify the PDB’s host name. 
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-A751F0A6-2949-4E20-BE36-711E682EC53A">HOST Clause</a><br>The <code class="codeph">HOST</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the host name of the listener for the PDB being created.
                           </li>
                           <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921">PORT Clause</a><br>The <code class="codeph">PORT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the port number of the listener for the PDB being created.
                           </li>
                        </ul>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-pdbs-with-sql-plus.html#GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8" title="A PDB that is referenced by a proxy PDB is called a referenced PDB. When the port or host name changes for the listener of the referenced PDB, you must modify the listener settings of the referenced PDB so that its proxy PDBs continue to function properly.">Modifying the Listener Settings of a Referenced PDB</a></li>
                           </ul>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-A751F0A6-2949-4E20-BE36-711E682EC53A" name="GUID-A751F0A6-2949-4E20-BE36-711E682EC53A"></a><h6 id="ADMIN-GUID-A751F0A6-2949-4E20-BE36-711E682EC53A" class="sect6"><span class="enumeration_section">38.1.2.15.1 </span>HOST Clause
                        </h6>
                        <div>
                           <p>The <code class="codeph">HOST</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the host name of the listener for the PDB being created.
                           </p>
                           <p>By default, the host name of the listener is the same as the host name of the PDB being created. Specify the <code class="codeph">HOST</code> clause when both of the following conditions are true:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The host name of the listener is different from the host name of the PDB being created.</p>
                              </li>
                              <li>
                                 <p>You plan to create proxy PDBs that reference the PDB being created.</p>
                              </li>
                           </ul>
                           <p>A proxy PDB uses a database link to establish communication with its referenced PDB. After communication is established, the proxy PDB communicates directly with the referenced PDB without using a database link. The host name of the listener must be correct for the proxy PDB to function properly.</p>
                           <div class="example" id="GUID-A751F0A6-2949-4E20-BE36-711E682EC53A__GUID-697CC292-43B8-4C94-9063-3860FAF02504">
                              <p class="titleinexample">Example 38-28 HOST Clause</p><pre class="pre codeblock"><code>HOST='myhost.example.com'</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB &nbsp;provides access to another PDB in a remote CDB.&nbsp;You can use the CREATE PLUGGABLE DATABASE statement to create a proxy PDB by referencing the other PDB.">About Creating a Proxy PDB</a></li>
                                 <li><a href="administering-pdbs-with-sql-plus.html#GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE" title="When the host name of the listener for a referenced PDB changes, you must run an ALTER PLUGGABLE DATABASE CONTAINERS HOST statement to reset the host name of the referenced PDB so that its proxy PDBs continue to function properly.">Altering the Listener Host Name of a Referenced PDB</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921" name="GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921"></a><h6 id="ADMIN-GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921" class="sect6"><span class="enumeration_section">38.1.2.15.2 </span>PORT Clause
                        </h6>
                        <div>
                           <p>The <code class="codeph">PORT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the port number of the listener for the PDB being created.
                           </p>
                           <p>By default, the port number of the listener for the PDB being created is 1521. Specify the <code class="codeph">PORT</code> clause when both of the following conditions are true:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The port number of the listener is not 1521.</p>
                              </li>
                              <li>
                                 <p>You plan to create proxy PDBs that reference the PDB being created.</p>
                              </li>
                           </ul>
                           <p>A proxy PDB uses a database link to establish communication with its referenced PDB. After communication is established, the proxy PDB communicates directly with the referenced PDB without using a database link. The port number of the listener must be correct for the proxy PDB to function properly.</p>
                           <div class="example" id="GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921__GUID-697CC292-43B8-4C94-9063-3860FAF02504">
                              <p class="titleinexample">Example 38-29 PORT Clause</p><pre class="pre codeblock"><code>PORT=1599</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB &nbsp;provides access to another PDB in a remote CDB.&nbsp;You can use the CREATE PLUGGABLE DATABASE statement to create a proxy PDB by referencing the other PDB.">About Creating a Proxy PDB</a></li>
                                 <li><a href="administering-pdbs-with-sql-plus.html#GUID-19D9ACE5-CBC3-4586-B946-1B3DEBA30582" title="When the port number of the listener for a referenced PDB changes, you must run an ALTER PLUGGABLE DATABASE CONTAINERS PORT statement to reset the port number of the referenced PDB so that its proxy PDBs continue to function properly.">Altering the Listener Port Number of a Referenced PDB</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-87F21FDE-7115-4207-954E-B229C1879EF6" name="GUID-87F21FDE-7115-4207-954E-B229C1879EF6"></a><h4 id="ADMIN-GUID-87F21FDE-7115-4207-954E-B229C1879EF6" class="sect4"><span class="enumeration_section">38.1.3 </span>Summary of Clauses for Creating a PDB
                  </h4>
                  <div>
                     <p>When you create a PDB with the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, various clauses are available to you based on different factors, such as the technique you are using to create the PDB. You can determine which clauses to use by answering a series of questions.  
                     </p>
                     <div class="section">
                        <p>The following table describes which <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clauses you must specify based on different factors.
                        </p>
                        <div class="tblformalwide" id="GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C">
                           <p class="titleintable">Table 38-3 Clauses for Creating a PDB</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Clauses for Creating a PDB" summary="This table describes each clause and when to use each clause." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d300602e3858">Clause</th>
                                    <th align="left" valign="bottom" id="d300602e3860">Can Be Used Only When</th>
                                    <th align="left" valign="bottom" id="d300602e3862">Question</th>
                                    <th align="left" valign="bottom" id="d300602e3864">Yes</th>
                                    <th align="left" valign="bottom" id="d300602e3866">No</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e3870" headers="d300602e3858 ">
                                       <p><code class="codeph">AS APPLICATION CONTAINER</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3870 d300602e3860 ">
                                       <p>Creating an application container in a CDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3870 d300602e3862 ">
                                       <p>Do you want to create an application container instead of a PDB?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3870 d300602e3864 ">
                                       <p>Specify the <code class="codeph">AS APPLICATION CONTAINER</code> clause.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3870 d300602e3866 ">
                                       <p>Omit the <code class="codeph">AS APPLICATION CONTAINER</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e3893" headers="d300602e3858 ">
                                       <p><code class="codeph">AS</code> <code class="codeph">CLONE</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3893 d300602e3860 ">
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3893 d300602e3862 ">
                                       <p>Are you plugging a PDB into a CDB that contains one or more PDBs that were created by plugging in the same PDB?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3893 d300602e3864 ">
                                       <p>Specify the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause to ensure that Oracle Database generates unique PDB DBID, GUID, and other identifiers expected for the new PDB. The PDB is plugged in as a clone of the unplugged PDB to ensure that all of its identifiers are unique.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3893 d300602e3866 ">
                                       <p>Omit the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e3925" headers="d300602e3858 ">
                                       <p><code class="codeph">AS SEED</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3925 d300602e3860 ">
                                       <p>Creating an application seed in an application container</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3925 d300602e3862 ">
                                       <p>Do you want to create an application seed in an application container?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3925 d300602e3864 ">
                                       <p>Specify the <code class="codeph">AS SEED</code> clause.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3925 d300602e3866 ">
                                       <p>Omit the <code class="codeph">AS SEED</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e3948" headers="d300602e3858 ">
                                       <p><code class="codeph">CREATE_FILE_DEST</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3948 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3948 d300602e3862 ">
                                       <p>Do you want to use a <code class="codeph">CREATE_FILE_DEST</code> clause to specify the Oracle Managed Files default location for the PDB's files?
                                       </p>
                                       <p>When creating a PDB from the CDB seed or an application seed, the source files are the files associated with the seed.</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3948 d300602e3864 ">
                                       <p>Include a <code class="codeph">CREATE_FILE_DEST</code> clause that specifies the default file system directory or Oracle ASM disk group for the PDB's files.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e3948 d300602e3866 ">
                                       <p>Omit the <code class="codeph">CREATE_FILE_DEST</code> clause.
                                       </p>
                                       <p>Use one of these techniques to specify the target locations of the files:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">FILE_NAME_CONVERT</code> clause
                                             </p>
                                          </li>
                                          <li>
                                             <p>Enable Oracle Managed Files for the CDB for it to determine the target locations.</p>
                                          </li>
                                          <li>
                                             <p>Specify the target locations in the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-39D2F826-7460-4439-B410-29E16C0CA0B1" title="In the CREATE PLUGGABLE DATABASE statement, you can specify the locations of files used by the new PDB.">File Location of the New PDB</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4018" headers="d300602e3858 ">
                                       <p><code class="codeph">DEFAULT TABLESPACE</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4018 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4018 d300602e3862 ">
                                       <p>Do you want to specify a default permanent tablespace for the PDB?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4018 d300602e3864 ">
                                       <p>Specify a <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause with the appropriate limits.
                                       </p>
                                       <p>Oracle Database will assign to this tablespace any non-<code class="codeph">SYSTEM</code> users for whom you do not specify a different permanent tablespace.
                                       </p>
                                       <p>When creating a PDB from the CDB seed or an application seed, Oracle Database creates a smallfile tablespace and sets it as the default tablespace. When using a technique other than creation from the CDB seed or an application seed, the specified tablespace must exist in the source PDB.</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4018 d300602e3866 ">
                                       <p>Omit the <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause.
                                       </p>
                                       <p>If you do not specify this clause, then the <code class="codeph">SYSTEM</code> tablespace is the default permanent tablespace for non-<code class="codeph">SYSTEM</code> users. Using the <code class="codeph">SYSTEM</code> tablespace for non-<code class="codeph">SYSTEM</code> users is not recommended.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4074" headers="d300602e3858 ">
                                       <p><code class="codeph">FILE_NAME_CONVERT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4074 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Creating a proxy PDB (Only applies to data files in the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces.)
                                       </p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4074 d300602e3862 ">
                                       <p>Do you want to use a <code class="codeph">FILE_NAME_CONVERT</code> clause to specify the target locations of the files?
                                       </p>
                                       <p>When creating a PDB from the CDB seed or an application seed, the source files are the files associated with the seed.</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4074 d300602e3864 ">
                                       <p>Include a <code class="codeph">FILE_NAME_CONVERT</code> clause that specifies the target locations of the files based on the names of the source files.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4074 d300602e3866 ">
                                       <p>Omit the <code class="codeph">FILE_NAME_CONVERT</code> clause.
                                       </p>
                                       <p>Use one of these techniques to specify the target locations of the files:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">CREATE_FILE_DEST</code> clause
                                             </p>
                                          </li>
                                          <li>
                                             <p>Enable Oracle Managed Files for the CDB for it to determine the target locations.</p>
                                          </li>
                                          <li>
                                             <p>Specify the target locations in the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-39D2F826-7460-4439-B410-29E16C0CA0B1" title="In the CREATE PLUGGABLE DATABASE statement, you can specify the locations of files used by the new PDB.">File Location of the New PDB</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4152" headers="d300602e3858 ">
                                       <p><code class="codeph">HOST</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4152 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4152 d300602e3862 ">
                                       <p>Is the PDB a reference PDB with a dependent proxy PDB, and is the host name of its listener changing?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4152 d300602e3864 ">
                                       <p>Include a <code class="codeph">HOST</code> clause and specify the host name of the listener for the PDB being created. For example, you might have a listener network for the physical host name and default port and also have configured a second listener bound to a virtual host name and virtual IP address with a non-default port number.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4152 d300602e3866 ">
                                       <p>Omit the <code class="codeph">HOST</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4182" headers="d300602e3858 ">
                                       <p><span class="italic">logging_clause</span></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4182 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4182 d300602e3862 ">
                                       <p>Do you want to specify the logging attribute of the tablespaces in the new PDB?</p>
                                       <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4182 d300602e3864 ">
                                       <p>Include the <span class="italic">logging_clause</span>.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4182 d300602e3866 ">
                                       <p>Omit the <span class="italic">logging_clause</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4214" headers="d300602e3858 ">
                                       <p><code class="codeph">NOCOPY</code>, <code class="codeph">COPY</code>, <code class="codeph">MOVE</code></p>
                                       <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-39D2F826-7460-4439-B410-29E16C0CA0B1" title="In the CREATE PLUGGABLE DATABASE statement, you can specify the locations of files used by the new PDB.">File Location of the New PDB</a>"</span>.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4214 d300602e3860 ">
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4214 d300602e3862 ">
                                       <p>Do you want to copy or move the files to a new location?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4214 d300602e3864 ">
                                       <p>Specify <code class="codeph">COPY</code> to copy the files to a new location. <code class="codeph">COPY</code> is the default. Specify <code class="codeph">MOVE</code> to move the files to a new location. Use one of these techniques to specify the target location:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Include a <code class="codeph">FILE_NAME_CONVERT</code> clause that specifies the target locations based on the names of the source files.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Include a <code class="codeph">CREATE_FILE_DEST</code> clause that specifies the Oracle Managed Files default location for the PDB's files.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Enable Oracle Managed Files for it to determine the target locations.</p>
                                          </li>
                                          <li>
                                             <p>Specify the target locations in the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4214 d300602e3866 ">
                                       <p>Specify <code class="codeph">NOCOPY</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4290" headers="d300602e3858 ">
                                       <p><code class="codeph">NO DATA</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4290 d300602e3860 ">
                                       <p>Cloning a PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4290 d300602e3862 ">
                                       <p>Do you want to specify that the data model definition of the source PDB is cloned but not the data of the source PDB?</p>
                                       <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4290 d300602e3864 ">
                                       <p>Include the <code class="codeph">NO DATA</code> clause.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4290 d300602e3866 ">
                                       <p>Omit the <code class="codeph">NO DATA</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4318" headers="d300602e3858 ">
                                       <p><code class="codeph">PARALLEL</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4318 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4318 d300602e3862 ">
                                       <p>Do you want to use multiple parallel execution servers to parallelize PDB creation?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4318 d300602e3864 ">
                                       <p>To let the CDB choose the degree of parallelism, include or omit the <code class="codeph">PARALLEL</code> clause.
                                       </p>
                                       <p>To specify the degree of parallelism, specify the <code class="codeph">PARALLEL</code> clause with an integer. For example, specify <code class="codeph">PARALLEL 4</code> to indicate a degree of parallelism of 4.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4318 d300602e3866 ">Specify <code class="codeph">PARALLEL 0</code> or <code class="codeph">PARALLEL 1</code>.
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4354" headers="d300602e3858 ">
                                       <p><code class="codeph">PATH_PREFIX</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4354 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4354 d300602e3862 ">
                                       <p>Do you want to use a <code class="codeph">PATH_PREFIX</code> clause to restrict file paths for the PDB for the following: directory objects, the Oracle XML repository for the PDB, files created with a <code class="codeph">CREATE PFILE</code> statement, and the export directory for Oracle wallets?
                                       </p>
                                       <p>The <code class="codeph">PATH_PREFIX</code> clause does not affect files created by Oracle Managed Files.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4354 d300602e3864 ">
                                       <p>Include a <code class="codeph">PATH_PREFIX</code> clause that specifies an absolute path.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4354 d300602e3866 ">
                                       <p>Set the <code class="codeph">PATH_PREFIX</code> clause to <code class="codeph">NONE</code> or omit it.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4397" headers="d300602e3858 ">
                                       <p><code class="codeph">PORT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4397 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4397 d300602e3862 ">
                                       <p>Is the PDB a reference PDB with a dependent proxy PDB, and is the port number of its listener changing to a value other than 1521?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4397 d300602e3864 ">
                                       <p>Include a <code class="codeph">PORT</code> clause and specify the port number of the listener for the PDB being created. For example, you might have a listener network for the physical host name and default port and also have configured a second listener bound to a virtual host name and virtual IP address with a non-default port number.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4397 d300602e3866 ">
                                       <p>Omit the <code class="codeph">PORT</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4427" headers="d300602e3858 ">
                                       <p><code class="codeph">REFRESH MODE</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4427 d300602e3860 ">
                                       <p>Cloning a PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4427 d300602e3862 ">
                                       <p>Do you want to be able to refresh the PDB to propagate changes from the source PDB to the clone PDB?</p>
                                       <p>A refreshable PDB must be opened in open read-only mode.</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4427 d300602e3864 ">
                                       <p>Include a <code class="codeph">REFRESH MODE MANUAL</code> or <code class="codeph">REFRESH MODE EVERY <span class="codeinlineitalic">minutes</span></code> clause.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4427 d300602e3866 ">
                                       <p>Omit the <code class="codeph">REFRESH MODE</code> clause or include a <code class="codeph">REFRESH MODE NONE</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4460" headers="d300602e3858 ">
                                       <p><code class="codeph">ROLES</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4460 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Creating a proxy PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4460 d300602e3862 ">
                                       <p>Do you want to grant predefined Oracle roles to the <code class="codeph">PDB_DBA</code> role locally in the PDB?
                                       </p>
                                       <p>The new administrator for the PDB is granted the <code class="codeph">PDB_DBA</code> common role locally in the PDB. By default, the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement does not grant the administrator or the role any privileges.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4460 d300602e3864 ">
                                       <p>Include the <code class="codeph">ROLES</code> clause and specify the predefined Oracle roles to grant to the <code class="codeph">PDB_DBA</code> role. The specified roles are granted to the <code class="codeph">PDB_DBA</code> role locally in the PDB. The user who runs the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement does not need to be granted the specified roles. See <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG4414"><span class="italic">Oracle Database Security Guide</span></a> for information about predefined Oracle roles.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4460 d300602e3866 ">
                                       <p>Omit the <code class="codeph">ROLES</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4523" headers="d300602e3858 ">
                                       <p><code class="codeph">SERVICE_NAME_CONVERT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4523 d300602e3860 ">
                                       <p>Creating a PDB from the application seed, but not a CDB seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Creating a proxy PDB (Only applies to data files in the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces.)
                                       </p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4523 d300602e3862 ">
                                       <p>Do you want to use a <code class="codeph">SERVICE_NAME_CONVERT</code> clause to rename the user-defined services of the new PDB based on the service names of the source PDB?
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4523 d300602e3864 ">
                                       <p>Include a <code class="codeph">SERVICE_NAME_CONVERT</code> clause that specifies the new name of a service and the service name it is replacing. Specify multiple service names and replacement service names if necessary.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4523 d300602e3866 ">
                                       <p>Omit the <code class="codeph">SERVICE_NAME_CONVERT</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4563" headers="d300602e3858 ">
                                       <p><code class="codeph">SNAPSHOT COPY</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4563 d300602e3860 ">
                                       <p>Cloning a PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4563 d300602e3862 ">
                                       <p>Do you want to clone a PDB using a storage snapshot?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4563 d300602e3864 ">
                                       <p>Specify a <code class="codeph">SNAPSHOT COPY</code> clause to indicate that cloning is to be performed using storage snapshots.
                                       </p>
                                       <p>Creating a PDB clone with storage snapshots makes creating a clone nearly instantaneous because it does not require copying the source PDB's data files. <code class="codeph">SNAPSHOT</code> <code class="codeph">COPY</code> is supported only if the underlying file system supports storage snapshots.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4563 d300602e3866 ">
                                       <p>Omit the <code class="codeph">SNAPSHOT COPY</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4594" headers="d300602e3858 ">
                                       <p><code class="codeph">SOURCE_FILE_DIRECTORY</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4594 d300602e3860 ">
                                       <p>Plugging in an unplugged PDB using an XML file directly.</p>
                                       <p>This clause does not apply to plugging in an unplugged PDB with a .pdb archive file.</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4594 d300602e3862 ">
                                       <p>Are all of the source files in a single directory with new file names that would require multiple <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> entries?
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4594 d300602e3864 ">
                                       <p>Specify the <code class="codeph">SOURCE_FILE_DIRECTORY</code> with the full absolute path to the source files.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4594 d300602e3866 ">
                                       <p>Omit the <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4622" headers="d300602e3858 ">
                                       <p><code class="codeph">SOURCE_FILE_NAME_CONVERT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4622 d300602e3860 ">
                                       <p>Plugging in an unplugged PDB using an XML file directly.</p>
                                       <p>This clause does not apply to plugging in an unplugged PDB with a .pdb archive file.</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4622 d300602e3862 ">
                                       <p>Do the contents of the XML file accurately describe the locations of the source files?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4622 d300602e3864 ">
                                       <p>Omit the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4622 d300602e3866 ">
                                       <p>Use the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause to specify the source file locations.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4647" headers="d300602e3858 ">
                                       <p><code class="codeph">STANDBYS</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4647 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4647 d300602e3862 ">
                                       <p>Do you want to include the new PDB in one or more standby CDBs?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4647 d300602e3864 ">
                                       <p>Specify <code class="codeph">ALL</code>, <code class="codeph">ALL EXCEPT</code>, or a list of standby CDBs.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4647 d300602e3866 ">
                                       <p>Omit the <code class="codeph">STANDBYS</code> clause or specify <code class="codeph">NONE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4682" headers="d300602e3858 ">
                                       <p><code class="codeph">STORAGE</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4682 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4682 d300602e3862 ">
                                       <p>Do you want to limit the amount of storage that the PDB can use?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4682 d300602e3864 ">
                                       <p>Specify a <code class="codeph">STORAGE</code> clause with the appropriate limits.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4682 d300602e3866 ">
                                       <p>Omit the <code class="codeph">STORAGE</code> clause, or specify unlimited storage using the <code class="codeph">STORAGE</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4714" headers="d300602e3858 ">
                                       <p><code class="codeph">TEMPFILE REUSE</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4714 d300602e3860 ">
                                       <p>Creating a PDB from the CDB seed or an application seed</p>
                                       <p>Cloning a PDB</p>
                                       <p>Relocating a PDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4714 d300602e3862 ">
                                       <p>Do you want to reuse the temp file if a temp file exists in the target location?</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4714 d300602e3864 ">
                                       <p>Include the <code class="codeph">TEMPFILE REUSE</code> clause.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4714 d300602e3866 ">
                                       <p>Omit the <code class="codeph">TEMPFILE REUSE</code> clause.
                                       </p>
                                       <p>Ensure that there is no file with the same name as the new temp file in the target location.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d300602e4746" headers="d300602e3858 ">
                                       <p><code class="codeph">USER_TABLESPACES</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4746 d300602e3860 ">
                                       <p>Cloning a non-CDB</p>
                                       <p>Plugging in an unplugged PDB</p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4746 d300602e3862 ">
                                       <p>Do you want to specify which tablespaces are included in the new PDB and which tablespaces are excluded from the new PDB?</p>
                                       <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4746 d300602e3864 ">
                                       <p>Include the <code class="codeph">USER_TABLESPACES</code> clause and specify the tablespaces that are included in the new PDB.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d300602e4746 d300602e3866 ">
                                       <p>Omit the <code class="codeph">USER_TABLESPACES</code> clause.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADMIN13565"></a><div class="props_rev_3"><a id="GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" name="GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6"></a><h3 id="ADMIN-GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" class="sect3"><span class="enumeration_section">38.2 </span>Preparing for PDBs
               </h3>
               <div>
                  <p>Prerequisites must be met before creating a PDB.</p>
                  <div class="section">
                     <p>Ensure that the following prerequisites are met before creating a PDB:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The CDB must exist.</p>
                           <p>See <span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning for CDB creation, creating the CDB, and optionally configuring EM Express for the CDB."> Creating and Configuring a CDB</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>The CDB must be in read/write mode.</p>
                        </li>
                        <li>
                           <p>The current user must be a common user whose current container is the CDB root or an application container.</p>
                        </li>
                        <li>
                           <p>The current user must have the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> system privilege.
                           </p>
                        </li>
                        <li>
                           <p>You must decide on a unique container name for each container. Each container name must be unique in a single CDB, and each container name must be unique within the scope of all the CDBs whose instances are reached through a specific listener.</p>
                           <p>The PDB name is used to distinguish a PDB from other PDBs in the CDB. PDB names follow the same rules as service names, which includes being case-insensitive. See <a href="../netrf/syntax-rules-configuration-files.html#NETRF175"><span class="italic">Oracle Database Net Services Reference</span></a> for information about the rules for service names.
                           </p>
                        </li>
                        <li>
                           <p>If you are creating a PDB in an Oracle Data Guard configuration with a physical standby database, then additional tasks must be completed before creating a PDB. See <a href="../sbydb/creating-oracle-data-guard-physical-standby.html#SBYDB5260"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>If you are creating a PDB that includes data that was encrypted with Transparent Data Encryption, then follow the instructions in <a href="../asoag/using-transparent-data-encryption-with-other-oracle-features.html#ASOAG10441"><span class="italic">Oracle Database Advanced Security Guide</span></a>.
                           </p>
                        </li>
                        <li>
                           <p>If you are creating a Database Vault-enabled PDB, then follow the instructions in <a href="../dvadm/dba-operations-in-an-oracle-database-vault-environment.html#DVADM71354"><span class="italic">Oracle Database Vault Administrator's Guide</span></a>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6__GUID-131F45BE-A227-4915-8F08-278BD2B69F72">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADMIN13566"></a><div class="props_rev_3"><a id="GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" name="GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B"></a><h3 id="ADMIN-GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" class="sect3"><span class="enumeration_section">38.3 </span>Creating a PDB Using the Seed
               </h3>
               <div>
                  <p>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a PDB in a CDB using the files of the CDB seed. You can also use this statement to create an application PDB in an application container using the files of an application seed or a CDB seed. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F">About Creating a PDB from the Seed</a><br>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a new PDB by using the files of the CDB seed or an application PDB from the files of an application seed or the CDB seed.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0">Creating a PDB from the Seed</a><br>Using the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, you can create a PDB from the CDB seed, and you can create an application PDB from an application seed or the CDB seed.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B__GUID-A1CEB6C9-32FA-4FCB-9419-ED0A7093DA90">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement
                     </p>
                  </div>
               </div>
               <a id="ADMIN13752"></a><a id="ADMIN13567"></a><a id="ADMIN13552"></a><div class="props_rev_3"><a id="GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F" name="GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F"></a><h4 id="ADMIN-GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F" class="sect4"><span class="enumeration_section">38.3.1 </span>About Creating a PDB from the Seed
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a new PDB by using the files of the CDB seed or an application PDB from the files of an application seed or the CDB seed.
                     </p>
                     <p>The statement copies these files to a new location and associates them with the new PDB. <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F__CEGIEGHI">Figure 38-2</a> illustrates how this technique creates a new PDB in a CDB with the CDB root as the current container.
                     </p>
                     <div class="figure" id="GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F__CEGIEGHI">
                        <p class="titleinfigure">Figure 38-2 Create a PDB in the CDB Root Using the CDB Seed Files</p><img src="img/admin089.png" width="498" alt="Description of Figure 38-2 follows" title="Description of Figure 38-2 follows" longdesc="img_text/admin089.html"><br><a href="img_text/admin089.html">Description of "Figure 38-2 Create a PDB in the CDB Root Using the CDB Seed Files"</a></div>
                     <!-- class="figure" -->
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F__CREATEAPDBINANAPPLICATIONROOTUSINGT-7B319492">Figure 38-3</a>  illustrates how this technique creates a new application PDB in an application container with the application root as the current container.
                     </p>
                     <div class="figure" id="GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F__CREATEAPDBINANAPPLICATIONROOTUSINGT-7B319492">
                        <p class="titleinfigure">Figure 38-3 Create a PDB in an Application Root Using the Application Seed Files</p><img src="img/admin114.png" alt="Description of Figure 38-3 follows" title="Description of Figure 38-3 follows" longdesc="img_text/admin114.html"><br><a href="img_text/admin114.html">Description of "Figure 38-3 Create a PDB in an Application Root Using the Application Seed Files"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F__GUID-4A698E19-D3B9-4FE0-B052-16AD99D625B2">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="You use the CREATE PLUGGABLE DATABASE statement to create a PDB. To use this statement, you must understand the clauses for the statement and when to use each clause.">The CREATE PLUGGABLE DATABASE Statement</a>"</span></p>
                     </div>
                     <p>When an application container includes an application seed, and a the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run in the application root to create an application PDB from the seed, the application PDB is created using the application seed. However, when an application container does not include an application seed, and a the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run in the application root to create an application PDB from the seed, the application PDB is created using the CDB seed (<code class="codeph">PDB$SEED</code> ).
                     </p>
                     <p>When you create a new PDB or application PDB from the seed, you must specify an administrator for the PDB or application PDB in the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. The statement creates the administrator as a local user in the PDB and grants the <code class="codeph">PDB_DBA</code> role locally to the administrator.
                     </p>
                     <p>When you create a PDB using the CDB seed or an application seed, you must address the questions that apply to creating a PDB from the seed in <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="This table describes each clause and when to use each clause.">Table 38-3</a>. The table describes which <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clauses you must specify based on different factors.
                     </p>
                     <div class="infoboxnotealso" id="GUID-534B3B1D-0ED7-4828-9CA4-B1757398801F__GUID-B85DDF72-9FDA-49D1-B5D9-3101FFE555A6">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-88E61123-F651-47D7-9977-B589268EBD29" title="You create an application PDB by running the CREATE&nbsp;PLUGGABLE&nbsp;DATABASE&nbsp;statement with an application root as the current container.">Creating an Application PDB</a>"</span></p>
                     </div>
                  </div>
               </div><a id="ADMIN13569"></a><a id="ADMIN13570"></a><a id="ADMIN13967"></a><a id="ADMIN13571"></a><a id="ADMIN13850"></a><div class="props_rev_3"><a id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0" name="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0"></a><h4 id="ADMIN-GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0" class="sect4"><span class="enumeration_section">38.3.2 </span>Creating a PDB from the Seed
                  </h4>
                  <div>
                     <p>Using the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, you can create a PDB from the CDB seed, and you can create an application PDB from an application seed or the CDB seed.
                     </p>
                     <div class="section">
                        <p> Before creating a PDB from the CDB seed (<code class="codeph">PDB$SEED</code>) or an application PDB from an application seed or the CDB seed, complete the prerequisites described in <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Prerequisites must be met before creating a PDB.">Preparing for PDBs</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To create a PDB from the seed:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the CDB root or an application root.</p>
                              <p>When the current container is the CDB root, the PDB is created in the CDB using the files of the CDB seed.</p>
                              <p>When the current container is an application root, the application PDB is created in the application container using the files of the application seed. If there is no application seed in the application container, then the application PDB is created in the application container using the files of the CDB seed.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, and specify a local administrator for the PDB. Specify other clauses when they are required.
                              </p>
                              <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__CEGHJADJ">Examples of Creating a PDB from the Seed</a>"</span>.
                              </p>
                              <p>After you create the PDB, it is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                              </p>
                              <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Open the new PDB in read/write mode.</p>
                              <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                              </p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Back up the PDB.</p>
                              <p>A PDB cannot be recovered unless it is backed up.</p>
                              <p><a href="../bradv/backing-up-database.html#BRADV428"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A local user with the name of the specified local administrator is created and granted the <code class="codeph">PDB_DBA</code> common role locally in the PDB. If this user was not granted administrator privileges during PDB creation, then use the <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> common users to administer to the PDB.
                        </p>
                        <div class="infoboxnote" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__GUID-28213FB2-1F59-4120-8E8F-F58453AA7D8D">
                           <p class="notep1">Note:</p>
                           <p>If an error is returned during PDB creation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__CEGHJADJ">
                        <p class="subhead3">Examples of Creating a PDB from the Seed</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples create a new PDB named <code class="codeph">salespdb</code> and a <code class="codeph">salesadm</code> local administrator given different factors.
                        </p>
                        <p>In addition to creating the <code class="codeph">salespdb</code> PDB, this statement grants the <code class="codeph">PDB_DBA</code> role to the PDB administrator <code class="codeph">salesadm</code> and grants the specified predefined Oracle roles to the <code class="codeph">PDB_DBA</code> role locally in the PDB.
                        </p>
                        <p>In each example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the current container is the CDB root, the new PDB is created in the CDB root.</p>
                           </li>
                           <li>
                              <p>When the current container is an application root in an application container, the new PDB is created as an application PDB in the application root.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__CEGEGBEE">
                        <p class="titleinexample">Example 38-30 Creating a PDB Using No Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The PDB does not require a default tablespace.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled for the CDB, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files associated with the CDB seed or application seed will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>No&nbsp;predefined Oracle roles need to be granted to the <code class="codeph">PDB_DBA</code> role.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement creates the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb ADMIN USER salesadm IDENTIFIED BY <span class="italic">password</span>;
</pre><div class="infoboxnotealso" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__GUID-8A0A606A-1CD2-4DA4-A329-3362FBBB6664">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-authentication.html#DBSEG33223"><span class="italic">Oracle Database Security Guide</span></a> for guidelines about choosing passwords
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__CEGJJIED">
                        <p class="titleinexample">Example 38-31 Creating a PDB and Granting Predefined Oracle Roles to the PDB Administrator</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The PDB does not require a default tablespace.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files associated with the CDB seed or application seed will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PDB_DBA</code> role should be granted the following predefined Oracle role locally: <code class="codeph">DBA</code>.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement creates the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb ADMIN USER salesadm IDENTIFIED BY <span class="italic">password</span>
  ROLES=(DBA);
</pre><div class="infoboxnotealso" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__GUID-B1D7FA5D-FF53-4CF6-A9EA-65C27C24A7CE">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-authentication.html#DBSEG33223"><span class="italic">Oracle Database Security Guide</span></a> for guidelines about choosing passwords
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__CEGDIFGG">
                        <p class="titleinexample">Example 38-32 Creating a PDB Using the STORAGE, DEFAULT TABLESPACE, PATH_PREFIX, and FILE_NAME_CONVERT Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Storage limits must be enforced for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is required. Specifically, all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                              </p>
                           </li>
                           <li>
                              <p>A default permanent tablespace is required for any non-administrative users for which you do not specify a different permanent tablespace. Specifically, this example creates a default permanent tablespace named <code class="codeph">sales</code> with the following characteristics:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The single data file for the tablespace is <code class="codeph">sales01.dbf</code>, and the statement creates it in the /disk1/oracle/dbs/salespdb directory.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">SIZE</code> clause specifies that the initial size of the tablespace is 250 megabytes.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">AUTOEXTEND</code> clause enables automatic extension for the file.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The path prefix must be added to the PDB's directory object paths. Therefore, the <code class="codeph">PATH_PREFIX</code> clause is required. In this example, the path prefix /disk1/oracle/dbs/salespdb/ is added to the PDB’s directory object paths.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause will not be used, Oracle Managed Files is not enabled, and the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is not set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is required. Specify the location of the data files for the CDB seed or application seed on your system. In this example, Oracle Database copies the files from /disk1/oracle/dbs/pdbseed to /disk1/oracle/dbs/salespdb.
                              </p>
                              <p>To view the location of the data files for the CDB seed or application seed, run the query in <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">Example 45-7</a>.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>No&nbsp;predefined Oracle roles need to be granted to the <code class="codeph">PDB_DBA</code> role.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement creates the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb ADMIN USER salesadm IDENTIFIED BY <span class="italic">password</span>
  STORAGE (MAXSIZE 2G)
  DEFAULT TABLESPACE sales 
    DATAFILE '/disk1/oracle/dbs/salespdb/sales01.dbf' SIZE 250M AUTOEXTEND ON
  PATH_PREFIX = '/disk1/oracle/dbs/salespdb/'
  FILE_NAME_CONVERT = ('/disk1/oracle/dbs/pdbseed/', '/disk1/oracle/dbs/salespdb/');
</pre><div class="infoboxnotealso" id="GUID-F462EB77-4D25-42E5-B919-42B283CE6CF0__GUID-83DD7E1C-C78F-44F4-8265-1FEE02E161FF">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/CREATE-DATABASE.html#SQLRF53869"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-authentication.html#DBSEG33223"><span class="italic">Oracle Database Security Guide</span></a> for guidelines about choosing passwords
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADMIN13583"></a><div class="props_rev_3"><a id="GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" name="GUID-05702CEB-A43C-452C-8081-4CA68DDA8007"></a><h3 id="ADMIN-GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" class="sect3"><span class="enumeration_section">38.4 </span>Creating a PDB by Cloning an Existing PDB or Non-CDB
               </h3>
               <div>
                  <p>You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.</p>
                  <div class="infoboxnote" id="GUID-05702CEB-A43C-452C-8081-4CA68DDA8007__GUID-6CEAF855-0324-4274-A807-9AFB5763448C">
                     <p class="notep1">Note:</p>
                     <p>Creating a PDB by cloning a non-CDB is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B">About Cloning a PDB</a><br>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to clone a PDB from a source PDB or from a non-CDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B39552A6-9206-40FE-B168-962215C7E743">Cloning a Local PDB</a><br>This section describes cloning a local PDB. After cloning a local PDB, the source and target PDBs are in the same CDB. 
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F">Cloning a Remote PDB or Non-CDB</a><br>You can create a PDB by cloning a remote source. The remote source can be a remote PDB or non-CDB. After the cloning operation is complete, the source and the target PDB are in different locations. 
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396">After Cloning a PDB</a><br>Certain rules regarding users and tablespaces apply after cloning a PDB.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN13754"></a><a id="ADMIN13755"></a><a id="ADMIN14321"></a><a id="ADMIN13585"></a><a id="ADMIN14166"></a><a id="ADMIN13584"></a><div class="props_rev_3"><a id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" name="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B"></a><h4 id="ADMIN-GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" class="sect4"><span class="enumeration_section">38.4.1 </span>About Cloning a PDB
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to clone a PDB from a source PDB or from a non-CDB.
                     </p>
                     <p>This technique clones a source PDB or non-CDB as a new PDB and automatically plugs the clone into the CDB. To use this technique, you must include a <code class="codeph">FROM</code> clause that specifies the source.
                     </p>
                     <p>The source is the existing PDB or non-CDB that is copied. The target PDB is the clone of the source. The source can be a PDB in the local CDB, a PDB in a remote CDB, or a non-CDB. The <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement copies the files associated with the source to a new location and associates the files with the target PDB. When the CDB is in <code class="codeph">ARCHIVELOG</code> mode and local undo mode, the source PDB can be opened in read/write mode and fully functional during the operation.&nbsp;Therefore, hot PDB cloning is supported.
                     </p>
                     <p>One use of cloning is for testing. Cloning enables you to create one or more clones of a PDB or non-CDB and safely test them in isolation. For example, you might test a new or modified application on a cloned PDB before using the application with a production PDB.</p>
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGGCIDD">Figure 38-4</a> illustrates how this technique creates a new PDB when the source is a local PDB.
                     </p>
                     <div class="figure" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGGCIDD">
                        <p class="titleinfigure">Figure 38-4 Clone a Local PDB</p><img src="img/admin091.png" width="484" alt="Description of Figure 38-4 follows" title="Description of Figure 38-4 follows" longdesc="img_text/admin091.html"><br><a href="img_text/admin091.html">Description of "Figure 38-4 Clone a Local PDB"</a></div>
                     <!-- class="figure" -->
                     <p>When the source is a PDB is in a remote CDB, you must use a database link to clone the PDB. The database link must be created in the CDB that will contain the cloned PDB. When you issue the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement from the root of the CDB that will contain the new PDB, you must specify a database link to the remote CDB that contains the PDB being cloned in the <code class="codeph">FROM</code> clause. The database link connects either to the root of the remote CDB or to the remote source PDB from the CDB that will contain the new PDB. 
                     </p>
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGHBGGJ">Figure 38-5</a> illustrates how this technique creates a new PDB when the source PDB is remote.
                     </p>
                     <div class="figure" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGHBGGJ">
                        <p class="titleinfigure">Figure 38-5 Creating a PDB by Cloning a Remote PDB</p><img src="img/admin092.png" width="587" alt="Description of Figure 38-5 follows" title="Description of Figure 38-5 follows" longdesc="img_text/admin092.html"><br><a href="img_text/admin092.html">Description of "Figure 38-5 Creating a PDB by Cloning a Remote PDB"</a></div>
                     <!-- class="figure" -->
                     <p>When the source is a non-CDB, you must specify a database link to the non-CDB in the <code class="codeph">FROM</code> clause. <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGJIEAI">Figure 38-6</a> illustrates how this technique creates a new PDB when the source is a remote non-CDB.
                     </p>
                     <div class="figure" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGJIEAI">
                        <p class="titleinfigure">Figure 38-6 Creating a PDB by Cloning a Non-CDB</p><img src="img/admin108.png" alt="Description of Figure 38-6 follows" title="Description of Figure 38-6 follows" longdesc="img_text/admin108.html"><br><a href="img_text/admin108.html">Description of "Figure 38-6 Creating a PDB by Cloning a Non-CDB"</a></div>
                     <!-- class="figure" -->
                     <p>In all cloning scenarios (local, remote, and from a non-CDB), when an application root is the current container when you run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, the cloned PDB is created in the application container. In this case, the source PDB’s application name and version must match the application name and version of the application container. <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CLONEAPDBINANAPPLICATIONCONTAINER-7BC6E389">Figure 38-7</a> illustrates how this technique creates a new application PDB in an application container by cloning a local source application PDB. The source PDB can also be a PDB plugged into the local CDB root, a PDB plugged into a remote CDB root, or an application PDB plugged into a remote application root.
                     </p>
                     <div class="figure" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CLONEAPDBINANAPPLICATIONCONTAINER-7BC6E389">
                        <p class="titleinfigure">Figure 38-7 Clone a PDB in an Application Container</p><img src="img/admin115.png" alt="Description of Figure 38-7 follows" title="Description of Figure 38-7 follows" longdesc="img_text/admin115.html"><br><a href="img_text/admin115.html">Description of "Figure 38-7 Clone a PDB in an Application Container"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-0D128A0B-3EF1-4B66-A522-1DCAAA9B2408">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="You use the CREATE PLUGGABLE DATABASE statement to create a PDB. To use this statement, you must understand the clauses for the statement and when to use each clause.">The CREATE PLUGGABLE DATABASE Statement</a>"</span></p>
                     </div>
                     <div class="infoboxnote" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-5225366C-951D-4AE9-AD69-2BBEA3EC1A31">
                        <p class="notep1">Note:</p>
                        <p>You cannot use the <code class="codeph">FROM</code> clause in the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a PDB from the CDB seed (<code class="codeph">PDB$SEED</code>) or from an application seed. See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" title="You can use the CREATE PLUGGABLE DATABASE statement to create a PDB in a CDB using the files of the CDB seed. You can also use this statement to create an application PDB in an application container using the files of an application seed or a CDB seed.">Creating a PDB Using the Seed</a>"</span> for information about creating a PDB from the seed.
                        </p>
                     </div>
                     <p>When you clone a PDB, you must address the questions that apply to cloning a PDB in <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="This table describes each clause and when to use each clause.">Table 38-3</a>. The table describes which <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clauses you must specify based on different factors.
                     </p>
                     <div class="infoboxnote" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-7D5E4F9B-B303-4DB5-8B30-B8D629E6430B">
                        <p class="notep1">Note:</p>If you want to create the PDB by cloning another PDB or from a non-CDB, and if the source database has encrypted data or a keystore set, then you must provide the keystore password by including the keystore identified by <code class="codeph"><span class="codeinlineitalic">keystore_password</span></code> clause in the <code class="codeph">CREATE PLUGGABLE DATABASE ... FROM</code> SQL statement. You must provide this password even if the source database is using an auto-login software keystore. You can determine whether the source database has encrypted data or a keystore by querying the <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> data dictionary view.
                     </div>
                     <div class="infoboxnotealso" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-E953B3C0-7E64-4873-BBB4-C9F13CA7F51D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-88E61123-F651-47D7-9977-B589268EBD29" title="You create an application PDB by running the CREATE&nbsp;PLUGGABLE&nbsp;DATABASE&nbsp;statement with an application root as the current container.">Creating an Application PDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" title="You can determine your current container ID or container name in a CDB.">Determining the Current Container ID or Name</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../asoag/using-transparent-data-encryption-with-other-oracle-features.html#ASOAG-GUID-67812205-D0C9-4F5F-BA64-DAE282F3B516"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for more information about cloning a source with encrypted data or a keystore set
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3">Refreshable Clone PDB</p>
                        <p>You can clone a source PDB and configure the clone to be refreshable. To do so, include the <code class="codeph">REFRESH MODE</code>&nbsp;clause of the&nbsp;<code class="codeph">CREATE&nbsp;PLUGGABLE&nbsp;DATABASE</code>&nbsp;statement. When the clone PDB is refreshed, it is updated with any changes made to its source PDB. You can configure the clone PDB to refresh automatically at set intervals, or you can refresh it manually with the <code class="codeph">ALTER PLUGGABLE DATABASE REFRESH</code> statement. The refreshable clone PDB and the source PDB must be in different CDBs.
                        </p>
                        <p>A refreshable clone PDB must be in either read-only mode or closed. It cannot be in read/write mode. However, you can change a refreshable clone PDB into an ordinary PDB by including the <code class="codeph">REFRESH MODE NONE</code> clause in an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement and then opening the PDB in read/write mode. An ordinary PDB cannot be changed into a refreshable clone PDB, and after a refreshable clone PDB is converted to an ordinary PDB, it cannot be changed back into a refreshable clone PDB.
                        </p>
                        <div class="infoboxnotealso" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-A4E51717-37C4-498F-BB95-A8983D8D851D">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B99FE87D-151B-4350-84B3-BB5E7150E414" title="The REFRESH MODE clause of the CREATE PLUGGABLE DATABASE statement specifies whether a PDB created as a clone can be refreshed periodically. Each PDB refresh propagates changes from the source PDB to the new PDB.">PDB Refresh</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" title="You can create a PDB by cloning a remote source. The remote source can be a remote PDB or non-CDB. After the cloning operation is complete, the source and the target PDB are in different locations.">Cloning a Remote PDB or Non-CDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="You can refresh a PDB that was created as a refreshable clone.">Refreshing a PDB</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGEECGG">
                        <p class="subhead3">The SNAPSHOT COPY Clause</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When you use the <code class="codeph">SNAPSHOT</code> <code class="codeph">COPY</code> clause, all of the data files of the source PDB must be stored in the same storage type.
                        </p>
                        <p>When you use the <code class="codeph">SNAPSHOT</code> <code class="codeph">COPY</code> clause to create a clone of a source PDB and the <code class="codeph">CLONEDB</code> initialization parameter is set to <code class="codeph">FALSE</code>, the underlying file system for the source PDB's files must support storage snapshots. Such file systems include Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Direct NFS Client storage. Exadata supports snapshot copy functionality on ASM configured with sparse ASM grid disks.
                        </p>
                        <p>When you use the <code class="codeph">SNAPSHOT</code> <code class="codeph">COPY</code> clause to create a clone of a source PDB and the <code class="codeph">CLONEDB</code> initialization parameter is set to <code class="codeph">TRUE</code>, the underlying file system for the source PDB's files can be any local file system, network file system (NFS), or clustered file system that has Direct NFS enabled and supports sparse files. However, when the <code class="codeph">CLONEDB</code> initialization parameter is set to <code class="codeph">TRUE</code>, the source PDB must remain in open read-only mode as long as any clones exist.
                        </p>
                        <p>Direct NFS Client enables an Oracle database to access network attached storage (NAS) devices directly, rather than using the operating system kernel NFS client. If the PDB's files are stored on Direct NFS Client storage, then the following additional requirements must be met:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The source PDB's files must be located on an NFS volume.</p>
                           </li>
                           <li>
                              <p>Storage credentials must be stored in a Transparent Data Encryption keystore.</p>
                           </li>
                           <li>
                              <p>The storage user must have the privileges required to create and destroy snapshots on the volume that hosts the source PDB's files.</p>
                           </li>
                           <li>
                              <p>Credentials must be stored in the keystore using an <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">ADD</code> <code class="codeph">SECRET</code> SQL statement.
                              </p>
                              <p>The following example configures an Oracle Database secret in a software keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT  
  ADD SECRET '<span class="italic">secret</span>' FOR CLIENT '<span class="italic">client_name</span>' 
  USING TAG '<span class="italic">storage_user</span>' 
  IDENTIFIED BY  <span class="italic">keystore_password</span>  WITH BACKUP;
</pre><p>Run this statement to add a separate entry for each storage server in the configuration. In the previous example, the following values must be specified:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p> <span class="italic"><code class="codeph">secret</code></span> is the storage password.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">client_name</code></span> is the storage server. On a Linux or UNIX platform, it is the name entered in /etc/hosts or the IP address of the storage server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">tag</code></span> is the username passed to the storage server.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">keystore_password</code></span> is the password for the keystore.
                                    </p>
                                 </li>
                              </ul>
                              <p>See <a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG10475"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about managing keystores and secrets.
                              </p>
                           </li>
                        </ul>
                        <p>PDB clones created using the <code class="codeph">SNAPSHOT</code> <code class="codeph">COPY</code> clause cannot be unplugged. They can only be dropped. Attempting to unplug a clone created using the <code class="codeph">SNAPSHOT</code> <code class="codeph">COPY</code> clause results in an error.
                        </p>
                        <p>Storage clones are named and tagged using the destination PDB's GUID. You can query the <code class="codeph">CLONETAG</code> column of <code class="codeph">DBA_PDB_HISTORY</code> view to view clone tags for storage clones.
                        </p>
                        <div class="infoboxnote" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-A780A64D-E5EA-428B-BC57-3D4D901F9CAF">
                           <p class="notep1">Note:</p>Snapshot copy behavior and efficiency are vendor specific and may vary between vendors.
                        </div>
                        <div class="infoboxnotealso" id="GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__GUID-E5C87C2A-2F7C-4B03-A716-95BB3F3A5B05">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/admin&amp;id=OSTMG31000"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about Oracle ACFS
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/admin&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system for information about Direct NFS Client
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../asoag/asopart1.html#ASOAG600"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about Transparent Data Encryption
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/admin&amp;id=support_article_1597027_1">My Oracle Support Note 1597027.1</a> for more information about supported platforms for snapshot cloning of PDBs.
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/admin&amp;id=SAGUG"><span class="italic">Oracle Exadata Storage Server Software User's Guide</span></a> for information about Exadata support for PDB clones created using the <code class="codeph">SNAPSHOT COPY</code> clause
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMIN13589"></a><a id="ADMIN13590"></a><a id="ADMIN13591"></a><a id="ADMIN13592"></a><a id="ADMIN14331"></a><a id="ADMIN13586"></a><div class="props_rev_3"><a id="GUID-B39552A6-9206-40FE-B168-962215C7E743" name="GUID-B39552A6-9206-40FE-B168-962215C7E743"></a><h4 id="ADMIN-GUID-B39552A6-9206-40FE-B168-962215C7E743" class="sect4"><span class="enumeration_section">38.4.2 </span>Cloning a Local PDB
                  </h4>
                  <div>
                     <p>This section describes cloning a local PDB. After cloning a local PDB, the source and target PDBs are in the same CDB. </p>
                     <div class="section">
                        <p>The following prerequisites must be met:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Complete the prerequisites described in <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Prerequisites must be met before creating a PDB.">Preparing for PDBs</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>The current user must have the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> system privilege in both the root and the source PDB. 
                              </p>
                           </li>
                           <li>
                              <p>The source PDB cannot be closed.</p>
                           </li>
                           <li>
                              <p>If the CDB is not in local undo mode, then the source PDB must be in open read-only mode. This requirement does not apply if the CDB is in local undo mode.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.">About the CDB Undo Mode</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>If the CDB is not in <code class="codeph">ARCHIVELOG</code> mode, then the source PDB must be in open read-only mode. This requirement does not apply if the CDB is in <code class="codeph">ARCHIVELOG</code> mode.
                              </p>
                           </li>
                           <li>
                              <p>If you are creating an application PDB, then the application PDB must have the same character set and national character set as the application container.</p>
                              <p> If the database character set of the CDB is AL32UTF8, then the character set and national character set of the application container can be different from the CDB. However, all application PDBs in an application container must have same character set and national character set, matching that of the application container.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-22F7E672-064D-429E-A53A-1172DE92BB5D">
                           <p class="notep1">Note:</p>You cannot use the <code class="codeph">REFRESH MODE</code> clause to create a refreshable clone PDB that is a clone of a local PDB. A refreshable clone PDB must be created in a remote CDB.
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To clone a local PDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the CDB root or an application root.</p>
                              <p>When the current container is the CDB root, the PDB is created in the CDB. When the current container is an application root, the application PDB is created in the application container.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, and specify the source PDB in the <code class="codeph">FROM</code> clause. Specify other clauses when they are required.
                              </p>
                              <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B39552A6-9206-40FE-B168-962215C7E743__CEGDJFJB">Examples of Cloning a Local PDB</a>"</span>.
                              </p>
                              <p>After you create the PDB, it is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                              </p>
                              <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Open the new PDB in read/write mode.</p>
                              <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                              </p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Back up the PDB.</p>
                              <p>A PDB cannot be recovered unless it is backed up.</p>
                              <p><a href="../bradv/backing-up-database.html#BRADV428"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-66D9D9B6-EA6A-406B-9FA0-84C33639E792">
                           <p class="notep1">Note:</p>
                           <p>If an error is returned during PDB creation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__CEGDJFJB">
                        <p class="subhead3">Examples of Cloning a Local PDB</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples clone a local source PDB named <code class="codeph">pdb1</code> to a target PDB named <code class="codeph">pdb2</code> given different factors.
                        </p>
                        <p>In each example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the current container is the CDB root, the new PDB is created in the CDB root.</p>
                           </li>
                           <li>
                              <p>When the current container is an application root in an application container, the new PDB is created as an application PDB in the application root.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__CEGGGAGG">
                        <p class="titleinexample">Example 38-33 Cloning a Local PDB Using No Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is not required. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> PDB:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM pdb1;
</pre><div class="infoboxnotealso" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-99F70C52-970F-462D-8926-05F79107ED58">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__CEGHFCBB">
                        <p class="titleinexample">Example 38-34 Cloning a Local PDB With the PATH_PREFIX, FILE_NAME_CONVERT, and SERVICE_NAME_CONVERT Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The path prefix must be added to the PDB's directory object paths. Therefore, the <code class="codeph">PATH_PREFIX</code> clause is required. In this example, the path prefix /disk2/oracle/pdb2/ is added to the PDB’s directory object paths.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause is required to specify the target locations of the copied files. In this example, the files are copied from /disk1/oracle/pdb1 to /disk2/oracle/pdb2.
                              </p>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause is not used, and neither Oracle Managed Files nor the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is used to specify the target locations of the copied files.
                              </p>
                              <p>To view the location of the data files for a PDB, run the query in <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">Example 45-7</a>.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The PDB that is being cloned (<code class="codeph">pdb1</code>) has two user-defined services: <code class="codeph">salesrep_ca</code> and <code class="codeph">orders_ca</code> for the sales representatives and order entry personnel in California. The new services will be for the sales representatives and order entry personnel in Oregon, and the service names will be renamed to <code class="codeph">salesrep_or</code> and <code class="codeph">orders_or</code>, respectively, in the cloned PDB (<code class="codeph">pdb2</code>).
                              </p>
                           </li>
                           <li>
                              <p>Future tablespaces created within the PDB will be created with the <code class="codeph">NOLOGGING</code> attribute by default. This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> PDB:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM pdb1 
  PATH_PREFIX = '/disk2/oracle/pdb2/'
  FILE_NAME_CONVERT = ('/disk1/oracle/pdb1/', '/disk2/oracle/pdb2/')
  SERVICE_NAME_CONVERT = ('salesrep_ca','salesrep_or','orders_ca','orders_or')
  NOLOGGING;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__CEGCIDDB">
                        <p class="titleinexample">Example 38-35 Cloning a Local PDB Using the FILE_NAME_CONVERT, STORAGE, and SERVICE_NAME_CONVERT  Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause is required to specify the target locations of the copied files. In this example, the files are copied from /disk1/oracle/pdb1 to /disk2/oracle/pdb2.
                              </p>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause is not used, and neither Oracle Managed Files nor the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is used to specify the target locations of the copied files.
                              </p>
                              <p>To view the location of the data files for a PDB, run the query in <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">Example 45-7</a>.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits must be enforced for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is required. Specifically, all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                              </p>
                           </li>
                           <li>
                              <p>The PDB that is being cloned (<code class="codeph">pdb1</code>) has two user-defined services: <code class="codeph">salesrep_ca</code> and <code class="codeph">orders_ca</code> for the sales representatives and order entry personnel in California. The new services will be for the sales representatives and order entry personnel in Oregon, and the service names will be renamed to <code class="codeph">salesrep_or</code> and <code class="codeph">orders_or</code>, respectively, in the cloned PDB (<code class="codeph">pdb2</code>).
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> PDB:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM pdb1 
  FILE_NAME_CONVERT = ('/disk1/oracle/pdb1/', '/disk2/oracle/pdb2/')
  STORAGE (MAXSIZE 2G)
  SERVICE_NAME_CONVERT = ('salesrep_ca','salesrep_or','orders_ca','orders_or');
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B39552A6-9206-40FE-B168-962215C7E743__GUID-E67C9C2A-5ED2-4124-8946-0219F209C6CF">
                        <p class="titleinexample">Example 38-36 Cloning a Local PDB Without Cloning Its Data</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">NO DATA</code> clause is required because the goal is to clone the data model definition of the source PDB without cloning its data.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is not required. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Assume that the source PDB <code class="codeph">pdb1</code> has a large amount of data. The following steps illustrate how the clone does not contain the source PDB's data when the operation is complete:
                        </p>
                        <ol>
                           <li>
                              <p>With the source PDB <code class="codeph">pdb1</code> as the current container, query a table with a large amount of data:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) FROM tpch.lineitem;

  COUNT(*)
----------
   6001215
</pre><p>The table has over six million rows.</p>
                           </li>
                           <li>
                              <p>Clone the source PDB with the <code class="codeph">NO DATA</code> clause:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM pdb1 NO DATA;
</pre></li>
                           <li>
                              <p>Open the cloned PDB:</p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb2 OPEN;
</pre></li>
                           <li>
                              <p>With the cloned PDB <code class="codeph">pdb2</code> as the current container, query the table that has a large amount of data in the source PDB:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) FROM tpch.lineitem;

  COUNT(*)
----------
         0
</pre><p>The table in the cloned PDB has no rows.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADMIN13596"></a><a id="ADMIN14322"></a><a id="ADMIN13593"></a><div class="props_rev_3"><a id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" name="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F"></a><h4 id="ADMIN-GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F" class="sect4"><span class="enumeration_section">38.4.3 </span>Cloning a Remote PDB or Non-CDB
                  </h4>
                  <div>
                     <p>You can create a PDB by cloning a remote source. The remote source can be a remote PDB or non-CDB. After the cloning operation is complete, the source and the target PDB are in different locations. </p>
                     <div class="section">  
                        <p>The following prerequisites must be met:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Complete the prerequisites described in <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Prerequisites must be met before creating a PDB.">Preparing for PDBs</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>The current user must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege in the root of the CDB that will contain the target PDB. 
                              </p>
                           </li>
                           <li>
                              <p>The source PDB cannot be closed.</p>
                           </li>
                           <li>
                              <p>When cloning a PDB, if the remote CDB is not in local undo mode, then the source PDB must be in open read-only mode. This requirement does not apply if the remote CDB that contains the source PDB is in local undo mode.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.">About the CDB Undo Mode</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>If the remote CDB or non-CDB is not in <code class="codeph">ARCHIVELOG</code> mode, then the source PDB or non-CDB must be in open read-only mode. This requirement does not apply if the remote CDB that contains the source PDB or the non-CDB is in <code class="codeph">ARCHIVELOG</code> mode.
                              </p>
                           </li>
                           <li>
                              <p>The following prerequisites apply for the database link:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>A database link must enable a connection from the CDB to which the PDB is being cloned to the source PDB’s CDB. The database link can connect to either the root of the CDB, to an application PDB if the source is an application PDB, or to the PDB.</p>
                                 </li>
                                 <li>
                                    <p>The user that the database link connects with must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the database link connects to the root in the source PDB’s CDB, then the user that the database link connects with must be a common user.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The source and target platforms must meet these requirements:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>They must have the same endianness.</p>
                                 </li>
                                 <li>
                                    <p>The database options installed on the source platform must be the same as, or a subset of, the database options installed on the target platform.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>If the character set of the CDB to which the PDB is being cloned is not AL32UTF8, then the source and target must have compatible character sets and national character sets. To be compatible, the character sets and national character sets must meet all of the requirements specified in <a href="../nlspg/choosing-character-set.html#NLSPG1035"><span class="italic">Oracle Database Globalization Support Guide</span></a>.
                              </p>
                              <p>If the character set of the CDB to which the PDB is being cloned is AL32UTF8, then this requirement does not apply. </p>
                           </li>
                           <li>
                              <p>If you create a PDB by cloning a non-CDB, then you must meet the following requirements:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The CDB and the non-CDB must be running Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2) or later.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The data block size of the cloned PDB must match the CDB in which the clone PDB will reside.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>If you are creating an application PDB, then the application name and version of the source PDB must match the application name and version of the application container that will contain the target application PDB.</p>
                           </li>
                           <li>
                              <p>If you are creating an application PDB, then the application PDB must have the same character set and national character set as the application container.</p>
                              <p> If the database character set of the CDB is AL32UTF8, then the character set and national character set of the application container can different from the CDB. However, all application PDBs in an application container must have same character set and national character set, matching that of the application container.</p>
                           </li>
                           <li>
                              <p>If you are creating a refreshable PDB, then the source PDB must be in <code class="codeph">ARCHIVELOG</code> mode and local undo mode.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To clone a remote PDB or non-CDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root of the CDB that will contain the new PDB or the application root of the application container that will contain the new PDB.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">About Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, and specify the source PDB or the source non-CDB in the <code class="codeph">FROM</code> clause. Specify other clauses when they are required.
                              </p>
                              <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__CEGHIBHC">Example 38-37</a>"</span>.
                              </p>
                              <p>After you create the PDB, it is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                              </p>
                              <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">About Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p><a id="d300602e7095" class="indexterm-anchor"></a>If you created the PDB from a non-CDB, then run the <span class="italic">ORACLE_HOME</span>/rdbms/admin/noncdb_to_pdb.sql script. This script must be run before the PDB can be opened for the first time.
                              </p>
                              <p>If the PDB was not a non-CDB, then running the noncdb_to_pdb.sql script is not required.</p>
                              <p>To run the noncdb_to_pdb.sql script, complete the following steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>Access the PDB.</p>
                                    <p>The current user must have <code class="codeph">SYSDBA</code> administrative privilege, and the privilege must be either commonly granted or locally granted in the PDB. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> at connect time.
                                    </p>
                                    <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">About Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Run the noncdb_to_pdb.sql script:</p><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/noncdb_to_pdb.sql
</pre></li>
                              </ol>
                              <p>The script opens the PDB, performs changes, and closes the PDB when the changes are complete.</p>
                           </li>
                           <li>
                              <p>Open the new PDB in read/write mode.</p>
                              <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                              </p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Back up the PDB.</p>
                              <p>A PDB cannot be recovered unless it is backed up.</p>
                              <p><a href="../bradv/backing-up-database.html#BRADV428"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-A9FFF8B4-5144-40E0-B701-6D2154BAD23D">
                           <p class="notep1">Note:</p>
                           <p>If an error is returned during PDB creation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__EXAMPLESOFCLONINGAREMOTEPDBORNON-CD-46863B3F">
                        <p class="subhead3">Examples of Cloning a Remote PDB or Non-CDB</p>
                        <p>The following examples clone a remote PDB or non-CDB given different factors.</p>
                        <p>In each example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the current container is the CDB root, the new PDB is created in the CDB root.</p>
                           </li>
                           <li>
                              <p>When the current container is an application root in an application container, the new PDB is created as an application PDB in the application root.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__CEGHIBHC">
                        <p class="titleinexample">Example 38-37 Creating a PDB by Cloning It From a Remote PDB Using No Clauses</p>
                        <p>This example clones a remote source PDB named <code class="codeph">pdb1</code> to a target PDB named <code class="codeph">pdb2</code> given different factors. This example assumes the following factors:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database link name to the remote PDB is <code class="codeph">pdb1_link</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> remote PDB:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM pdb1@pdb1_link;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-55F57C7B-DEB5-4ED6-B68F-449176D7AF13">
                        <p class="titleinexample">Example 38-38 Creating a PDB by Cloning a Remote Non-CDB</p>
                        <p>This example creates a new PDB by cloning a remote source non-CDB named <code class="codeph">mydb</code> to a target PDB named <code class="codeph">pdb2</code> given different factors. This example assumes the following factors:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database link name to the remote non-CDB is <code class="codeph">mydb_link</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement creates the <code class="codeph">pdb2</code> PDB from the remote non-CDB named <code class="codeph">mydb</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM mydb@mydb_link;
</pre><p>When the source is a non-CDB, you can substitute <code class="codeph">NON$CDB</code> for the name of the non-CDB. For example, the following statement is equivalent to the previous example:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM NON$CDB@mydb_link;
</pre><div class="infoboxnotealso" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-ECE588C2-4A53-4727-AC31-404D0E1D01B8">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database.">Using Oracle Managed Files</a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-FC7A3306-AA09-4C73-9EA0-33383078C6E2">
                        <p class="titleinexample">Example 38-39 Creating a Refreshable Clone</p>
                        <p>This example clones a remote source PDB named <code class="codeph">pdb1</code> to a target PDB named <code class="codeph">pdb2</code> given different factors. The clone is a refreshable copy of the source PDB, which means that it can be refreshed to update it with any changes made to the source PDB. This example assumes the following factors:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database link name to the remote PDB is <code class="codeph">pdb1_link</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The refreshable clone will be refreshed automatically every 60 minutes.</p>
                           </li>
                        </ul>
                        <p>Remember that, to create a refreshable PDB, the source PDB must be in <code class="codeph">ARCHIVELOG</code> mode and local undo mode.
                        </p>
                        <p>Given the preceding factors, the following statement clones the <code class="codeph">pdb2</code> PDB from the <code class="codeph">pdb1</code> remote PDB:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb2 FROM pdb1@pdb1_link REFRESH MODE EVERY 60 MINUTES;
</pre><div class="infoboxnotealso" id="GUID-D4900E43-DF38-4629-9A1F-D1C11EC8EC8F__GUID-7AADBFE0-C629-4ED2-8C6B-2DCAE9B281B9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B99FE87D-151B-4350-84B3-BB5E7150E414" title="The REFRESH MODE clause of the CREATE PLUGGABLE DATABASE statement specifies whether a PDB created as a clone can be refreshed periodically. Each PDB refresh propagates changes from the source PDB to the new PDB.">PDB Refresh</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="You can use the CREATE PLUGGABLE DATABASE statement to clone a PDB from a source PDB or from a non-CDB.">About Cloning a PDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F" title="You can refresh a PDB that was created as a refreshable clone.">Refreshing a PDB</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADMIN14167"></a><div class="props_rev_3"><a id="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396" name="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396"></a><h4 id="ADMIN-GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396" class="sect4"><span class="enumeration_section">38.4.4 </span>After Cloning a PDB
                  </h4>
                  <div>
                     <p>Certain rules regarding users and tablespaces apply after cloning a PDB.</p>
                     <p>The following applies after cloning a PDB:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Users in the PDB who used the default temporary tablespace of the source non-CDB or PDB use the default temporary tablespace of the cloned PDB. Users who used non-default temporary tablespaces in the non-CDB or PDB continue to use the same local temporary tablespaces in the cloned PDB. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="A tablespace is a logical storage container for database objects, such as tables and indexes, that consume storage space. At the physical level, a tablespace stores data in one or more data files or temp files. You can use the ALTER DATABASE statement to manage tablespaces in a CDB.">About Managing Tablespaces in a CDB</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>When cloning a remote PDB, user-created common users that existed in the source CDB but not in the target CDB do not have any privileges granted commonly. However, if the target CDB has a common user with the same name as a common user in the PDB, the latter is linked to the former and has the privileges granted to this common user in the target CDB.</p>
                           <p>If the cloned or plugged-in PDB has a common user account that does not exist in the target CDB, and if this user does not own objects in the PDB, then Oracle Database drops the user during the synchronization step; otherwise, the user account is locked in the target PDB. You have the following options regarding locked accounts:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Close the PDB, connect to the root, and create a common user account with the same name. When the PDB is opened in read/write mode, differences in roles and privileges granted commonly to the user account are resolved, and you can unlock the account. Privileges and roles granted locally to the user account remain unchanged during this process.</p>
                              </li>
                              <li>
                                 <p>Create a new local user account in the PDB and use Data Pump to export/import the locked user's data into the new local user's schema.</p>
                              </li>
                              <li>
                                 <p>Leave the user account locked.</p>
                              </li>
                              <li>
                                 <p>Drop the user account.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-AF27B6CB-A1A9-4AFD-B45B-2DA92C972396__GUID-6D44C122-8526-40B4-B99F-F1848E0AEB21">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services Associated with PDBs</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">Example 45-9</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/overview-of-the-multitenant-architecture.html#CNCPT89257"><span class="italic">Oracle Database Concepts</span></a> for information about common users and local users
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG832"><span class="italic">Oracle Database Security Guide</span></a> for information about creating a local user
                              </p>
                           </li>
                           <li>
                              <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL4334"><span class="italic">Oracle Database Utilities</span></a> for information about using Oracle Data Pump with a CDB
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-75519361-3DA2-4558-A7E5-64BC16FAFC7D" name="GUID-75519361-3DA2-4558-A7E5-64BC16FAFC7D"></a><h3 id="ADMIN-GUID-75519361-3DA2-4558-A7E5-64BC16FAFC7D" class="sect3"><span class="enumeration_section">38.5 </span>Creating a PDB by Relocating It
               </h3>
               <p>You can create a PDB by relocating it from one CDB to another.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B">About Relocating a PDB</a><br>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to relocate a PDB from one CDB to another.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F887DBA7-61A6-49FB-8400-40632765F1E1">Relocating a PDB</a><br>You can create a PDB by relocating it. After the operation is complete, the PDB is removed from its current CDB and is added to a different CDB.
                     </li>
                  </ul>
               </div>
               
               <div class="props_rev_3"><a id="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B" name="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B"></a><h4 id="ADMIN-GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B" class="sect4"><span class="enumeration_section">38.5.1 </span>About Relocating a PDB
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to relocate a PDB from one CDB to another.
                     </p>
                     <p>This technique moves a PDB from one CDB to another. To use this technique, you run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement and include the <code class="codeph">FROM</code> clause and the <code class="codeph">RELOCATE</code> clause.
                     </p>
                     <p>You must include a <code class="codeph">FROM</code> clause that specifies the current location of the PDB. You must also include the <code class="codeph">RELOCATE</code> clause to specify that the PDB is being moved instead of cloned. After the operation is complete, the PDB is added to the CDB to which the PDB is relocated. The <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement also moves the files associated with the PDB to a new location. Using this technique is the fastest way to relocate a PDB with minimal down time.
                     </p>
                     <p>In addition, the PDB being relocated can be opened in read/write mode and fully functional during the relocation process. This technique automatically quiesces the PDB in its old location while transporting and applying redo data to the PDB in its new location. Finally, when the PDB is ready, this technique brings it online in its new location. While the PDB is being relocated, current DML and DDL operations will pause while they are redirected to the PDB’s new location. Queries continue to run with no pause.</p>
                     <p>You must use a database link to relocate the PDB. The database link must be created in the CDB that will contain the relocated PDB. When you issue the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement from the root of the CDB that will contain the relocated PDB, you must specify a database link to the remote CDB that contains the PDB being relocated in the <code class="codeph">FROM</code> clause. The database link must connect to the root of the remote CDB from the CDB that will contain the new PDB.
                     </p>
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__RELOCATEAPDB-5C4973BF">Figure 38-8</a> illustrates how this technique relocates a PDB. 
                     </p>
                     <div class="figure" id="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__RELOCATEAPDB-5C4973BF">
                        <p class="titleinfigure">Figure 38-8 Relocate a PDB</p><img src="img/admin109.png" alt="Description of Figure 38-8 follows" title="Description of Figure 38-8 follows" longdesc="img_text/admin109.html"><br><a href="img_text/admin109.html">Description of "Figure 38-8 Relocate a PDB"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__GUID-0D128A0B-3EF1-4B66-A522-1DCAAA9B2408">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="You use the CREATE PLUGGABLE DATABASE statement to create a PDB. To use this statement, you must understand the clauses for the statement and when to use each clause.">The CREATE PLUGGABLE DATABASE Statement</a>"</span></p>
                     </div>
                     <p>You can relocate a PDB into an application container as an application PDB, and you can relocate an application PDB from one application root to another. You can also relocate an empty application root from one CDB to another, but the application root must not have any hosted application PDBs. <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__RELOCATEAPDBINTOANAPPLICATIONCONTAI-7FD49079">Figure 38-9</a> illustrates how this technique creates a new application PDB in an application container.
                     </p>
                     <div class="figure" id="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__RELOCATEAPDBINTOANAPPLICATIONCONTAI-7FD49079">
                        <p class="titleinfigure">Figure 38-9 Relocate a PDB Into an Application Container</p><img src="img/admin116.png" alt="Description of Figure 38-9 follows" title="Description of Figure 38-9 follows" longdesc="img_text/admin116.html"><br><a href="img_text/admin116.html">Description of "Figure 38-9 Relocate a PDB Into an Application Container"</a></div>
                     <!-- class="figure" -->
                     <p>When you relocate a PDB, you must address the questions that apply to relocating a PDB in <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="This table describes each clause and when to use each clause.">Table 38-3</a>. The table describes which <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clauses you must specify based on different factors.
                     </p>
                     <p>When a PDB is relocated, you have two options regarding connections to the PDB: <code class="codeph">AVAILABILITY MAX</code> and <code class="codeph">AVAILABILITY NORMAL</code>. You optionally can use the <code class="codeph">AVAILABILITY MAX</code> clause to redirect connections from the old location of the PDB to the new location. When the <code class="codeph">AVAILABILITY MAX</code> clause is specified, the relocate operation configures the listener to relocate connections to the new location.
                     </p>
                     <p>You have the following options for redirecting connections from the PDB’s old location to the PDB’s new location:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If your system is using Oracle Internet Directory (Oracle’s LDAP directory service), then connection information can be updated in a central location rather than in multiple client configuration files.</p>
                        </li>
                        <li>
                           <p>If you use the same listener for the PDB in its old and new locations, then new connections are automatically routed to the PDB’s new location when relocation is complete.</p>
                        </li>
                        <li>
                           <p>If the PDBs use different listeners, and you employ cross-registration of their respective listeners through configuration of the <code class="codeph">local_listener</code> and <code class="codeph">remote_listener</code> parameters, then relocation is seamless because the availability and location of the PDB’s services are automatically registered with the listeners.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__GUID-E71D299D-16B4-40B7-B899-1D455114BBD6">
                        <p class="notep1">Note:</p>In an Oracle Clusterware environment, when relocating a PDB between different CDBs (not CDB instances of the same database), the non-default service resource must be recreated using SRVCTL.
                     </div>
                     <p>When the source and target CDBs for the relocate operation do not share a common listener network, use the <code class="codeph">AVAILABILITY MAX</code> clause to automatically configure the original listener to forward connections to the new listener that is handling the relocated PDB’s connections. This configuration is intended to be transient while the Oracle Internet Directory (OID) is updated or the client connections are modified. A 'tombstone' PDB remains in the source CDB to protect the PDB’s namespace and preserve the listener forwarding configuration until the OID server or the client connections are updated. After that is completed, the source PDB can be dropped with a <code class="codeph">DROP PLUGGABLE DATABASE</code> statement.
                     </p>
                     <p>If the source CDB and target CDB for the relocation operation share a common listener network, forwarding client connections is not necessary as it is handled implicitly by the common listener network. In this case, use the <code class="codeph">AVAILABILITY NORMAL</code> clause for the relocate operation. After the PDB is relocated to the target CDB and opened, the PDB on the source CDB is dropped.
                     </p>
                     <div class="infoboxnote" id="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__GUID-4E9541C7-56F5-4704-B404-6B326E81D51F">
                        <p class="notep1">Note:</p>If a local listener redirects to a Single Client Access Name (SCAN) listener in an Oracle RAC configuration, then this listener may need to further redirect the client connection request to another cluster node. Such multiple redirects are not supported by Oracle Net listeners by default. To allow the SCAN listener to forward the already redirected client connection request, add the <code class="codeph">ALLOW_MULTIPLE_REDIRECTS_<span class="codeinlineitalic">listener_name</span></code> parameter to its listener.ora file. Set the parameter to <code class="codeph">TRUE</code>. Do not set this parameter for node listeners because it may allow infinite redirection loops in certain network configurations.
                     </div>
                     <div class="infoboxnotealso" id="GUID-0A5C8EFF-51A4-497B-8D5C-A4267A694D4B__GUID-A352C9F1-971A-463D-8177-4C2FC9D6AA1B">
                        <p class="notep1">See Also:</p>
                     </div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-88E61123-F651-47D7-9977-B589268EBD29" title="You create an application PDB by running the CREATE&nbsp;PLUGGABLE&nbsp;DATABASE&nbsp;statement with an application root as the current container.">Creating an Application PDB</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG-GUID-63F36312-FDA8-4B20-B8E1-4949AD55707A"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for more information about listener redirects
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F887DBA7-61A6-49FB-8400-40632765F1E1" name="GUID-F887DBA7-61A6-49FB-8400-40632765F1E1"></a><h4 id="ADMIN-GUID-F887DBA7-61A6-49FB-8400-40632765F1E1" class="sect4"><span class="enumeration_section">38.5.2 </span>Relocating a PDB
                  </h4>
                  <div>
                     <p>You can create a PDB by relocating it. After the operation is complete, the PDB is removed from its current CDB and is added to a different CDB.</p>
                     <div class="section"> 
                        <p>The following prerequisites must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Complete the prerequisites described in <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Prerequisites must be met before creating a PDB.">Preparing for PDBs</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>The current user must have the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> system privilege in the root of the CDB to which the PDB is being relocated.
                              </p>
                           </li>
                           <li>
                              <p>The CDB that contains the PDB before relocation must be in local undo mode.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.">About the CDB Undo Mode</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>If the CDB to which the PDB is being relocated is not in <code class="codeph">ARCHIVELOG</code> mode, then the PDB must be in open read-only mode during the operation. This requirement does not apply if the CDB to which the PDB is being relocated is in <code class="codeph">ARCHIVELOG</code> mode.
                              </p>
                           </li>
                           <li>
                              <p>The following prerequisites apply to the database link:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>A database link must enable a connection from the CDB to which the PDB is being relocated to the PDB’s current CDB. The database link must connect to the root of the CDB. If the PDB is an application PDB, then the database link must connect to its application root.</p>
                                 </li>
                                 <li>
                                    <p>The user that the database link connects with in the PDB’s current CDB must have either the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege or the <code class="codeph">SYSOPER</code> administrative privilege.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the database link connects to the CDB root in the PDB’s current CDB, then the user that the database link connects with must be a common user.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The platforms of the PDB’s current CDB and the CDB to which it is being relocated must meet these requirements:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>They must have the same endianness.</p>
                                 </li>
                                 <li>
                                    <p>The database options installed on the source platform must be the same as, or a subset of, the database options installed on the target platform.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>If the character set of the CDB to which the PDB is being relocated is not AL32UTF8, then the PDB’s current CDB and the CDB to which it is being relocated must have compatible character sets and national character sets. To be compatible, the character sets and national character sets must meet all of the requirements specified in <a href="../nlspg/choosing-character-set.html#NLSPG1035"><span class="italic">Oracle Database Globalization Support Guide</span></a>.
                              </p> 
                              <p>If the character set of the CDB to which the PDB is being relocated is AL32UTF8, then this requirement does not apply.</p>
                           </li>
                           <li>
                              <p>If you are creating an application PDB, then the application name and version of the PDB being relocated must match the application name and version of the application container that will contain the application PDB after it is relocated.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To relocate a PDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root of the CDB that will contain the new PDB or the application root of the application container that will contain the new PDB.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. Specify the PDB in the <code class="codeph">FROM</code> clause, and include the <code class="codeph">RELOCATE</code> clause. Specify the <code class="codeph">AVAILABILITY MAX</code>&nbsp;clause to redirect connections from the old location of the PDB to the new location. Specify other clauses when they are required.
                              </p>
                              <p>After you relocate the PDB, it is in mounted mode, and its status is <code class="codeph">RELOCATING</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                              </p>
                              <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Open the new PDB in read/write mode.</p>
                              <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                              </p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Back up the PDB.</p>
                              <p>A PDB cannot be recovered unless it is backed up.</p>
                              <p><a href="../bradv/backing-up-database.html#BRADV428"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-F887DBA7-61A6-49FB-8400-40632765F1E1__GUID-A9FFF8B4-5144-40E0-B701-6D2154BAD23D">
                           <p class="notep1">Note:</p>
                           <p>If an error is returned during PDB relocation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F887DBA7-61A6-49FB-8400-40632765F1E1__CEGHIBHC">
                        <p class="titleinexample">Example 38-40 Relocating a PDB From a Remote CDB</p>
                        <p>In this example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the current container is the CDB root, the new PDB is created in the CDB root.</p>
                           </li>
                           <li>
                              <p>When the current container is an application root in an application container, the new PDB is created as an application PDB in the application root.</p>
                           </li>
                        </ul>
                        <p>This example relocates a PDB named <code class="codeph">pdb1</code> from a remote CDB given different factors. This example assumes the following factors:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The current user has the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> system privilege in the root of the CDB to which the PDB is being relocated.
                              </p>
                           </li>
                           <li>
                              <p>The database link name to the PDB’s current CDB is <code class="codeph">mycdb</code>. This database link was created with the following SQL statement:
                              </p>
                              <p><code class="codeph">CREATE PUBLIC DATABASE LINK mycdb CONNECT TO c##myadmin IDENTIFIED BY <span class="codeinlineitalic">password</span> USING 'MYCDB';</code></p>
                              <p>The common user <code class="codeph">c##myadmin</code> has <code class="codeph">SYSOPER</code> administrative privilege and <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege in the CDB that currently contains the PDB.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The files will be moved to a new location based on the Oracle Managed Files configuration or the initialization parameter setting.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>Connections should be relocated automatically from the source PDB to the relocated PDB. Therefore, the <code class="codeph">AVAILABILITY MAX</code> clause is included.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement relocates the <code class="codeph">pdb1</code> PDB from a remote CDB to the current CDB:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb1 FROM pdb1@mycdb RELOCATE AVAILABILITY MAX;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADMIN13572"></a><div class="props_rev_3"><a id="GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" name="GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3"></a><h3 id="ADMIN-GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" class="sect3"><span class="enumeration_section">38.6 </span>Creating a PDB by Plugging an Unplugged PDB into a CDB
               </h3>
               <p>You can create a PDB by plugging an unplugged PDB into a CDB.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-157624D9-7D38-4758-9FF2-645EC55106A9">About Plugging In an Unplugged PDB</a><br>This technique plugs in an unplugged PDB. This technique uses the XML metadata file that describes the PDB and the files associated with the PDB to plug it into the CDB. These files can be separate, or they can be included in a single, compressed .pdb archive file.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0">Plugging In an Unplugged PDB</a><br>You must meet prerequisites before plugging in an unplugged PDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-E7122CD7-47CA-4A89-A419-8CDEE622AF70">After Plugging in an Unplugged PDB</a><br>Certain rules regarding users and tablespaces apply after plugging in an unplugged PDB.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN13753"></a><a id="ADMIN13573"></a><a id="ADMIN13553"></a><div class="props_rev_3"><a id="GUID-157624D9-7D38-4758-9FF2-645EC55106A9" name="GUID-157624D9-7D38-4758-9FF2-645EC55106A9"></a><h4 id="ADMIN-GUID-157624D9-7D38-4758-9FF2-645EC55106A9" class="sect4"><span class="enumeration_section">38.6.1 </span>About Plugging In an Unplugged PDB
                  </h4>
                  <div>
                     <p>This technique plugs in an unplugged PDB. This technique uses the XML metadata file that describes the PDB and the files associated with the PDB to plug it into the CDB. These files can be separate, or they can be included in a single, compressed .pdb archive file.</p>
                     <p>You can plug in a PDB by specifying the XML metadata file or by specifying a compressed archive file with a .pdb extension. An archive file includes the XML metadata file and the PDB’s files (such as the data files and wallet file). The <code class="codeph">USING</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement specifies the XML metadata file or the .pdb archive file. When a .pdb archive file is not used and the XML metadata file is specified in the <code class="codeph">USING</code> clause, the XML metadata file includes the full paths to the locations of the PDB's files. When the .pdb archive file is specified in the <code class="codeph">USING</code> clause and the XML file is included in the .pdb archive file, the XML metadata file contains the file names only.
                     </p>
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-157624D9-7D38-4758-9FF2-645EC55106A9__CEGHDJHJ">Figure 38-10</a> illustrates how this technique creates a new PDB.
                     </p>
                     <div class="figure" id="GUID-157624D9-7D38-4758-9FF2-645EC55106A9__CEGHDJHJ">
                        <p class="titleinfigure">Figure 38-10 Plugging an Unplugged PDB Into a CDB Root</p><img src="img/admin090.png" width="484" alt="Description of Figure 38-10 follows" title="Description of Figure 38-10 follows" longdesc="img_text/admin090.html"><br><a href="img_text/admin090.html">Description of "Figure 38-10 Plugging an Unplugged PDB Into a CDB Root"</a></div>
                     <!-- class="figure" -->
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-157624D9-7D38-4758-9FF2-645EC55106A9__PLUGGINGANUNPLUGGEDPDBINTOANAPPLICA-8052B592">Figure 38-11</a>  illustrates how this technique creates a new application PDB in an application container.
                     </p>
                     <div class="figure" id="GUID-157624D9-7D38-4758-9FF2-645EC55106A9__PLUGGINGANUNPLUGGEDPDBINTOANAPPLICA-8052B592">
                        <p class="titleinfigure">Figure 38-11 Plugging an Unplugged PDB Into an Application Root</p><img src="img/admin117.png" alt="Description of Figure 38-11 follows" title="Description of Figure 38-11 follows" longdesc="img_text/admin117.html"><br><a href="img_text/admin117.html">Description of "Figure 38-11 Plugging an Unplugged PDB Into an Application Root"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-157624D9-7D38-4758-9FF2-645EC55106A9__GUID-3A024ACB-F2F4-45C5-929B-8FACC2439410">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="You use the CREATE PLUGGABLE DATABASE statement to create a PDB. To use this statement, you must understand the clauses for the statement and when to use each clause.">The CREATE PLUGGABLE DATABASE Statement</a>"</span></p>
                     </div>
                     <p>An unplugged PDB consists of an XML file that describes the PDB and the PDB's files (such as the data files and wallet file). You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to plug in an unplugged PDB. To do so, you must include a <code class="codeph">USING</code> clause that specifies the XML file that describes the PDB or a .pdb archive file.
                     </p>
                     <p>The source CDB is the CDB from which the PDB was unplugged. The target CDB is the CDB into which you are plugging the PDB. The source CDB and target CDB can be the same CDB or different CDBs.</p>
                     <div class="infoboxnote" id="GUID-157624D9-7D38-4758-9FF2-645EC55106A9__GUID-2F036AD6-5FC7-45BB-87F4-A7ABAF345086">
                        <p class="notep1">Note:</p>Automatic downgrade of a PDB is not supported. Therefore, you cannot plug in a PDB if the source CDB is a higher Oracle Database release than the target CDB.
                     </div>
                     <p>When you plug in an unplugged PDB, you must address the questions that apply to plugging in an unplugged PDB in <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="This table describes each clause and when to use each clause.">Table 38-3</a>. The table describes which <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clauses you must specify based on different factors.
                     </p>
                     <div class="infoboxnotealso" id="GUID-157624D9-7D38-4758-9FF2-645EC55106A9__GUID-6F112C5A-4677-4737-B697-3AF04A388C4B">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-88E61123-F651-47D7-9977-B589268EBD29" title="You create an application PDB by running the CREATE&nbsp;PLUGGABLE&nbsp;DATABASE&nbsp;statement with an application root as the current container.">Creating an Application PDB</a>"</span></p>
                     </div>
                  </div>
               </div><a id="ADMIN13576"></a><a id="ADMIN13577"></a><a id="ADMIN13578"></a><a id="ADMIN13579"></a><a id="ADMIN13580"></a><a id="ADMIN13582"></a><a id="ADMIN13855"></a><div class="props_rev_3"><a id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0" name="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0"></a><h4 id="ADMIN-GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0" class="sect4"><span class="enumeration_section">38.6.2 </span>Plugging In an Unplugged PDB
                  </h4>
                  <div>
                     <p>You must meet prerequisites before plugging in an unplugged PDB.</p>
                     <div class="section"> 
                        <p>To plug in an unplugged PDB, the following prerequisites must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Complete the prerequisites described in <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Prerequisites must be met before creating a PDB.">Preparing for PDBs</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Either the XML file that describes the PDB or the .pdb archive file must exist in a location that is accessible to the CDB.</p>
                              <p>The <code class="codeph">USING</code> clause must specify the XML file or the .pdb archive file.
                              </p>
                              <p>If the PDB's XML file is unusable or cannot be located, then you can use the <code class="codeph">DBMS_PDB.RECOVER</code> procedure to generate an XML file using the PDB's data files. See <a href="../arpls/DBMS_PDB.html#ARPLS73527"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about this procedure.
                              </p>
                           </li>
                           <li>
                              <p>If an XML file is specified in the <code class="codeph">USING</code> clause (not a .pdb file), then the files associated with the PDB (such as the data files and wallet file) must exist in a location that is accessible to the CDB.
                              </p>
                           </li>
                           <li>
                              <p>The source and target CDB platforms must meet the following requirements:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>They must have the same endianness.</p>
                                 </li>
                                 <li>
                                    <p>The database options installed on the source platform must be the same as, or a subset of, the database options installed on the target platform.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>If the character set of the CDB into which the PDB is being plugged is not AL32UTF8, then the CDB that contained the unplugged PDB and the target CDB must have compatible character sets and national character sets. To be compatible, the character sets and national character sets must meet all of the requirements specified in <a href="../nlspg/choosing-character-set.html#NLSPG1035"><span class="italic">Oracle Database Globalization Support Guide</span></a>.
                              </p>
                              <p>If the character set of the CDB into which the PDB is being plugged is AL32UTF8, then this requirement does not apply. </p>
                           </li>
                           <li>
                              <p>If you are creating an application PDB, then the application name and version of the unplugged PDB must match the application name and version of the application container into which the application PDB is being plugged.</p>
                           </li>
                           <li>
                              <p>If you are creating an application PDB, then the application PDB must have the same character set and national character set as the application container.</p>
                              <p> If the database character set of the CDB is AL32UTF8, then the character set and national character set of the application container can be different from the CDB. However, all application PDBs in an application container must have same character set and national character set, matching that of the application container.</p>
                           </li>
                        </ul>
                        <p>You can use the <code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code> function to determine whether these requirements are met. Step <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGCIJBE">2</a> in the following procedure describes using this function.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To plug in a PDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root of the CDB into which you want to plug the PDB or an application root.</p>
                              <p>When the current container is the CDB root, the PDB is created in the CDB. When the current container is an application root, the application PDB is created in the application container.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGCIJBE">
                              <p>(Optional) Run the <code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code> function to determine whether the unplugged PDB is compatible with the CDB.
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>If the PDB is not yet unplugged, then run the <code class="codeph">DBMS_PDB.DESCRIBE</code> procedure to produce an XML file that describes the PDB.
                                    </p>
                                    <p>If the PDB is already unplugged, then proceed to Step <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGDFAII">2.b</a>.
                                    </p>
                                    <p>For example, to generate an XML file named <code class="codeph">salespdb.xml</code> in the /disk1/oracle directory, run the following procedure:
                                    </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_PDB.DESCRIBE(
    pdb_descr_file =&gt; '/disk1/oracle/salespdb.xml',
    pdb_name       =&gt; 'SALESPDB');
END;
/
</pre><p>If the PDB is in a remote CDB, then you can include <code class="codeph">@</code><span class="italic"><code class="codeph">database_link_name</code></span> in the <code class="codeph">pdb_name</code> parameter, where <span class="italic"><code class="codeph">database_link_name</code></span> is the name of a valid database link to the remote CDB or to the PDB. For example, if the database link name to the remote CDB is <code class="codeph">rcdb</code>, then set the <code class="codeph">pdb_name</code> value to <code class="codeph">SALESPDB@rcdb</code>.
                                    </p>
                                 </li>
                                 <li id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGDFAII">
                                    <p>Run the <code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code> function.
                                    </p>
                                    <p>When you run the function, set the following parameters:</p>
                                    <p>- <code class="codeph">pdb_descr_file</code> - Set this parameter to the full path to the XML file.
                                    </p>
                                    <p>- <code class="codeph">pdb_name</code> - Specify the name of the new PDB. If this parameter is omitted, then the PDB name in the XML file is used.
                                    </p>
                                    <p>For example, to determine whether a PDB described by the /disk1/usr/salespdb.xml file is compatible with the current CDB, run the following PL/SQL block:</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
  compatible CONSTANT VARCHAR2(3) := 
    CASE DBMS_PDB.CHECK_PLUG_COMPATIBILITY(
           pdb_descr_file =&gt; '/disk1/usr/salespdb.xml',
           pdb_name       =&gt; 'SALESPDB')
    WHEN TRUE THEN 'YES'
    ELSE 'NO'
END;
BEGIN
  DBMS_OUTPUT.PUT_LINE(compatible);
END;
/
</pre><p>If the output is <code class="codeph">YES</code>, then the PDB is compatible, and you can continue with the next step.
                                    </p>
                                    <p>If the output is <code class="codeph">NO</code>, then the PDB is not compatible, and you can check the <code class="codeph">PDB_PLUG_IN_VIOLATIONS</code> view to see why it is not compatible.
                                    </p>
                                 </li>
                              </ol>
                              <div class="infoboxnote" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__GUID-67313AF6-ED3D-4E06-A49E-453CFA5F69B5">
                                 <p class="notep1">Note:</p>You can specify a .pdb archive file in the <code class="codeph">pdb_descr_file</code> parameter.
                              </div>
                           </li>
                           <li>
                              <p>If the PDB is not unplugged, then unplug it.</p>
                              <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722" title="You can unplug a PDB from a CDB.">Unplugging a PDB from a CDB</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, and specify the XML file or the .pdb archive file in the <code class="codeph">USING</code> clause. Specify other clauses when they are required.
                              </p>
                              <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGHIEBE">Examples of Plugging In an Unplugged PDB</a>"</span>.
                              </p>
                              <p>After you create the PDB, it is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                              </p>
                              <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Open the new PDB in read/write mode.</p>
                              <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                              </p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Back up the PDB.</p>
                              <p>A PDB cannot be recovered unless it is backed up.</p>
                              <p><a href="../bradv/backing-up-database.html#BRADV428"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__GUID-FB02CD3A-80EE-4501-9DBC-385DB12AA1E7">
                           <p class="notep1">Note:</p>
                           <p>If an error is returned during PDB creation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGHIEBE">
                        <p class="subhead3">Examples of Plugging In an Unplugged PDB</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples plug in an unplugged PDB named <code class="codeph">salespdb</code> using the /disk1/usr/salespdb.xml file or the /disk1/usr/sales.pdb file given different factors.
                        </p>
                        <p>In each example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the current container is the CDB root, the new PDB is created in the CDB.</p>
                           </li>
                           <li>
                              <p>When the current container is an application root, the new application PDB is created in the application root’s application container.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGHJJEF">
                        <p class="titleinexample">Example 38-41 Plugging In an Unplugged PDB Using the NOCOPY Clause</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The new PDB is not based on the same unplugged PDB that was used to create an existing PDB in the CDB. Therefore, the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The XML file accurately describes the current locations of the files. Therefore, the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause or <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The files are in the correct location. Therefore, <code class="codeph">NOCOPY</code> is included.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>A file with the same name as the temp file specified in the XML file exists in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement plugs in the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb USING '/disk1/usr/salespdb.xml' 
  NOCOPY 
  TEMPFILE REUSE;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGHGABE">
                        <p class="titleinexample">Example 38-42 Plugging In an Unplugged PDB Using the AS CLONE and NOCOPY Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The new PDB is based on the same unplugged PDB that was used to create an existing PDB in the CDB. Therefore, the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause is required. The <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause ensures that the new PDB has unique identifiers.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The XML file accurately describes the current locations of the files. Therefore, the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause or <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The files are in the correct location. Therefore, <code class="codeph">NOCOPY</code> is included.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>A file with the same name as the temp file specified in the XML file exists in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement plugs in the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb AS CLONE USING '/disk1/usr/salespdb.xml' 
  NOCOPY
  TEMPFILE REUSE;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGIHHBF">
                        <p class="titleinexample">Example 38-43 Plugging In an Unplugged PDB Using the SOURCE_FILE_NAME_CONVERT, NOCOPY, and STORAGE Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The new PDB is not based on the same unplugged PDB that was used to create an existing PDB in the CDB. Therefore, the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The XML file does not accurately describe the current locations of the files. Therefore, the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause or <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is required. In this example, the XML file indicates that the files are in /disk1/oracle/sales, but the files are in /disk2/oracle/sales, and the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause is used.
                              </p>
                           </li>
                           <li>
                              <p>The files are in the correct location. Therefore, <code class="codeph">NOCOPY</code> is included.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits must be enforced for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is required. Specifically, all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                              </p>
                           </li>
                           <li>
                              <p>A file with the same name as the temp file specified in the XML file exists in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement plugs in the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb USING '/disk1/usr/salespdb.xml' 
  SOURCE_FILE_NAME_CONVERT = ('/disk1/oracle/sales/', '/disk2/oracle/sales/')
  NOCOPY
  STORAGE (MAXSIZE 2G)
  TEMPFILE REUSE;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGBBHIF">
                        <p class="titleinexample">Example 38-44 Plugging In an Unplugged PDB With the COPY, PATH_PREFIX, and FILE_NAME_CONVERT Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The new PDB is not based on the same unplugged PDB that was used to create an existing PDB in the CDB. Therefore, the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The path prefix must be added to the PDB's directory object paths. Therefore, the <code class="codeph">PATH_PREFIX</code> clause is required. In this example, the path prefix /disk2/oracle/sales/ is added to the PDB’s directory object paths.
                              </p>
                           </li>
                           <li>
                              <p>The XML file accurately describes the current locations of the files. Therefore, the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause or <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The files are not in the correct location. Therefore, <code class="codeph">COPY</code> or <code class="codeph">MOVE</code> must be included. In this example, the files are copied.
                              </p>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause is not used, Oracle Managed Files is not enabled, and the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is not set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is required. In this example, the files are copied from /disk1/oracle/sales to /disk2/oracle/sales.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits are not required for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement plugs in the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb USING '/disk1/usr/salespdb.xml' 
  COPY
  PATH_PREFIX = '/disk2/oracle/sales/'
  FILE_NAME_CONVERT = ('/disk1/oracle/sales/', '/disk2/oracle/sales/');
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__CEGCFDEB">
                        <p class="titleinexample">Example 38-45 Plugging In an Unplugged PDB Using the SOURCE_FILE_NAME_CONVERT, MOVE, FILE_NAME_CONVERT, and STORAGE Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The new PDB is not based on the same unplugged PDB that was used to create an existing PDB in the CDB. Therefore, the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The XML file does not accurately describe the current locations of the files. Therefore, the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause or <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is required. In this example, the XML file indicates that the files are in /disk1/oracle/sales, but the files are in /disk2/oracle/sales, and the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause is used.
                              </p>
                           </li>
                           <li>
                              <p>The files are not in the correct final location for the PDB. Therefore, <code class="codeph">COPY</code> or <code class="codeph">MOVE</code> must be included. In this example, <code class="codeph">MOVE</code> is specified to move the files.
                              </p>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause is not used, Oracle Managed Files is not enabled, and the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is not set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is required. In this example, the files are moved from /disk2/oracle/sales to /disk3/oracle/sales.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits must be enforced for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is required. Specifically, all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement plugs in the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb USING '/disk1/usr/salespdb.xml' 
  SOURCE_FILE_NAME_CONVERT = ('/disk1/oracle/sales/', '/disk2/oracle/sales/')
  MOVE
  FILE_NAME_CONVERT = ('/disk2/oracle/sales/', '/disk3/oracle/sales/')
  STORAGE (MAXSIZE 2G);
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__GUID-25116949-7B46-4A58-8926-7F394CE495B6">
                        <p class="titleinexample">Example 38-46 Plugging In an Unplugged PDB Using the SOURCE_FILE_DIRECTORY, MOVE, FILE_NAME_CONVERT, and STORAGE Clauses</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The new PDB is not based on the same unplugged PDB that was used to create an existing PDB in the CDB. Therefore, the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The XML file does not accurately describe the current locations of the files. Therefore, the <code class="codeph">SOURCE_FILE_NAME_CONVERT</code> clause or <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is required. In this example, the XML file indicates that the files are in /disk1/oracle/sales, but the files are in /disk2/oracle/sales, and the <code class="codeph">SOURCE_FILE_DIRECTORY</code> clause is used.
                              </p>
                           </li>
                           <li>
                              <p>The files are not in the correct final location for the PDB. Therefore, <code class="codeph">COPY</code> or <code class="codeph">MOVE</code> must be included. In this example, <code class="codeph">MOVE</code> is specified to move the files.
                              </p>
                              <p>The <code class="codeph">CREATE_FILE_DEST</code> clause is not used, Oracle Managed Files is not enabled, and the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is not set. Therefore, the <code class="codeph">FILE_NAME_CONVERT</code> clause is required. In this example, the files are moved from /disk2/oracle/sales to /disk3/oracle/sales.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits must be enforced for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is required. Specifically, all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement plugs in the PDB:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb USING '/disk1/usr/salespdb.xml' 
  SOURCE_FILE_DIRECTORY = '/disk2/oracle/sales/'  
  MOVE
  FILE_NAME_CONVERT = ('/disk2/oracle/sales/', '/disk3/oracle/sales/')
  STORAGE (MAXSIZE 2G);
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__GUID-B39279E7-7C71-443D-AA65-4DCC2EBAF770">
                        <p class="titleinexample">Example 38-47 Plugging In an Unplugged PDB Using an Archive File</p>
                        <p>This example assumes the following factors:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The unplugged PDB is in a .pdb archive file named sales.pdb. The archive file includes the XML metadata file and the PDB’s files (such as the data files and wallet file) in compressed form, and these files are extracted to the current directory of the .pdb archive file when the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement is run.
                              </p>
                           </li>
                           <li>
                              <p>The new PDB is not based on the same unplugged PDB that was used to create an existing PDB in the CDB. Therefore, the <code class="codeph">AS</code> <code class="codeph">CLONE</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PATH_PREFIX</code> clause is not required.
                              </p>
                           </li>
                           <li>
                              <p>Storage limits must be enforced for the PDB. Therefore, the <code class="codeph">STORAGE</code> clause is required. Specifically, all tablespaces that belong to the PDB must not exceed 2 gigabytes.
                              </p>
                           </li>
                           <li>
                              <p>There is no file with the same name as the new temp file that will be created in the target location. Therefore, the <code class="codeph">TEMPFILE REUSE</code> clause is not required.
                              </p>
                           </li>
                        </ul>
                        <p></p>
                        <p>Given the preceding factors, the following statement plugs in the PDB using an archive file:</p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE salespdb USING '/disk1/usr/sales.pdb' 
  STORAGE (MAXSIZE 2G);
</pre><div class="infoboxnotealso" id="GUID-F23F5352-F456-48EE-AED7-71E3DEBAAED0__GUID-061C1910-9739-429B-9392-775DF147253C">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_FILE_NAME_CONVERT.html#REFRN10322"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADMIN14168"></a><div class="props_rev_3"><a id="GUID-E7122CD7-47CA-4A89-A419-8CDEE622AF70" name="GUID-E7122CD7-47CA-4A89-A419-8CDEE622AF70"></a><h4 id="ADMIN-GUID-E7122CD7-47CA-4A89-A419-8CDEE622AF70" class="sect4"><span class="enumeration_section">38.6.3 </span>After Plugging in an Unplugged PDB
                  </h4>
                  <div>
                     <p>Certain rules regarding users and tablespaces apply after plugging in an unplugged PDB.</p>
                     <p>The following applies after plugging in an unplugged PDB:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Users in the PDB who used the default temporary tablespace of the source PDB use the default temporary tablespace of the target PDB. Users who used non-default temporary tablespaces in the source PDB continue to use the same local temporary tablespaces in the target PDB. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="A tablespace is a logical storage container for database objects, such as tables and indexes, that consume storage space. At the physical level, a tablespace stores data in one or more data files or temp files. You can use the ALTER DATABASE statement to manage tablespaces in a CDB.">About Managing Tablespaces in a CDB</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>User-created common users that existed in the source CDB but not in the target CDB do not have any privileges granted commonly. However, if the target CDB has a common user with the same name as a common user in the PDB, the latter is linked to the former and has the privileges granted to this common user in the target CDB.</p>
                           <p>If the cloned or plugged-in PDB has a common user account that does not exist in the target CDB, and if this user does not own objects in the PDB, then Oracle Database drops the user during the synchronization step; otherwise, the user account is locked in the target PDB. You have the following options regarding locked accounts:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Close the PDB, connect to the root, and create a common user account with the same name. When the PDB is opened in read/write mode, differences in roles and privileges granted commonly to the user account are resolved, and you can unlock the account. Privileges and roles granted locally to the user account remain unchanged during this process.</p>
                              </li>
                              <li>
                                 <p>Create a new local user account in the PDB and use Data Pump to export/import the locked user's data into the new local user's schema.</p>
                              </li>
                              <li>
                                 <p>Leave the user account locked.</p>
                              </li>
                              <li>
                                 <p>Drop the user account.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-E7122CD7-47CA-4A89-A419-8CDEE622AF70__GUID-BB96C2B0-E059-4CBA-903B-E957AD15836E">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services Associated with PDBs</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">Example 45-9</a></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/overview-of-the-multitenant-architecture.html#CNCPT89257"><span class="italic">Oracle Database Concepts</span></a> for information about common users and local users
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG002"><span class="italic">Oracle Database Security Guide</span></a> for information about creating common users and local users in a CDB
                              </p>
                           </li>
                           <li>
                              <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL4334"><span class="italic">Oracle Database Utilities</span></a> for information about using Oracle Data Pump with a CDB
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" name="GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C"></a><h3 id="ADMIN-GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" class="sect3"><span class="enumeration_section">38.7 </span>Creating a PDB as a Proxy PDB
               </h3>
               <div>
                  <p>You can create a PDB as a proxy PDB by referencing a PDB in a remote CDB.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1">About Creating a Proxy PDB</a><br>A proxy PDB &nbsp;provides access to another PDB in a remote CDB.&nbsp;You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a proxy PDB by referencing the other PDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82">Creating a Proxy PDB</a><br>You can create a proxy PDB by referencing a PDB in a different CDB.
                     </li>
                  </ul>
               </div>
               
               <div class="props_rev_3"><a id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" name="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1"></a><h4 id="ADMIN-GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" class="sect4"><span class="enumeration_section">38.7.1 </span>About Creating a Proxy PDB
                  </h4>
                  <div>
                     <p>A proxy PDB &nbsp;provides access to another PDB in a remote CDB.&nbsp;You can use the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to create a proxy PDB by referencing the other PDB.
                     </p>
                     <p> </p>
                     <p>This technique creates a proxy PDB by referencing a PDB in a different CDB, which is referred to as the <span class="bold">referenced PDB</span>. You can use a proxy PDB when you want a local context for a remote PDB. In addition, when application containers in different CDBs have the same application, their application roots can be kept synchronized with a proxy PDB.
                     </p>
                     <p>To use this technique, you run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement in the CDB that will contain the proxy PDB. You must include the <code class="codeph">AS PROXY</code> clause to specify that you are creating a proxy PDB. You must also include a <code class="codeph">FROM</code> clause that specifies the PDB that the proxy PDB is referencing.
                     </p>
                     <p>You must specify a database link to the current location of the referenced PDB in the <code class="codeph">FROM</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. The database link must be created in the root of the CDB that will contain the proxy PDB, and the database link connects either to the root of remote CDB or to the remote referenced PDB.
                     </p>
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__CREATEAVIEWPDB-5C5BDF58">Figure 38-12</a> illustrates how this technique creates a proxy PDB that references a PDB in a remote CDB.
                     </p>
                     <div class="figure" id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__CREATEAVIEWPDB-5C5BDF58">
                        <p class="titleinfigure">Figure 38-12 Create a Remote Proxy PDB</p><img src="img/admin110.png" alt="Description of Figure 38-12 follows" title="Description of Figure 38-12 follows" longdesc="img_text/admin110.html"><br><a href="img_text/admin110.html">Description of "Figure 38-12 Create a Remote Proxy PDB"</a></div>
                     <!-- class="figure" -->
                     <p>You can create a proxy PDB in an application container. To do so, the referenced PDB must be an application root or an application PDB in an application container in a different CDB.  The database link must be created in the root of the application container that will contain the proxy PDB, and the database link connects either to the root of remote application container or to the remote referenced application PDB.</p>
                     <p><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__GUID-679CB43C-A8CD-4041-8C7E-1EA9E9E2F0B9">Figure 38-13</a> illustrates how this technique creates a proxy PDB in an application container based on a remote referenced PDB in an application container.
                     </p>
                     <div class="figure" id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__GUID-679CB43C-A8CD-4041-8C7E-1EA9E9E2F0B9">
                        <p class="titleinfigure">Figure 38-13 Create a Remote Proxy PDB in an Application Container</p><img src="img/admin118.png" alt="Description of Figure 38-13 follows" title="Description of Figure 38-13 follows" longdesc="img_text/admin118.html"><br><a href="img_text/admin118.html">Description of "Figure 38-13 Create a Remote Proxy PDB in an Application Container"</a></div>
                     <!-- class="figure" -->
                     <p>When you create a proxy PDB, you must address the questions that apply to creating a proxy PDB in <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="This table describes each clause and when to use each clause.">Table 38-3</a>. The table describes which <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clauses you must specify based on different factors.
                     </p>
                     <div class="infoboxnotealso" id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__GUID-0D128A0B-3EF1-4B66-A522-1DCAAA9B2408">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="You use the CREATE PLUGGABLE DATABASE statement to create a PDB. To use this statement, you must understand the clauses for the statement and when to use each clause.">The CREATE PLUGGABLE DATABASE Statement</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8" title="When application containers in different CDBs have the same application, their application roots can be kept synchronized by creating a master application root, a replica application root, and a proxy PDB.">Synchronizing an Application Root Replica with a Proxy PDB</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3">SQL Statements and Proxy PDBs</p>
                        <p>Excluding <code class="codeph">ALTER PLUGGABLE DATABASE</code> and <code class="codeph">ALTER DATABASE</code> statements, when the proxy PDB is the current container, all SQL statements submitted for execution in the proxy PDB are sent to the referenced PDB and executed in the referenced PDB. The results of the remote execution are returned to the proxy PDB. For example, data definition language (DDL) statements, data manipulation language (DML) statements, and queries executed in the proxy PDB are sent to the referenced PDB for execution, and the results are returned to the proxy PDB.
                        </p>
                        <p>When the proxy PDB is the current container and <code class="codeph">ALTER PLUGGABLE DATABASE</code> and <code class="codeph">ALTER DATABASE</code> statements are executed, these statements only affect the proxy PDB. They are not sent to the referenced PDB for execution. Similarly, when the current container is the root to which the proxy PDB belongs, <code class="codeph">ALTER PLUGGABLE DATABASE</code> statements only affect the proxy PDB. For example, an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement executed in a CDB root, application root, or proxy PDB can open or close a proxy PDB, but this statement does not open or close the referenced PDB.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Proxy PDBs and Database Links</p>
                        <p>As described previously, a database link is always required when you create a proxy PDB. However, after the proxy PDB is created, the database link specified during creation is no longer used by the proxy PDB. Instead, the proxy PDB communicates directly with the referenced PDB.</p>
                        <p>This direct communication requires the port number and host name of the listener of the CDB that contains the referenced PDB. During proxy PDB creation, the proxy PDB uses the following values by default:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Listener port number:</span> 1521
                              </p>
                              <p>If the referenced PDB’s listener does not use the default port number, then you must use the <code class="codeph">PORT</code> clause to specify the listener’s port number. You can specify the port number when you create the proxy PDB, or you can alter the proxy PDB to change the port number. 
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Listener host name:</span> The host name of the CDB that contains the referenced PDB
                              </p>
                              <p>If the referenced PDB’s listener does not use the default host name, then you must use the <code class="codeph">HOST</code> clause to specify the listener’s host name. You can specify the host name when you create the proxy PDB, or you can alter the proxy PDB to change the host name. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Proxy PDBs and Authentication</p>
                        <p>Only password authentication is supported for sessions in a proxy PDB.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" title="The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB. Use the PORT clause to specify the PDB’s port number. Use the HOST clause to specify the PDB’s host name.">PDB Listener Host Name and Port Number</a></li>
                           <li><a href="administering-pdbs-with-sql-plus.html#GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8" title="A PDB that is referenced by a proxy PDB is called a referenced PDB. When the port or host name changes for the listener of the referenced PDB, you must modify the listener settings of the referenced PDB so that its proxy PDBs continue to function properly.">Modifying the Listener Settings of a Referenced PDB</a></li>
                           <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-88E61123-F651-47D7-9977-B589268EBD29" title="You create an application PDB by running the CREATE&nbsp;PLUGGABLE&nbsp;DATABASE&nbsp;statement with an application root as the current container.">Creating an Application PDB</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82" name="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82"></a><h4 id="ADMIN-GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82" class="sect4"><span class="enumeration_section">38.7.2 </span>Creating a Proxy PDB
                  </h4>
                  <div>
                     <p>You can create a proxy PDB by referencing a PDB in a different CDB.</p>
                     <div class="section"> 
                        <p>The following prerequisites must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Complete the prerequisites described in <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Prerequisites must be met before creating a PDB.">Preparing for PDBs</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>The current user must have the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> system privilege in the root of the CDB in which the proxy PDB is being created.
                              </p>
                           </li>
                           <li>
                              <p>The CDB that contains the referenced PDB must be in local undo mode.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.">About the CDB Undo Mode</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>The CDB that contains the referenced PDB must be in <code class="codeph">ARCHIVELOG</code> mode.
                              </p>
                           </li>
                           <li>
                              <p>The referenced PDB must be in open read/write mode when the proxy PDB is created. The open mode of the referenced PDB can be changed after the proxy PDB is created.</p>
                           </li>
                           <li>
                              <p>A database link must enable a connection from the root of the CDB in which the proxy PDB is being created to the location of the referenced PDB. The database link can connect to either the root of the remote CDB or to the remote PDB. </p>
                           </li>
                           <li>
                              <p>If the database link connects to the root in a remote CDB that contains the referenced PDB, then the user that the database link connects with must be a common user.</p>
                           </li>
                           <li>
                              <p>If the database link connects to the referenced PDB, then the user that the database link connects with in the referenced PDB must have the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> system privilege.
                              </p>
                           </li>
                           <li>
                              <div class="p">If you are creating a proxy PDB in an application container, then the following prerequisites apply:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The referenced PDB must be an application root or an application PDB in an application container.</p>
                                    </li>
                                    <li>
                                       <p>The application name and version of the proxy PDB’s application container must match the application name and version of the referenced PDB.</p>
                                    </li>
                                    <li>
                                       <p>When the proxy PDB is being created in an application container, a database link must enable a connection from the root of the application container in which the proxy PDB is being created to the location of the referenced PDB. The database link can connect to either the root of the remote application container or to the remote application PDB. </p>
                                    </li>
                                    <li>
                                       <p>If the database link connects to the root in a remote application container that contains the referenced PDB, then the user that the database link connects with must be an application common user.</p>
                                    </li>
                                    <li>
                                       <p>If the database link connects to the referenced application PDB, then the user that the database link connects with in the referenced application PDB must have the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> system privilege.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <div class="infoboxnote" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__GUID-702EE7DE-BC4F-4D39-BCDF-AA74D86B3891">
                                 <p class="notep1">Note:</p>You can create a proxy PDB in a CDB root that is based on a referenced PDB in an application container.
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To create a proxy PDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the CDB root or application root in which the proxy PDB is being created.</p>
                              <p>When the current container is the CDB root, the proxy PDB is created in the CDB. When the current container is an application root, the proxy PDB is created in the application container.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. Specify the <code class="codeph">AS PROXY</code> clause, and specify the referenced PDB with the database link name in the <code class="codeph">FROM</code> clause. Specify other clauses when they are required.
                              </p> 
                              <p>After you create the proxy PDB, it is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                              </p>
                              <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Open the new PDB in read/write mode. </p>
                              <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                              </p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Back up the PDB. </p>
                              <p>A PDB cannot be recovered unless it is backed up.</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/admin&amp;id=BRADV428"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__GUID-A9FFF8B4-5144-40E0-B701-6D2154BAD23D">
                           <p class="notep1">Note:</p>
                           <p>If an error is returned during creation of the proxy PDB, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__CEGHIBHC">
                        <p class="titleinexample">Example 38-48 Creating a Remote Proxy PDB</p>
                        <p>In this example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement is run:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the current container is the CDB root, the new PDB is created in the CDB root.</p>
                           </li>
                           <li>
                              <p>When the current container is an application root in an application container, the new PDB is created as an application PDB in the application root.</p>
                           </li>
                        </ul>
                        <p>This example creates a remote proxy PDB named <code class="codeph">pdb1</code> given different factors. This example assumes the following factors:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database link name to the referenced PDB’s CDB is <code class="codeph">pdb1_link</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                              </p>
                              <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting. 
                              </p>
                           </li>
                        </ul>
                        <p>Given the preceding factors, the following statement creates the <code class="codeph">pdb1</code> proxy PDB:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE pdb1 AS PROXY FROM pdb1@pdb1_link;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-60C23F96-6EF3-4BE3-B8CF-5AD6EC29954F" name="GUID-60C23F96-6EF3-4BE3-B8CF-5AD6EC29954F"></a><h3 id="ADMIN-GUID-60C23F96-6EF3-4BE3-B8CF-5AD6EC29954F" class="sect3"><span class="enumeration_section">38.8 </span>Creating a PDB Using a Non-CDB
               </h3>
               <p>You can create a PDB using a non-CDB in different ways.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F68E6FE9-919B-4665-95F7-785E69E07264">About Creating a PDB Using a Non-CDB</a><br>You can move a non-CDB into a PDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-0507DF33-30D8-4EB6-9A24-F324E0087ECD">Using the DBMS_PDB Package on a Non-CDB</a><br>You can use the <code class="codeph">DBMS_PDB</code> package on a non-CDB to enable you to plug the non-CDB into a CDB.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN13597"></a><div class="props_rev_3"><a id="GUID-F68E6FE9-919B-4665-95F7-785E69E07264" name="GUID-F68E6FE9-919B-4665-95F7-785E69E07264"></a><h4 id="ADMIN-GUID-F68E6FE9-919B-4665-95F7-785E69E07264" class="sect4"><span class="enumeration_section">38.8.1 </span>About Creating a PDB Using a Non-CDB
                  </h4>
                  <div>
                     <p>You can move a non-CDB into a PDB.</p>
                     <p>You can accomplish this task in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Creating a PDB by cloning a non-CDB</p>
                           <p>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), you can create a PDB by cloning a non-CDB. This method is the simplest way to create a PDB using a non-CDB, but it requires copying the files of the non-CDB to a new location.
                           </p>
                           <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Creating a PDB by Cloning an Existing PDB or Non-CDB</a>"</span> for instructions.
                           </p>
                           <p>Both the CDB and the non-CDB must be running Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2) or later. If your current non-CDB uses an Oracle Database release before Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), then you must upgrade the non-CDB to Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2) to use this technique. See <a href="../upgrd/toc.htm"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about upgrading.
                           </p>
                        </li>
                        <li>
                           <p>Use the <code class="codeph">DBMS_PDB</code> package to generate an XML metadata file.
                           </p>
                           <p>The XML metadata file describes the database files of the non-CDB so that you can plug it into a CDB.</p>
                           <p>This method requires more steps than creating a PDB by cloning a non-CDB, but it enables you to create a PDB using a non-CDB without moving the non-CDB files in some situations.</p>
                           <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-0507DF33-30D8-4EB6-9A24-F324E0087ECD" title="You can use the DBMS_PDB package on a non-CDB to enable you to plug the non-CDB into a CDB.">Using the DBMS_PDB Package on a Non-CDB</a>"</span> describes using this technique.
                           </p>
                           <p>To use this technique, the non-CDB must be an Oracle Database 12<span class="italic">c</span> non-CDB. If your current non-CDB uses an Oracle Database release before Oracle Database 12<span class="italic">c</span>, then you must upgrade the non-CDB to Oracle Database 12<span class="italic">c</span> to use this technique. See <a href="../upgrd/toc.htm"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about upgrading.
                           </p>
                        </li>
                        <li>
                           <p>Use Oracle Data Pump export/import.</p>
                           <p>You export the data from the non-CDB and import it into a PDB.</p>
                           <p>When you import, specify the connect identifier for the PDB after the user name. For example, if the connect identifier for the PDB is <code class="codeph">hrpdb</code>, then enter the following when you run the Oracle Data Pump Import utility:
                           </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span>@hrpdb ...
</pre><p>If the Oracle Database release of the non-CDB is Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later, then you can use full transportable export/import to move the data. When transporting a non-CDB from an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later Oracle Database 11<span class="italic">g</span> database to Oracle Database 12<span class="italic">c</span>, the <code class="codeph">VERSION</code> Data Pump export parameter must be set to <code class="codeph">12.0.0.0.0</code> or higher.
                           </p>
                           <p>If the Oracle Database release of the non-CDB is before Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3), then you can use transportable tablespaces to move the data, or you can perform a full database export/import.
                           </p>
                           <p>See <a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another."> Transporting Data</a>.
                           </p>
                        </li>
                        <li>
                           <p>Use GoldenGate replication.</p>
                           <p>You replicate the data from the non-CDB to a PDB. When the PDB catches up with the non-CDB, you fail over to the PDB.</p>
                           <p>See the Oracle GoldenGate documentation.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADMIN13598"></a><div class="props_rev_3"><a id="GUID-0507DF33-30D8-4EB6-9A24-F324E0087ECD" name="GUID-0507DF33-30D8-4EB6-9A24-F324E0087ECD"></a><h4 id="ADMIN-GUID-0507DF33-30D8-4EB6-9A24-F324E0087ECD" class="sect4"><span class="enumeration_section">38.8.2 </span>Using the DBMS_PDB Package on a Non-CDB
                  </h4>
                  <p>You can use the <code class="codeph">DBMS_PDB</code> package on a non-CDB to enable you to plug the non-CDB into a CDB.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-FEB1F7ED-33EA-4582-8861-52B18BC74A61">About Using the DBMS_PDB Package on a Non-CDB</a><br>This technique creates a PDB from a non-CDB using the <code class="codeph">DBMS_PDB.DESCRIBE</code> procedure. 
                        </li>
                        <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B">Using the DBMS_PDB Package to Create an Unplugged PDB</a><br>You can move a non-CDB into a PDB by using the <code class="codeph">DBMS_PDB.DESCRIBE</code> procedure. 
                        </li>
                     </ul>
                  </div>
                  <a id="ADMIN13757"></a><a id="ADMIN13756"></a><div class="props_rev_3"><a id="GUID-FEB1F7ED-33EA-4582-8861-52B18BC74A61" name="GUID-FEB1F7ED-33EA-4582-8861-52B18BC74A61"></a><h5 id="ADMIN-GUID-FEB1F7ED-33EA-4582-8861-52B18BC74A61" class="sect5"><span class="enumeration_section">38.8.2.1 </span>About Using the DBMS_PDB Package on a Non-CDB
                     </h5>
                     <div>
                        <p>This technique creates a PDB from a non-CDB using the <code class="codeph">DBMS_PDB.DESCRIBE</code> procedure. 
                        </p>
                        <p>You run the <code class="codeph">DBMS_PDB.DESCRIBE</code> procedure on the non-CDB to generate the XML file that describes the database files of the non-CDB. After the XML file is generated, you can plug in the non-CDB in the same way that you can plug in an unplugged PDB. Specifically, you specify the <code class="codeph">USING</code> clause in the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. When the non-CDB is plugged in to a CDB, it is a PDB.
                        </p>
                        <div class="figure" id="GUID-FEB1F7ED-33EA-4582-8861-52B18BC74A61__GUID-1B3EDBBB-C6FB-4B0C-B11C-8429309B56DA">
                           <p class="titleinfigure">Figure 38-14 Plug In a Non-CDB Using the DBMS_PDB.DESCRIBE Procedure</p><img src="img/admin098.png" width="495" alt="Description of Figure 38-14 follows" title="Description of Figure 38-14 follows" longdesc="img_text/admin098.html"><br><a href="img_text/admin098.html">Description of "Figure 38-14 Plug In a Non-CDB Using the DBMS_PDB.DESCRIBE Procedure"</a></div>
                        <!-- class="figure" -->
                        <p>You can use the same technique to create a new application PDB in an application container.</p>
                        <div class="infoboxnote" id="GUID-FEB1F7ED-33EA-4582-8861-52B18BC74A61__GUID-8B8734D6-E5DB-4503-9889-94A596C4A75B">
                           <p class="notep1">Note:</p>
                           <p>To use this technique, the non-CDB must be an Oracle Database 12<span class="italic">c</span> non-CDB.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-FEB1F7ED-33EA-4582-8861-52B18BC74A61__GUID-71EA71C0-C6BB-4D56-87D3-C40B7A8BCE2B">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="You can create a PDB by plugging an unplugged PDB into a CDB.">Creating a PDB by Plugging an Unplugged PDB into a CDB</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="ADMIN13851"></a><div class="props_rev_3"><a id="GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B" name="GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B"></a><h5 id="ADMIN-GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B" class="sect5"><span class="enumeration_section">38.8.2.2 </span>Using the DBMS_PDB Package to Create an Unplugged PDB
                     </h5>
                     <div>
                        <p>You can move a non-CDB into a PDB by using the <code class="codeph">DBMS_PDB.DESCRIBE</code> procedure. 
                        </p>
                        <div class="section">
                           <p class="subhead3">To move a non-CDB into a PDB using the <code class="codeph">DBMS_PDB</code> package:
                           </p>
                           <ol>
                              <li>
                                 <p>Create the CDB if it does not exist.</p>
                                 <p>See <a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning for CDB creation, creating the CDB, and optionally configuring EM Express for the CDB."> Creating and Configuring a CDB</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Ensure that the non-CDB is in a transactionally-consistent state and place it in read-only mode.</p>
                                 <p>See <span class="q">"<a href="starting-up-and-shutting-down.html#GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05" title="Opening a database in read-only mode enables you to query an open database while eliminating any potential for online data content changes.">Opening a Database in Read-Only Mode</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Connect to the non-CDB, and run the <code class="codeph">DBMS_PDB.DESCRIBE</code> procedure to construct an XML file that describes the non-CDB.
                                 </p>
                                 <p>The current user must have <code class="codeph">SYSDBA</code> administrative privilege. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> at connect time.
                                 </p>
                                 <p>For example, to generate an XML file named <code class="codeph">ncdb.xml</code> in the /disk1/oracle directory, run the following procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_PDB.DESCRIBE(
    pdb_descr_file =&gt; '/disk1/oracle/ncdb.xml');
END;
/
</pre><p>After the procedure completes successfully, you can use the XML file and the non-CDB's database files to plug the non-CDB into a CDB.</p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code> function to determine whether the non-CDB is compatible with the CDB.
                                 </p>
                                 <p>When you run the function, set the following parameters:</p>
                                 <p>- <code class="codeph">pdb_descr_file</code> - Set this parameter to the full path to the XML file.
                                 </p>
                                 <p>- <code class="codeph">pdb_name</code> - Specify the name of the new PDB. If this parameter is omitted, then the PDB name in the XML file is used.
                                 </p>
                                 <p>For example, to determine whether a non-CDB described by the /disk1/oracle/ncdb.xml file is compatible with the current CDB, run the following PL/SQL block:</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
  compatible CONSTANT VARCHAR2(3) := 
    CASE DBMS_PDB.CHECK_PLUG_COMPATIBILITY(
           pdb_descr_file =&gt; '/disk1/oracle/ncdb.xml',
           pdb_name       =&gt; 'NCDB')
    WHEN TRUE THEN 'YES'
    ELSE 'NO'
END;
BEGIN
  DBMS_OUTPUT.PUT_LINE(compatible);
END;
/
</pre><p>If the output is <code class="codeph">YES</code>, then the non-CDB is compatible, and you can continue with the next step.
                                 </p>
                                 <p>If the output is <code class="codeph">NO</code>, then the non-CDB is not compatible, and you can check the <code class="codeph">PDB_PLUG_IN_VIOLATIONS</code> view to see why it is not compatible. All violations must be corrected before you continue. For example, any version or patch mismatches should be resolved by running an upgrade or the datapatch utility. After correcting the violations, run <code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code> again to ensure that the non-CDB is compatible with the CDB.
                                 </p>
                              </li>
                              <li>
                                 <p>Shut down the non-CDB.</p>
                                 <p>See <span class="q">"<a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="You can shut down a database with SQL*Plus or Oracle Restart.">Shutting Down a Database</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Plug in the non-CDB.</p>
                                 <p>Follow the instructions in <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="You can create a PDB by plugging an unplugged PDB into a CDB.">Creating a PDB by Plugging an Unplugged PDB into a CDB</a>"</span> to plug in the non-CDB.
                                 </p>
                                 <p>For example, the following SQL statement plugs in a non-CDB, copies its files to a new location, and includes only the <code class="codeph">tbs3</code> user tablespace from the non-CDB:
                                 </p><pre class="oac_no_warn" dir="ltr">CREATE PLUGGABLE DATABASE ncdb USING '/disk1/oracle/ncdb.xml'
  COPY
  FILE_NAME_CONVERT = ('/disk1/oracle/dbs/', '/disk2/oracle/ncdb/')
  USER_TABLESPACES=('tbs3');
</pre><p></p>
                                 <p>If there are no violations, then do not open the new PDB. You will open it in step <a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B__CEGJHJGD">8</a>.
                                 </p>
                                 <p>The <code class="codeph">USER_TABLESPACES</code> clause enables you to separate data that was used for multiple tenants in a non-CDB into different PDBs. You can use multiple <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statements with this clause to create other PDBs that include the data from other tablespaces that existed in the non-CDB.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d300602e10518" class="indexterm-anchor"></a>Run the <span class="italic">ORACLE_HOME</span>/rdbms/admin/noncdb_to_pdb.sql script. This script must be run before the PDB can be opened for the first time. See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-F68E6FE9-919B-4665-95F7-785E69E07264" title="You can move a non-CDB into a PDB.">Creating a PDB Using a Non-CDB</a>"</span>.
                                 </p>
                                 <p>If the PDB was not a non-CDB, then running the noncdb_to_pdb.sql script is not required.</p>
                                 <p>To run the noncdb_to_pdb.sql script, complete the following steps:</p>
                                 <ol type="a">
                                    <li>
                                       <p>Access the PDB.</p>
                                       <p>The current user must have <code class="codeph">SYSDBA</code> administrative privilege, and the privilege must be either commonly granted or locally granted in the PDB. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> at connect time.
                                       </p>
                                       <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Run the noncdb_to_pdb.sql script:</p><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/noncdb_to_pdb.sql
</pre></li>
                                 </ol>
                                 <p>The script opens the PDB, performs changes, and closes the PDB when the changes are complete.</p>
                              </li>
                              <li id="GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B__CEGJHJGD">
                                 <p>Open the new PDB in read/write mode.</p>
                                 <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                                 </p>
                                 <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>Back up the PDB.</p>
                                 <p>A PDB cannot be recovered unless it is backed up.</p>
                                 <p><a href="../bradv/backing-up-database.html#BRADV428"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B__GUID-E9DD002C-0C50-487B-B857-6AA13F0DC51F">
                              <p class="notep1">Note:</p>
                              <p>If an error is returned during PDB creation, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-EE58804F-A999-4F7C-93DE-D641B3C1047B__GUID-C3FE9C34-7F69-4047-A30A-BCDFB8C9B187">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-E7122CD7-47CA-4A89-A419-8CDEE622AF70" title="Certain rules regarding users and tablespaces apply after plugging in an unplugged PDB.">After Plugging in an Unplugged PDB</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-1C47D543-8376-48AE-A1AE-632316731D59" title="The USER_TABLESPACES clause of the CREATE PLUGGABLE DATABASE statement specifies which tablespaces are available in the new PDB.">User Tablespaces</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADMIN13623"></a><div class="props_rev_3"><a id="GUID-893E1D67-BD95-4757-B862-03AD13AFF722" name="GUID-893E1D67-BD95-4757-B862-03AD13AFF722"></a><h3 id="ADMIN-GUID-893E1D67-BD95-4757-B862-03AD13AFF722" class="sect3"><span class="enumeration_section">38.9 </span>Unplugging a PDB from a CDB
               </h3>
               <p>You can unplug a PDB from a CDB.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F">About Unplugging a PDB</a><br>Unplugging a PDB disassociates the PDB from a CDB. You unplug a PDB when you want to move the PDB to a different CDB, when you want to archive the PDB for later use, or when you no longer want the PDB to be available.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-75C46F1B-00D8-4FB9-A8E7-6F7FE3DE4CA0">Unplugging a PDB</a><br>You must meet prerequisites when unplugging a PDB.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN13857"></a><a id="ADMIN13856"></a><div class="props_rev_3"><a id="GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F" name="GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F"></a><h4 id="ADMIN-GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F" class="sect4"><span class="enumeration_section">38.9.1 </span>About Unplugging a PDB
                  </h4>
                  <div>
                     <p>Unplugging a PDB disassociates the PDB from a CDB. You unplug a PDB when you want to move the PDB to a different CDB, when you want to archive the PDB for later use, or when you no longer want the PDB to be available.</p>
                     <p> </p>
                     <p>To unplug a PDB, connect to its CDB root or application root and use the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to specify an XML file or a .pdb file. When you specify an XML file (.xml extension), it will contain metadata about the PDB after it is unplugged. The SQL statement creates the XML file, and it contains the required information to enable a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement on a target CDB to plug in the PDB. When you specify a .pdb file, it contains a compressed archive of the XML file that describes the PDB and the files used by the PDB&nbsp;(such as the data files and wallet file). A .pdb file enables you to copy a single, compressed file (instead of multiple files) to a new location to plug the PDB into a CDB.
                     </p>
                     <div class="figure" id="GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F__GUID-4038C386-77DE-44A4-A798-9542AF6DC7B3">
                        <p class="titleinfigure">Figure 38-15 Unplug a PDB</p><img src="img/admin100.png" width="492" alt="Description of Figure 38-15 follows" title="Description of Figure 38-15 follows" longdesc="img_text/admin100.html"><br><a href="img_text/admin100.html">Description of "Figure 38-15 Unplug a PDB"</a></div>
                     <!-- class="figure" -->
                     <p>The following illustration shows how this technique unplugs an application PDB from an application container.</p>
                     <div class="figure" id="GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F__GUID-DE721841-048F-47CB-B3F3-A8925F5626A0"><img src="img/admin119.png" alt="Description of admin119.eps follows" title="Description of admin119.eps follows" longdesc="img_text/admin119.html"><br><a href="img_text/admin119.html">Description of the illustration admin119.eps</a></div>
                     <!-- class="figure" -->
                     <p>The PDB must be closed before it can be unplugged. When you unplug a PDB, the unplugged PDB is in mounted mode. The unplug operation makes some changes in the PDB's data files to record, for example, that the PDB was successfully unplugged. Because it is still part of the CDB, the unplugged PDB is included in an RMAN backup of the entire CDB. Such a backup provides a convenient way to archive the unplugged PDB in case it is needed in the future.</p>
                     <p>To completely remove the PDB from the CDB, you can drop the PDB. The only operation supported on an unplugged PDB is dropping the PDB. The PDB must be dropped from the CDB before it can be plugged back into the same CDB. A PDB is usable only when it is plugged into a CDB.</p>
                     <div class="infoboxnote" id="GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F__GUID-8E210154-F58C-4D62-9059-A434338CDC90">
                        <p class="notep1">Note:</p>You can unplug an application container only if no application PDBs belong to it.
                     </div>
                     <div class="infoboxnotealso" id="GUID-3D9AA767-F03C-46EB-AF8E-6808AF1C9D9F__GUID-C103D457-94FE-4488-92DC-C325C9223827">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E" title="The DROP PLUGGABLE DATABASE statement drops a PDB. You can drop a PDB when you want to move the PDB from one CDB to another or when you no longer need the PDB.">Dropping a PDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for information about closing a PDB
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="You can use the ALTER SYSTEM statement to modify a PDB.">Using the ALTER SYSTEM Statement to Modify a PDB</a>"</span> for information about initialization parameters and unplugged PDBs
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG573"><span class="italic">Oracle Database Security Guide</span></a> for information about common users and local users
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN13625"></a><a id="ADMIN13858"></a><div class="props_rev_3"><a id="GUID-75C46F1B-00D8-4FB9-A8E7-6F7FE3DE4CA0" name="GUID-75C46F1B-00D8-4FB9-A8E7-6F7FE3DE4CA0"></a><h4 id="ADMIN-GUID-75C46F1B-00D8-4FB9-A8E7-6F7FE3DE4CA0" class="sect4"><span class="enumeration_section">38.9.2 </span>Unplugging a PDB
                  </h4>
                  <div>
                     <p>You must meet prerequisites when unplugging a PDB.</p>
                     <div class="section"> 
                        <p>The following prerequisites must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The current user must have <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> administrative privilege, and the privilege must be either commonly granted or locally granted in the PDB. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> or <code class="codeph">AS</code> <code class="codeph">SYSOPER</code> at connect time.
                              </p>
                           </li>
                           <li>
                              <p>The PDB must have been opened at least once.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-75C46F1B-00D8-4FB9-A8E7-6F7FE3DE4CA0__GUID-3FBFA050-BFC2-4321-9E7B-24FCDF31B4BB">
                           <p class="notep1">Note:</p>
                           <p>If you are unplugging a PDB that includes data that was encrypted with Transparent Data Encryption, then follow the instructions in <a href="../asoag/using-transparent-data-encryption-with-other-oracle-features.html#ASOAG10441"><span class="italic">Oracle Database Advanced Security Guide</span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To unplug a PDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root of the PDB.</p>
                              <p>If the PDB is plugged into the CDB root, then the current container must be the CDB root. If the PDB is plugged into an application root, then the current container must be the application root.</p>
                              <p>If you are unplugging an application container, then the current container must be the CDB root, and the application container must not have any application PDBs plugged into it.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Close the PDB.</p>
                              <p>In an Oracle Real Application Clusters (Oracle RAC) environment, the PDB must be closed on all instances.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with the <code class="codeph">UNPLUG</code> <code class="codeph">INTO</code> clause, and specify the PDB to unplug and the name and location of the PDB's XML metadata file or .pdb file.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-75C46F1B-00D8-4FB9-A8E7-6F7FE3DE4CA0__GUID-CCEEA9CE-A707-44CE-9385-F8813577D397">
                        <p class="titleinexample">Example 38-49 Unplugging PDB salespdb Into an XML Metadata File</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement unplugs the PDB <code class="codeph">salespdb</code> and creates the salespdb.xml metadata file in the /oracle/data/ directory:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb UNPLUG INTO '/oracle/data/salespdb.xml';
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-75C46F1B-00D8-4FB9-A8E7-6F7FE3DE4CA0__GUID-9B3D2A22-5853-4004-B69F-8CD239C99390">
                        <p class="titleinexample">Example 38-50 Unplugging PDB salespdb Into an Archive File</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement unplugs the PDB <code class="codeph">salespdb</code> and creates the sales.pdb archive file  in the /oracle/data/ directory. The sales.pdb archive file is a compressed file that includes the XML metadata file and the PDB’s files (such as the data files and wallet file).
                        </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb UNPLUG INTO '/oracle/data/sales.pdb';
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADMIN13660"></a><a id="ADMIN13969"></a><a id="ADMIN13658"></a><div class="props_rev_3"><a id="GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E" name="GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E"></a><h3 id="ADMIN-GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E" class="sect3"><span class="enumeration_section">38.10 </span>Dropping a PDB
               </h3>
               <div>
                  <p>The <code class="codeph">DROP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement drops a PDB. You can drop a PDB when you want to move the PDB from one CDB to another or when you no longer need the PDB. 
                  </p>
                  <div class="section">
                     <p>When you drop a PDB, the control file of the CDB is modified to eliminate all references to the dropped PDB. Archived redo log files and backups associated with the PDB are not removed, but you can use Oracle Recovery Manager (RMAN) to remove them.</p>
                     <p>When dropping a PDB, you can either keep or delete the PDB's data files by using one of the following clauses:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">KEEP</code> <code class="codeph">DATAFILES</code>, the default, retains the data files.
                           </p>
                           <p>The PDB's temp file is removed even when <code class="codeph">KEEP</code> <code class="codeph">DATAFILES</code> is specified because the temp file is no longer needed.
                           </p>
                           <p>When <code class="codeph">KEEP</code> <code class="codeph">DATAFILES</code> is specified, the PDB must be unplugged.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INCLUDING</code> <code class="codeph">DATAFILES</code> removes the data files from disk.
                           </p>
                           <p>If a PDB was created with the <code class="codeph">SNAPSHOT</code> <code class="codeph">COPY</code> clause, then you must specify <code class="codeph">INCLUDING</code> <code class="codeph">DATAFILES</code> when you drop the PDB.
                           </p>
                        </li>
                     </ul>
                     <p>The following prerequisites must be met:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The PDB must be in mounted mode, or it must be unplugged.</p>
                           <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span>.
                           </p>
                           <p>See <span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722" title="You can unplug a PDB from a CDB.">Unplugging a PDB from a CDB</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>The current user must have <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> administrative privilege, and the privilege must be either commonly granted or locally granted in the PDB. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> or <code class="codeph">AS</code> <code class="codeph">SYSOPER</code> at connect time.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E__GUID-F34C4A60-2A7D-4B77-B935-F23C28170F6B">
                        <p class="notep1">Note:</p>
                        <p>This operation is destructive.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">To drop a PDB:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus, ensure that the current container is the CDB root, or, for an application PDB, the application root that contains the application PDB.</p>
                           <p>If the PDB is plugged into the CDB root, then the current container must be the CDB root. If the PDB is plugged into an application root, then the current container must be that application root or the CDB root.</p>
                           <p>If you are dropping an application container, then the current container must be the CDB root, and the application container must not have any application PDBs plugged into it.</p>
                           <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> and <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Run the <code class="codeph">DROP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement and specify the PDB to drop.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E__GUID-FF7541EE-ACD7-4151-AEBB-1F9E9A944FA1">
                     <p class="titleinexample">Example 38-51 Dropping PDB salespdb While Keeping Its Data Files</p><pre class="oac_no_warn" dir="ltr">DROP PLUGGABLE DATABASE salespdb
  KEEP DATAFILES;
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E__GUID-8B29E38F-F7D2-476F-9A89-5593A3BA7E0B">
                     <p class="titleinexample">Example 38-52 Dropping PDB salespdb and Its Data Files</p><pre class="oac_no_warn" dir="ltr">DROP PLUGGABLE DATABASE salespdb
  INCLUDING DATAFILES;
</pre><div class="infoboxnotealso" id="GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E__GUID-BAE3500C-0E35-4B47-A0D5-A95A7C7E61F4">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722" title="You can unplug a PDB from a CDB.">Unplugging a PDB from a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B__CEGEECGG">The SNAPSHOT COPY Clause</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/DROP-PLUGGABLE-DATABASE.html#SQLRF55699"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </li>
                           <li>
                              <p><a href="../bradv/getting-started-rman.html#BRADV89346"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about RMAN
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>