<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Administering a multitenant container database (CDB) with SQL*Plus includes tasks such as accessing a container in a CDB, modifying a CDB, executing DDL statements in a CDB, and running Oracle-supplied SQL scripts in a CDB.">
      <meta name="description" content="Administering a multitenant container database (CDB) with SQL*Plus includes tasks such as accessing a container in a CDB, modifying a CDB, executing DDL statements in a CDB, and running Oracle-supplied SQL scripts in a CDB.">
      <title>Administering a CDB with SQL*Plus</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="Administering a multitenant container database (CDB) with SQL*Plus includes tasks such as accessing a container in a CDB, modifying a CDB, executing DDL statements in a CDB, and running Oracle-supplied SQL scripts in a CDB.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-29T07:20:19-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85760-06">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="creating-removing-application-containers-seeds-with-sql-plus.html" title="Previous" type="text/html">
      <link rel="next" href="administering-cdbs-and-pdbs-with-cloud-control.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-removing-application-containers-seeds-with-sql-plus.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="administering-cdbs-and-pdbs-with-cloud-control.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">    Managing a Multitenant Environment</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Administering a CDB with SQL*Plus</li>
            </ol>
            <a id="GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" name="GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97"></a><a id="ADMIN13606"></a>
            
            <h2 id="ADMIN-GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" class="sect2"><span class="enumeration_chapter">41 </span> Administering a CDB with SQL*Plus
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Administering a multitenant container database (CDB) with SQL*Plus includes tasks such as accessing a container in a CDB, modifying a CDB, executing DDL statements in a CDB, and running Oracle-supplied SQL scripts in a CDB.</p>
               <div class="infoboxnote" id="GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97__GUID-B0571E05-702F-4A61-83C9-969F2A0BBD22">
                  <p class="notep1">Note:</p>You can complete the tasks in this chapter using SQL*Plus or Oracle SQL Developer.
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8">About Administering a CDB</a><br>Administering a CDB is similar to administering a non-CDB, but there are some differences. Most of the differences are because some administrative tasks apply to the entire CDB, while others apply to the CDB root, application containers, application roots, and specific pluggable databases (PDBs) and application PDBs.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3">Accessing a Container in a CDB with SQL*Plus</a><br>You can access a container in a CDB with SQL*Plus.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-136666E0-2BF9-4538-8D60-11505898E5E2">Executing Code in Containers Using the DBMS_SQL Package</a><br>When you are executing PL/SQL code in a container in a CDB, and you want to execute one or more SQL statements in a different container, use the <code class="codeph">DBMS_SQL</code> package to switch containers.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B">Modifying a CDB</a><br>You can modify the entire CDB, the root, or one or more PDBs.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95">Using the ALTER SYSTEM SET Statement in a CDB</a><br>The <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement can dynamically set an initialization parameter in one or more containers in a CDB.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F">Issuing DML Statements on Containers in a CDB</a><br>A DML (data manipulation language) statement issued in a CDB root can modify one or more containers in the CDB. In addition, you can specify one or more default container targets for DML statements. 
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-6B579864-6273-408A-A7C5-859B42098FFA">Executing DDL Statements in a CDB</a><br>In a CDB, you can execute a  data definition language (DDL) statement in the current container or in all containers.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51">Managing the CDB Undo Mode</a><br>When local undo is enabled, each container has its own undo tablespace for every instance in which it is open. When local undo is disabled, there is one undo tablespace for the entire CDB.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4">Running Oracle-Supplied SQL Scripts in a CDB</a><br>You can use the catcon.pl script to run Oracle-supplied SQL scripts in a CDB.
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732">Shutting Down a CDB Instance</a><br>You can shut down a CDB instance in the same way that you shut down a non-CDB instance.
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="overview-of-managing-a-multitenant-environment.html#GUID-C1EEE559-3E2B-42A4-B0A0-94C82769ECCB" title="You can use various tools to configure and administer a multitenant environment.">Tools for a Multitenant Environment</a></li>
                  </ul>
               </div>
            </div><a id="ADMIN13848"></a><div class="props_rev_3"><a id="GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" name="GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8"></a><h3 id="ADMIN-GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" class="sect3"><span class="enumeration_section">41.1 </span>About Administering a CDB
               </h3>
               <div>
                  <p>Administering a CDB is similar to administering a non-CDB, but there are some differences. Most of the differences are because some administrative tasks apply to the entire CDB, while others apply to the CDB root, application containers, application roots, and specific pluggable databases (PDBs) and application PDBs.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5">About the Current Container</a><br>The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC">About Administrative Tasks in a CDB</a><br>Common users perform administrative tasks for a CDB.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-DF42C0D3-8968-4810-9327-9D176337D356">About Using Manageability Features in a CDB</a><br> For each of Oracle Database's manageability features in a CDB, it is important to understand the data location and the data visibility.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146">About Managing Database Objects in a CDB</a><br>In a CDB, different containers can contain different database objects.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04">About Flashing Back a PDB</a><br>You can use the <code class="codeph">FLASHBACK PLUGGABLE DATABASE</code> statement to return a PDB to a past time or system change number (SCN).
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-3B2EF996-3BE8-413D-968C-14339FACFC12">About Restricting PDB Users for Enhanced Security</a><br>There are several ways to restrict PDB users for enhanced security. A PDB lockdown profile restricts the features and options available to users in a particular PDB. The <code class="codeph">PDB_OS_CREDENTIAL</code> initialization parameter can specify a unique operating system user for a PDB to limit operating system access. Also, when the <code class="codeph">PATH_PREFIX</code> and <code class="codeph">CREATE_FILE_DEST</code> clauses are specified during PDB creation, they limit file system access.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN14214"></a><div class="props_rev_3"><a id="GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" name="GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5"></a><h4 id="ADMIN-GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" class="sect4"><span class="enumeration_section">41.1.1 </span>About the Current Container
                  </h4>
                  <div>
                     <p>The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.</p>
                     <p> </p>
                     <p>Each container has a unique ID and name in a CDB. You can use the <code class="codeph">CON_ID</code> and <code class="codeph">CON_NAME</code> parameters in the <code class="codeph">USERENV</code> namespace to determine the current container ID and name with the <code class="codeph">SYS_CONTEXT</code> function. For example, the following query returns the current container name:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT ('USERENV', 'CON_NAME') FROM DUAL;
</pre><p>You can access a container in various ways in a CDB. For example, you can use the SQL*Plus <code class="codeph">CONNECT</code> command, and you can use an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement to switch the container of the current session.
                     </p>
                     <p>The following rules apply to the current container in a CDB:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The current container can be <code class="codeph">CDB$ROOT</code> (CDB root) only for common users. 
                           </p>
                        </li>
                        <li>
                           <p>The current container can be a particular PDB for common users and local users.</p>
                        </li>
                        <li>
                           <p>The current container can be an application root only for common users or for application common users created in the application root. </p>
                        </li>
                        <li>
                           <p>The current container can be a particular application PDB for common users, application common users, and local users.</p>
                        </li>
                        <li>
                           <p>The current container must be the CDB root or an application root when a SQL statement includes <code class="codeph">CONTAINER = ALL</code>.
                           </p>
                           <p>You can include the <code class="codeph">CONTAINER</code> clause in several SQL statements, such as the <code class="codeph">CREATE USER</code>, <code class="codeph">ALTER USER</code>, <code class="codeph">CREATE ROLE</code>, <code class="codeph">GRANT</code>, <code class="codeph">REVOKE</code>, and <code class="codeph">ALTER SYSTEM</code> statements.
                           </p>
                        </li>
                        <li>
                           <p>When a SQL statement includes <code class="codeph">CONTAINER = ALL</code> and the current container is the CDB root, the SQL statement affects all containers in the CDB, including all PDBs, application roots, and application PDBs.
                           </p>
                        </li>
                        <li>
                           <p>When a SQL statement includes <code class="codeph">CONTAINER = ALL</code> and the current container is an application root, the SQL statement affects all containers in the application container, including the application root and all of the application PDBs that belong to the application root. The SQL statement does not affect the CDB root or any PDBs or application PDBs that do not belong to the current application root.
                           </p>
                        </li>
                        <li>
                           <p>Only a common user or application common user with the commonly granted <code class="codeph">SET CONTAINER</code> privilege can run a SQL statement that includes <code class="codeph">CONTAINER = ALL</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5__GUID-E4BED5D3-830A-410E-B12D-D09BFABE46A5">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-136666E0-2BF9-4538-8D60-11505898E5E2" title="When you are executing PL/SQL code in a container in a CDB, and you want to execute one or more SQL statements in a different container, use the DBMS_SQL package to switch containers.">Executing Code in Containers Using the DBMS_SQL Package</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" title="You can determine your current container ID or container name in a CDB.">Determining the Current Container ID or Name</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/overview-of-the-multitenant-architecture.html#CNCPT89396"><span class="italic">Oracle Database Concepts</span></a></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/SYS_CONTEXT.html#SQLRF06117"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </li>
                           <li>
                              <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG754"><span class="italic">Oracle Database Security Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN13548"></a><a id="ADMIN13884"></a><div class="props_rev_3"><a id="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC" name="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC"></a><h4 id="ADMIN-GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC" class="sect4"><span class="enumeration_section">41.1.2 </span>About Administrative Tasks in a CDB
                  </h4>
                  <div>
                     <p>Common users perform administrative tasks for a CDB.</p>
                     <p>   </p>
                     <p>A common user has a single identity and can log in to the CDB root, any application root, PDB, or application PDB in which it has privileges. Some tasks, such as starting up a CDB instance, can be performed only by a common user.</p>
                     <p>Other administrative tasks are the same for a CDB and a non-CDB. <a href="administering-a-cdb-with-sql-plus.html#GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC__BABDHIBE" title="This table describes each common task and provides cross references to more information about each common task.">Table 41-1</a> describes some of these tasks and provides pointers to the relevant documentation.
                     </p>
                     <div class="tblformalwide" id="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC__BABDHIBE">
                        <p class="titleintable">Table 41-1 Administrative Tasks Common to CDBs and Non-CDBs</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Administrative Tasks Common to CDBs and Non-CDBs" summary="This table describes each common task and provides cross references to more information about each common task." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d324875e474">Task</th>
                                 <th align="left" valign="bottom" width="48%" id="d324875e477">Description</th>
                                 <th align="left" valign="bottom" width="26%" id="d324875e480">Additional Information</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e485" headers="d324875e474 ">
                                    <p>Starting up a CDB instance</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e485 d324875e477 ">
                                    <p>To start a CDB instance, the current user must be a common user whose current container is the CDB root.</p>
                                    <p>When you open a CDB, the CDB root is opened, but its other containers are mounted. Use the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to modify the open mode of one or more containers.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e485 d324875e480 ">
                                    <p><span class="q">"<a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="When you start up a database, you create an instance of that database and you determine the state of the database. Normally, you start up an instance by mounting and opening the database. Doing so makes the database available for any valid user to connect to and perform typical data access operations.">Starting Up a Database</a>"</span></p>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span></p>
                                    <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="You can use the ALTER PLUGGABLE DATABASE statement to modify the attributes of a single PDB.">Modifying a PDB with the ALTER PLUGGABLE DATABASE Statement</a>"</span></p>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e557" headers="d324875e474 ">
                                    <p>Managing processes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e557 d324875e477 ">
                                    <p>A CDB has one set of background processes shared by the CDB root and all containers.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e557 d324875e480 ">
                                    <p><span class="q">"<a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle Databases uses several processes so that multiple users and applications can connect to a single database instance simultaneously."> Managing Processes</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e573" headers="d324875e474 ">
                                    <p>Managing memory</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e573 d324875e477 ">
                                    <p>A CDB has a single system global area (SGA) and a single aggregate program global area (PGA). The memory required by a CDB is the sum of the memory requirements for all of the containers that will be part of the CDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e573 d324875e480 ">
                                    <p><span class="q">"<a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="Memory management involves maintaining optimal sizes for the Oracle Database instance memory structures as demands on the database change."> Managing Memory</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e589" headers="d324875e474 ">
                                    <p>Managing security</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e589 d324875e477 ">
                                    <p>You can create and drop common users, application common users, and local users in a CDB. You can also grant privileges to and revoke privileges from these users. You can also manage the <code class="codeph">CONTAINER_DATA</code> attributes of common users and application common users.
                                    </p>
                                    <p>In addition, grant the following roles to the appropriate users:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Grant the <code class="codeph">CDB_DBA</code> role to CDB administrators.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Grant the <code class="codeph">PDB_DBA</code> role to application container administrators and PDB administrators. 
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e589 d324875e480 ">
                                    <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG573"><span class="italic">Oracle Database Security Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e620" headers="d324875e474 ">
                                    <p>Monitoring errors and alerts</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e620 d324875e477 ">
                                    <p>A CDB has one alert log for the entire CDB. The name of an application container, PDB, or application PDB is included in records in trace files, when appropriate.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e620 d324875e480 ">
                                    <p><span class="q">"<a href="monitoring-the-database.html#GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" title="You can monitor database errors and alerts to prevent, detect, and solve problems.">Monitoring Errors and Alerts</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e636" headers="d324875e474 ">
                                    <p>Managing diagnostic data</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e636 d324875e477 ">
                                    <p>In a CDB, you can use the Oracle Database fault diagnosability infrastructure and the Automatic Diagnostic Repository (ADR).</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e636 d324875e480 ">
                                    <p><a href="managing-diagnostic-data.html#GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" title="Oracle Database includes an advanced fault diagnosability infrastructure for collecting and managing diagnostic data. Diagnostic data includes the trace files, dumps, and core files that are also present in previous releases, plus new types of diagnostic data that enable customers and Oracle Support to identify, investigate, track, and resolve problems quickly and effectively."> Managing Diagnostic Data </a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e654" headers="d324875e474 ">
                                    <p>Managing control files</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e654 d324875e477 ">
                                    <p>A CDB has one control file.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e654 d324875e480 ">
                                    <p><span class="q">"<a href="managing-control-files.html#GUID-5F6F9382-6921-4992-9789-E63B18E99C5F" title="You can create, back up, and drop control files.">Managing Control Files</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e670" headers="d324875e474 ">
                                    <p>Managing the online redo log and the archived redo log files</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e670 d324875e477 ">
                                    <p>A CDB has one online redo log and one set of archived redo log files.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e670 d324875e480 ">
                                    <p><span class="q">"<a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches."> Managing the Redo Log</a>"</span></p>
                                    <p><span class="q">"<a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations."> Managing Archived Redo Log Files</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e700" headers="d324875e474 ">
                                    <p>Managing tablespaces</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e700 d324875e477 ">
                                    <p>You can create, modify, and drop tablespaces and temporary tablespaces for the CDB root and for individual containers. You can also specify a default tablespace, default tablespace type, and a default temporary tablespace for the CDB root. The CDB root has its own set of Oracle-supplied tablespaces, such as the <code class="codeph">SYSTEM</code> tablespace, and other containers have their own set of Oracle-supplied tablespaces.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e700 d324875e480 ">
                                    <p><span class="q">"<a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."> Managing Tablespaces</a>"</span></p>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" title="The ALTER DATABASE statement modifies a CDB. The ALTER PLUGGABLE DATABASE statement can modify the open mode of one or more PDBs.">Modifying a CDB</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e742" headers="d324875e474 ">
                                    <p>Managing data files and temp files</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e742 d324875e477 ">
                                    <p>The CDB root has its own data files, and other containers have their own data files. In a CDB, you can manage data files and temp files in basically the same way you would manage them for a non-CDB. However, the following exceptions apply to CDBs:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>You can limit the amount of storage used by the data files for a container by using the <code class="codeph">STORAGE</code> clause in a <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> or <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                                          </p>
                                       </li>
                                       <li>
                                          <p>There is a default temporary tablespace for the CDB root and for individual containers.</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e742 d324875e480 ">
                                    <p><span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-501A8889-3C18-4F99-B0B7-9095E981B970" title="You can manage data files and temp files by performing tasks such as creating them, altering them, and dropping them.">Managing Data Files and Temp Files</a>"</span></p>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" title="The ALTER DATABASE statement modifies a CDB. The ALTER PLUGGABLE DATABASE statement can modify the open mode of one or more PDBs.">Modifying a CDB</a>"</span></p>
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637" title="The optional STORAGE clause of the CREATE PLUGGABLE DATABASE statement specifies storage limits for PDBs.">Storage Limits</a>"</span></p>
                                    <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="You can modify a PDB using the ALTER PLUGGABLE DATABASE statement and with the SQL*Plus STARTUP and SHUTDOWN commands.">Modifying a PDB</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e847" headers="d324875e474 ">
                                    <p>Managing undo</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e847 d324875e477 ">
                                    <p>A CDB can run in local undo mode or shared undo mode. Local undo mode means that every container in the CDB uses local undo. Shared undo mode means that there is one active undo tablespace for a single-instance CDB, or for an Oracle RAC CDB, there is one active undo tablespace for each instance. </p>
                                    <p>In a CDB, the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter must be set to <code class="codeph">AUTO</code>, and an undo tablespace is required to manage the undo data.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e847 d324875e480 ">
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="When local undo is enabled, each container has its own undo tablespace for every instance in which it is open. When local undo is disabled, there is one undo tablespace for the entire CDB.">Managing the CDB Undo Mode</a>"</span></p>
                                    <p><span class="q">"<a href="managing-undo.html#GUID-2C865CF9-A8B5-4BF1-A451-E8C08D3611F0" title="For a default installation, Oracle Database automatically manages undo. There is typically no need for DBA intervention. However, if your installation uses Oracle Flashback operations, you may need to perform some undo management tasks to ensure the success of these operations."> Managing Undo </a>"</span></p>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e887" headers="d324875e474 ">
                                    <p>Moving data between containers</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e887 d324875e477 ">
                                    <p>You can move data between containers using the same methods that you would use to move data between non-CDBs. For example, you can transport the data or use Data Pump export/import to move the data.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e887 d324875e480 ">
                                    <p><span class="q">"<a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another."> Transporting Data</a>"</span></p>
                                    <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL100"><span class="italic">Oracle Database Utilities</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e908" headers="d324875e474 ">
                                    <p>Using Oracle Managed Files</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e908 d324875e477 ">
                                    <p>Using Oracle Managed files can simplify administration for both a CDB and a non-CDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e908 d324875e480 ">
                                    <p><span class="q">"<a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e924" headers="d324875e474 ">
                                    <p><a id="d324875e926" class="indexterm-anchor"></a><a id="d324875e930" class="indexterm-anchor"></a>Using Transparent Data Encryption
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e924 d324875e477 ">
                                    <p>Transparent Data Encryption is a feature that enables encryption of individual table columns before storing them in the data file, or enables encryption of entire tablespaces. In a CDB, each container has its own master key for Transparent Data Encryption, and, where applicable, the <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> SQL statement enables key management at the CDB level and for individual containers.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e924 d324875e480 ">
                                    <p><a href="../asoag/using-transparent-data-encryption-with-other-oracle-features.html#ASOAG10352"><span class="italic">Oracle Database Advanced Security Guide</span></a></p>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e962" headers="d324875e474 ">
                                    <p><a id="d324875e964" class="indexterm-anchor"></a><a id="d324875e968" class="indexterm-anchor"></a><a id="d324875e972" class="indexterm-anchor"></a>Using a standby database
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e962 d324875e477 ">
                                    <p>Oracle Data Guard can configure a physical standby or a logical standby of a CDB. Data Guard operates on the entire CDB, not on individual containers in a CDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e962 d324875e480 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/admin&amp;id=SBYDB"><span class="italic">Oracle Data Guard Concepts and Administration</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e987" headers="d324875e474 ">
                                    <p><a id="d324875e989" class="indexterm-anchor"></a><a id="d324875e993" class="indexterm-anchor"></a>Using Oracle Database Vault
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e987 d324875e477 ">
                                    <p>Oracle Database Vault common realms can be scoped to an application root on common objects. Database Vault common command rules can be scoped to either the CDB or an application root. Local realms and command rules can be locally scoped to individual PDBs or application PDBs. When Oracle Database Vault security objects are in the CDB root or an application root, enforcement of the security objects only applies to the containers that have Oracle Database Vault enabled.</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e987 d324875e480 ">
                                    <p><a href="../dvadm/introduction-to-oracle-database-vault.html#DVADM71131"><span class="italic">Oracle Database Vault Administrator's Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d324875e1008" headers="d324875e474 ">
                                    <p>Dropping a database</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d324875e1008 d324875e477 ">
                                    <p>When you drop a CDB, all of the containers in the CDB are dropped along with their data. These containers include the CDB root and CDB seed and all of the application containers, application seeds, PDBs, and application PDBs.</p>
                                    <p>You can also drop individual application containers, application seeds, PDBs, and application PDBs with the <code class="codeph">DROP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d324875e1008 d324875e480 ">
                                    <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-92F8F1B3-9E04-46D2-A4E4-3CC788459A38" title="Dropping a database involves removing its data files, online redo logs, control files, and initialization parameter files.">Dropping a Database</a>"</span></p>
                                    <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E" title="The DROP PLUGGABLE DATABASE statement drops a PDB. You can drop a PDB when you want to move the PDB from one CDB to another or when you no longer need the PDB.">Dropping a PDB</a>"</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC__GUID-4F6475EA-9A54-4BBF-9AA2-BE6EE8F97848">
                        <p class="notep1">See Also:</p>
                        <p><a href="../cncpt/overview-of-the-multitenant-architecture.html#CNCPT89248"><span class="italic">Oracle Database Concepts</span></a> for more information about the architecture of a CDB
                        </p>
                     </div>
                  </div>
               </div><a id="ADMIN13886"></a><a id="ADMIN13885"></a><div class="props_rev_3"><a id="GUID-DF42C0D3-8968-4810-9327-9D176337D356" name="GUID-DF42C0D3-8968-4810-9327-9D176337D356"></a><h4 id="ADMIN-GUID-DF42C0D3-8968-4810-9327-9D176337D356" class="sect4"><span class="enumeration_section">41.1.3 </span>About Using Manageability Features in a CDB
                  </h4>
                  <div>
                     <p> For each of Oracle Database's manageability features in a CDB, it is important to understand the data location and the data visibility.</p>
                     <p>It is important to understand where the data is stored for Oracle Database's manageability features in a CDB. When the data for a feature is stored in the CDB root only, the data related to a PDB is not included if the PDB is unplugged. However, when the data for a feature is stored in the PDB, the data related to the PDB is included if the PDB is unplugged, and this data remains part of the PDB if it is plugged into the same CDB or a different CDB.</p>
                     <p>It is also important to understand which data is visible to different users. Generally, in a CDB, a common user can view data for the CDB root and for multiple PDBs when the common user's current container is the CDB root. A common user can view this data by querying container data objects. The specific data that is visible varies for the manageability features. A user whose current container is a PDB can view data for that PDB only.</p>
                     <p><a href="administering-a-cdb-with-sql-plus.html#GUID-DF42C0D3-8968-4810-9327-9D176337D356__BAJEGGGI" title="This table lists the manageability features and includes the data location, data visibility, privileges required, and additional information references for each feature.">Table 41-2</a> describes how the manageability features work in a CDB.
                     </p>
                     <div class="tblformalwide" id="GUID-DF42C0D3-8968-4810-9327-9D176337D356__BAJEGGGI">
                        <p class="titleintable">Table 41-2 Manageability Features in a CDB</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Manageability Features in a CDB" summary="This table lists the manageability features and includes the data location, data visibility, privileges required, and additional information references for each feature." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d324875e1105">Manageability Feature</th>
                                 <th align="left" valign="bottom" width="25%" id="d324875e1108">Data Location</th>
                                 <th align="left" valign="bottom" width="27%" id="d324875e1111">Data Visibility</th>
                                 <th align="left" valign="bottom" width="24%" id="d324875e1114">Additional Information</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1119" headers="d324875e1105 ">
                                    <p>Active Session History (ASH)</p>
                                    <p>ASH collects information about active database sessions. You can use this information to analyze and identify performance issues.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1119 d324875e1108 ">
                                    <p>Most of the ASH data is stored in memory. A small percentage of the ASH data samples are stored in the CDB root.</p>
                                    <p>ASH data related to a PDB is not included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1119 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view ASH data for the CDB root and for PDBs.</p>
                                    <p>A user whose current container is a PDB can view ASH data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1119 d324875e1114 ">
                                    <p><a href="../tdppt/resolving-transient-performance-problems.html#TDPPT065"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
                                    <p><a href="../tgdba/analyzing-sampled-data.html#TGDBA277"><span class="italic">Oracle Database Performance Tuning Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1146" headers="d324875e1105 ">
                                    <p>Alerts</p>
                                    <p>An alert is a notification of a possible problem.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1146 d324875e1108 ">
                                    <p>Threshold settings that pertain to a PDB are stored in the PDB.</p>
                                    <p>Alerts posted when thresholds are violated are enqueued into the alert queue in the CDB root.</p>
                                    <p>Threshold settings that pertain to a PDB are included if the PDB is unplugged. Alerts related to a PDB are not included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1146 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view alerts for the CDB root and for PDBs.</p>
                                    <p>A user whose current container is a PDB can view alert thresholds and alerts for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1146 d324875e1114 ">
                                    <p><span class="q">"<a href="monitoring-the-database.html#GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" title="You can monitor database errors and alerts to prevent, detect, and solve problems.">Monitoring Errors and Alerts</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1173" headers="d324875e1105 ">
                                    <p>Automated Database Maintenance Tasks</p>
                                    <p>Automated database maintenance tasks are tasks that are started automatically at regular intervals to perform maintenance operations on the database. Automated tasks include automatic optimizer statistics collection, Automatic Segment Advisor tasks, and Automatic SQL Tuning Advisor tasks.</p>
                                    <p>The <code class="codeph">ENABLE_AUTOMATIC_MAINTENANCE_PDB</code> initialization parameter can enable or disable the running of automated maintenance tasks for all the PDBs in a CDB or for individual PDBs in a CDB.
                                    </p>
                                    <p>The <code class="codeph">AUTOTASK_MAX_ACTIVE_PDBS</code> initialization parameter limits the number of PDBs that can schedule automated maintenance tasks at the same time (during a maintenance window).
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1173 d324875e1108 ">
                                    <p>A user can schedule maintenance windows and enable or disable maintenance tasks for the current container only. If the current container is the CDB root, then the changes only apply to the CDB root. If the current container is a PDB, then the changes only apply to the PDB.</p>
                                    <p>Data related to a PDB is stored in the PDB for automatic optimizer statistics collection and the Automatic Segment Advisor. This data is included if the PDB is unplugged.</p>
                                    <p>Automatic SQL Tuning Advisor runs only in the CDB root. See the SQL Tuning Advisor row in this table for information about data collected by Automatic SQL Tuning Advisor.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1173 d324875e1111 ">
                                    <p>See the appropriate row in this table for data visibility information about the following manageability features: automatic optimizer statistics collection, Optimizer Statistics Advisor, Automatic Segment Advisor, and Automatic SQL Tuning Advisor.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1173 d324875e1114 ">
                                    <p><span class="q">"<a href="managing-automated-database-maintenance-tasks.html#GUID-7F7C805E-BA64-43A5-9A09-FC259FFA9AA8" title="Oracle Database has automated several common maintenance tasks typically performed by database administrators. These automated maintenance tasks are performed when the system load is expected to be light. You can enable and disable individual maintenance tasks, and can configure when these tasks run and what resource allocations they are allotted."> Managing Automated Database Maintenance Tasks</a>"</span></p>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/admin&amp;id=REFRN-GUID-3ACE01FA-8342-4F35-94BB-955412B9C76A"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">ENABLE_AUTOMATIC_MAINTENANCE_PDB</code> initialization parameter
                                    </p>
                                    <p><a href="../refrn/AUTOTASK_MAX_ACTIVE_PDBS.html#REFRN-GUID-5DC631A2-4CDD-4C1F-B337-184BFD4C29B8"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">AUTOTASK_MAX_ACTIVE_PDBS</code> initialization parameter
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1228" headers="d324875e1105 ">
                                    <p>Automatic Database Diagnostic Monitor (ADDM)</p>
                                    <p>ADDM can diagnose a database's performance and determine how identified problems can be resolved.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1228 d324875e1108 ">
                                    <p>All ADDM runs must be performed in the CDB root. All ADDM results are stored in the CDB root.</p>
                                    <p>ADDM analyzes activity in a PDB within the context of the current analysis target. ADDM does not analyze one PDB at a time. As in previous releases, ADDM runs with a target of either the entire instance or Oracle Real Application Clusters (Oracle RAC) database.</p>
                                    <p>ADDM results related to a PDB are not included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1228 d324875e1111 ">
                                    <p>ADDM results are visible only to a common user whose current container is the CDB root. The ADDM results can include information about multiple PDBs. The ADDM results cannot be viewed when the current container is a PDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1228 d324875e1114 ">
                                    <p><a href="../admqs/monitoring-and-tuning-the-database.html#ADMQS102"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
                                    <p><a href="../tgdba/automatic-performance-diagnostics.html#TGDBA026"><span class="italic">Oracle Database Performance Tuning Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1255" headers="d324875e1105 ">
                                    <p>Automatic Optimizer Statistics Collection</p>
                                    <p>Automatic optimizer statistics collection gathers optimizer statistics for all schema objects in the database for which there are no statistics or only stale statistics. The statistics gathered by this task are used by the SQL query optimizer to improve the performance of SQL execution.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1255 d324875e1108 ">
                                    <p>When an automatic optimizer statistics collection task gathers data for a PDB, it stores this data in the PDB. This data is included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1255 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view optimizer statistics data for PDBs.</p>
                                    <p>A user whose current container is a PDB can view optimizer statistics data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1255 d324875e1114 ">
                                    <p><span class="q">"<a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="You can use PL/SQL package procedures to administer Oracle Resource Manager (Resource Manager) to allocate resources to pluggable databases (PDBs) in a multitenant container database (CDB)."> Using Oracle Resource Manager for PDBs with SQL*Plus</a>"</span></p>
                                    <p><a href="../tgsql/gathering-optimizer-statistics.html#TGSQL389"><span class="italic">Oracle Database SQL Tuning Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1283" headers="d324875e1105 ">
                                    <p>Automatic Segment Advisor</p>
                                    <p>The Automatic Segment Advisor identifies segments that have space available for reclamation and makes recommendations on how to defragment those segments.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1283 d324875e1108 ">
                                    <p>When Automatic Segment Advisor gathers data for a PDB, it stores this data in the PDB. This data is included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1283 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view Automatic Segment Advisor data for PDBs.</p>
                                    <p>A user whose current container is a PDB can view the Automatic Segment Advisor data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1283 d324875e1114 ">
                                    <p><span class="q">"<a href="managing-space-for-schema-objects.html#GUID-1F297567-4BEC-438E-9E13-683D2BB47F44" title="You can reclaim unused space. Segment Advisor, is an Oracle Database component that identifies segments that have space available for reclamation.">Reclaiming Unused Space</a>"</span></p>
                                    <p><span class="q">"<a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="You can use PL/SQL package procedures to administer Oracle Resource Manager (Resource Manager) to allocate resources to pluggable databases (PDBs) in a multitenant container database (CDB)."> Using Oracle Resource Manager for PDBs with SQL*Plus</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1314" headers="d324875e1105 ">
                                    <p>Automatic Workload Repository (AWR)</p>
                                    <p>The AWR collects, processes, and maintains performance statistics for problem detection and self-tuning purposes. This data is stored in the database. The gathered data can be displayed in both reports and views.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1314 d324875e1108 ">
                                    <p>AWR reports can be generated in the CDB root or in any PDB. AWR reports generated in the CDB root pertain to the entire CDB, while AWR reports generated when a PDB is the current container only pertain to that PDB.</p>
                                    <p> AWR data generated in the CDB root is stored in the CDB root. AWR data generated in a PDB is stored in the PDB.</p>
                                    <p>When a PDB is unplugged, AWR data stored in the CDB root is not included.</p>
                                    <p>When a PDB is unplugged, AWR data stored in the PDB is included.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1314 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view AWR data for the CDB root and for PDBs.</p>
                                    <p>A user whose current container is a PDB can view AWR data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1314 d324875e1114 ">
                                    <p><a href="../tgdba/gathering-database-statistics.html#TGDBA169"><span class="italic">Oracle Database Performance Tuning Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1340" headers="d324875e1105 ">
                                    <p>Database Replay</p>
                                    <p>Database Replay is a feature of Oracle Real Application Testing. Database Replay captures the workload for a database and replays it exactly on a test database.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1340 d324875e1108 ">
                                    <p>Information about database captures and replays are stored in the CDB root.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1340 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view database capture and replay information.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1340 d324875e1114 ">
                                    <p><a href="../ratug/using-consolidated-database-replay.html#RATUG4080"><span class="italic">Oracle Database Testing Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1358" headers="d324875e1105 ">
                                    <p>Optimizer Statistics Advisor</p>
                                    <p>Optimizer Statistics Advisor analyzes how statistics are being gathered and suggests changes that can be made to fine tune statistics collection.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1358 d324875e1108 ">
                                    <p>Data related to a PDB is stored in the PDB for Optimizer Statistics Advisor. This data is included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1358 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view Optimizer Statistics Advisor data for PDBs.</p>
                                    <p>A user whose current container is a PDB can view the Optimizer Statistics Advisor data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1358 d324875e1114 ">
                                    <p><a href="../tgsql/optimizer-statistics-advisor.html#TGSQL-GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1379" headers="d324875e1105 ">
                                    <p>SQL Management Base (SMB)</p>
                                    <p>SMB stores statement logs, plan histories, SQL plan baselines, and SQL profiles in the data dictionary.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1379 d324875e1108 ">
                                    <p>SMB data related to a PDB is stored in the PDB. The SMB data related to a PDB is included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1379 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view SMB data for PDBs.</p>
                                    <p>A user whose current container is a PDB can view the SMB data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1379 d324875e1114 ">
                                    <p><a href="../tgsql/overview-of-sql-plan-management.html#TGSQL631"><span class="italic">Oracle Database SQL Tuning Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1399" headers="d324875e1105 ">
                                    <p>SQL Performance Analyzer (SPA)</p>
                                    <p>SPA can analyze the SQL performance impact of SQL tuning and other system changes. SPA is often used with Database Replay.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1399 d324875e1108 ">
                                    <p>A common user whose current container is the CDB root can run SPA for any PDB. In this case, the SPA results data is stored in the CDB root and is not included if the PDB is unplugged.</p>
                                    <p>A user whose current container is a PDB can run SPA on the PDB. In this case, the SPA results data is stored in the PDB and is included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1399 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view SPA results data for PDBs.</p>
                                    <p>A user whose current container is a PDB can view the SPA results data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1399 d324875e1114 ">
                                    <p><a href="../ratug/sql-performance-analyzer.html#RATUG239"><span class="italic">Oracle Database Testing Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1422" headers="d324875e1105 ">
                                    <p>SQL Tuning Sets (STS)</p>
                                    <p>An STS is a database object that includes one or more SQL statements along with their execution statistics and execution context, and could include a user priority ranking.</p>
                                    <p>You can use an STS to tune a group of SQL statements or test their performance using SPA.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1422 d324875e1108 ">
                                    <p>An STS can be stored in the CDB root or in any PDB. If it is stored in the CDB root, then you can load SQL statements from any PDB into it.</p>
                                    <p>When a PDB is unplugged, an STS stored in the CDB root is not included, even if the STS contains SQL statements from the PDB.</p>
                                    <p>When a PDB is unplugged, an STS stored in the PDB is included.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1422 d324875e1111 ">
                                    <p>A common user whose current container is the CDB root can view STS data stored in the CDB root only.</p>
                                    <p>A user whose current container is a PDB can view STS data for the PDB only.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1422 d324875e1114 ">
                                    <p><a href="../tgsql/managing-sql-tuning-sets.html#TGSQL516"><span class="italic">Oracle Database SQL Tuning Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d324875e1448" headers="d324875e1105 ">
                                    <p>SQL Tuning Advisor</p>
                                    <p>SQL Tuning Advisor optimizes SQL statements that have been identified as high-load SQL statements.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d324875e1448 d324875e1108 ">
                                    <p>Automatic SQL Tuning Advisor data is stored in the CDB root. It might have results about SQL statements executed in a PDB that were analyzed by the advisor, but these results are not included if the PDB is unplugged.</p>
                                    <p>A common user whose current container is the CDB root can run SQL Tuning Advisor manually for SQL statements from any PDB. When a statement is tuned, it is tuned in any container that runs the statement. </p>
                                    <p>A user whose current container is a PDB can also run SQL Tuning Advisor manually for SQL statements from the PDB. When SQL Tuning Advisor is run manually from a PDB, the results are stored in the PDB from which it is run. In this case, a statement is tuned only for the current PDB, and the results related to a PDB are included if the PDB is unplugged.</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d324875e1448 d324875e1111 ">
                                    <p>When SQL Tuning Advisor is run automatically, the results are visible only to a common user whose current container is the CDB root. These results cannot be viewed when the current container is a PDB.</p>
                                    <p>When SQL Tuning Advisor is run manually by a user whose current container is a PDB, the results are only visible to a user whose current container is that PDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d324875e1448 d324875e1114 ">
                                    <p><a href="../tdppt/tuning-sql-statements.html#TDPPT160"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
                                    <p><a href="../tgsql/introduction-to-sql-tuning.html#TGSQL540"><span class="italic">Oracle Database SQL Tuning Guide</span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>To run SPA or SQL Tuning Advisor for SQL statements from a PDB, a common user must have the following privileges:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Common <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> privilege or local <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> privilege in the PDB
                           </p>
                        </li>
                        <li>
                           <p>The privileges required to execute the SQL statements in the PDB</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-DF42C0D3-8968-4810-9327-9D176337D356__GUID-839D42E0-2259-4CA9-9A3B-7C3811FF96A0">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" title="In a multitenant container database (CDB), the metadata for data dictionary tables and view definitions is stored only in the root. However, each container, including each pluggable database (PDB), application root, and application PDB, has its own set of data dictionary tables and views for the database objects contained in the container.">About CDB and PDB Information in Views</a>"</span> for an overview of container data objects
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803"><span class="italic">Oracle Database Security Guide</span></a> for detailed information about container data objects
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN13696"></a><div class="props_rev_3"><a id="GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146" name="GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146"></a><h4 id="ADMIN-GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146" class="sect4"><span class="enumeration_section">41.1.4 </span>About Managing Database Objects in a CDB
                  </h4>
                  <div>
                     <p>In a CDB, different containers can contain different database objects.</p>
                     <p>An Oracle database stores database objects, such as tables, indexes, and directories. Database objects that are owned by a schema are called schema objects, while database objects that are not owned by a schema are called nonschema objects. The root and PDBs contain schemas, and schemas contain schema objects. The root and PDBs can also contain nonschema objects, such as users, roles, tablespaces, directories, and editions.</p>
                     <p>In a CDB, the root contains Oracle-supplied schemas and database objects. Oracle-supplied common users, such as <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>, own these schemas and common database objects. They can also own local objects, both in the root and in a PDB.
                     </p>
                     <p>You can create common users in the root to administer containers in the CDB. User-created common users can create database objects in the root. Oracle recommends that, in the root, schemas owned by user-created common users contain only database triggers and the objects used in their definitions. A user-created common user can also own any type of local object in a PDB.</p>
                     <p>You can create local users in a PDB. A local user in a PDB can create schema objects and nonschema objects in the PDB. You cannot create local users in the root.</p>
                     <p>Name resolution in a CDB is similar to name resolution in a non-CDB, except that names are resolved in the context of the dictionary of the user's current container.</p>
                     <div class="infoboxnotealso" id="GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146__GUID-1ED40347-F90C-4D96-84C9-73F41B5B806C">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database."> Managing Schema Objects</a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Database-Objects.html#SQLRF20003"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about schema objects and nonschema objects
                              </p>
                           </li>
                           <li>
                              <p><a href="../cncpt/overview-of-the-multitenant-architecture.html#CNCPT89257"><span class="italic">Oracle Database Concepts</span></a> for an overview of common users and local users
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG573"><span class="italic">Oracle Database Security Guide</span></a> for information about creating common users and local users
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04" name="GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04"></a><h4 id="ADMIN-GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04" class="sect4"><span class="enumeration_section">41.1.5 </span>About Flashing Back a PDB
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">FLASHBACK PLUGGABLE DATABASE</code> statement to return a PDB to a past time or system change number (SCN).
                     </p>
                     <p>You can create restore points for a PDB and flash back the PDB to the restore point without affecting the CDB or other PDBs.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../bradv/rman-performing-flashback-dbpitr.html#BRADV-GUID-A2146E48-16FC-40CC-B25D-902DEB93CB75"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" name="GUID-3B2EF996-3BE8-413D-968C-14339FACFC12"></a><h4 id="ADMIN-GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" class="sect4"><span class="enumeration_section">41.1.6 </span>About Restricting PDB Users for Enhanced Security
                  </h4>
                  <div>
                     <p>There are several ways to restrict PDB users for enhanced security. A PDB lockdown profile restricts the features and options available to users in a particular PDB. The <code class="codeph">PDB_OS_CREDENTIAL</code> initialization parameter can specify a unique operating system user for a PDB to limit operating system access. Also, when the <code class="codeph">PATH_PREFIX</code> and <code class="codeph">CREATE_FILE_DEST</code> clauses are specified during PDB creation, they limit file system access.
                     </p>
                     <div class="section">
                        <p class="subhead3">PDB Lockdown Profiles</p>
                        <p>When identities are shared between PDBs, elevated privileges might exist. You can use lockdown profiles to prevent this elevation of privileges. Identities can be shared in the following situations:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>At the operating system level, when the database interacts with operating system resources such as files or processes</p>
                           </li>
                           <li>
                              <p>At the network level, when the database communicates with other systems</p>
                           </li>
                           <li>
                              <p>Inside the database, as PDBs access or create common objects or communicate across container boundaries using features such as database links</p>
                           </li>
                        </ul>
                        <p>To increase security, a CDB administrator might want to use PDB lockdown profiles to restrict users in particular PDBs. A PDB lockdown profile can disable users from running specified SQL statements, such as <code class="codeph">ALTER SYSTEM</code> statements, or disable access to a package that can access the network, such as the <code class="codeph">UTL_SMTP</code> package. A PDB lockdown profile can also restrict access to common users, common objects, and administrative tools, such as Oracle XML DB, administrative features, such as cursor sharing, and database options, such as Oracle Database Advanced Queuing.  PDB lockdown profiles can prohibit the use of the XDB protocols (FTP, HTTP, HTTPS) by a PDB with the <code class="codeph">XDB_PROTOCOLS</code> feature.
                        </p>
                        <p>You create a PDB lockdown profile in a CDB with the <code class="codeph">CREATE LOCKDOWN PROFILE</code> statement. You can add and remove restrictions with the <code class="codeph">ALTER LOCKDOWN PROFILE</code> statement. Only a common user with common <code class="codeph">SYSDBA</code> or common <code class="codeph">ALTER SYSTEM</code> privileges can create or alter a lockdown profile.
                        </p>
                        <p>You specify a PDB lockdown profile by using the&nbsp;<code class="codeph">PDB_LOCKDOWN</code>&nbsp;initialization parameter. You can set this parameter at the PDB level, in which case the profile applies only to the PDB in which it is set, or at the CDB level, in which case the profile applies to all PDBs. A common user can override a CDB-wide setting for a specific PDB, but only if the user has common <code class="codeph">SYSDBA</code> or common <code class="codeph">ALTER SYSTEM</code> privileges.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3B2EF996-3BE8-413D-968C-14339FACFC12__GUID-0F3C9CC6-19CE-4076-97B7-6E64F0F43CC5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG-GUID-AB5E62DB-7E2A-4B5A-BA96-A2BD2DF15275"><span><cite>Oracle Database Security Guide</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/toc.htm"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">CREATE LOCKDOWN PROFILE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_LOCKDOWN.html#REFRN-GUID-27072E94-1E1D-4BB0-AEAE-D7AFDC02E0A1"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">PDB_LOCKDOWN</code>&nbsp;initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">The PDB_OS_CREDENTIAL Initialization Parameter</p>
                        <p>When the database accesses an external procedure with the <code class="codeph">extproc</code> agent, the <code class="codeph">PDB_OS_CREDENTIAL</code> initialization parameter determines the identity of the operating system user (OS user) employed when interacting with the operating system from a PDB. Using an OS user described by a credential whose name is specified as a value of the <code class="codeph">PDB_OS_CREDENTIAL</code> initialization parameter can ensure that operating system interactions are performed as a less powerful user and provides the ability to protect data belonging to one PDB from being accessed by users connected to another PDB. A credential is an object that is created using the <code class="codeph">CREATE_CREDENTIAL</code> procedure in the <code class="codeph">DBMS_CREDENTIAL</code> package.
                        </p>
                        <p>The Oracle OS user is usually a highly privileged user, and using that user for operating system interactions is not recommended. Also, using the same OS user for operating system interactions from different PDBs might compromise data belonging to a given PDB.</p>
                        <div class="infoboxnotealso" id="GUID-3B2EF996-3BE8-413D-968C-14339FACFC12__GUID-783A8C2D-BE6A-461C-8B11-7D776CC9CC04">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-processes.html#GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7" title="An external procedure is a procedure or function written in a programming language and stored in a shared library. An Oracle server can call external procedures or functions using PL/SQL routines.">Managing Processes for External Procedures</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PDB_OS_CREDENTIAL.html#REFRN-GUID-E563FDDA-6840-42CC-944D-5B0FD60C9003"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">PDB_OS_CREDENTIAL</code> initialization parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_CREDENTIAL.html#ARPLS-GUID-D5791B72-E0F6-4C41-AD3E-DDEDFFCA7D0C"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">The PATH_PREFIX and CREATE_FILE_DEST PDB Creation Clauses</p>
                        <p>The <code class="codeph">PATH_PREFIX</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement ensures that all directory object paths associated with the PDB are restricted to the specified directory or its subdirectories. It also ensures that the following files associated with the PDB are restricted to specified directory: the Oracle XML repository for the PDB, files created with a <code class="codeph">CREATE PFILE</code> statement, and the export directory for Oracle wallets.
                        </p>
                        <p>The <code class="codeph">CREATE_FILE_DEST</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement ensures that all the database files belonging to the PDB are restricted to the specified directory and its subdirectories. The clause enables Oracle Managed Files for the PDB and specifies the default file system directory or Oracle ASM disk group for the PDB's files.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3B2EF996-3BE8-413D-968C-14339FACFC12__GUID-28A31893-525A-4D00-A32A-47A44E96849A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426" title="The PATH_PREFIX clause of the CREATE PLUGGABLE DATABASE statement ensures that all directory object paths associated with the PDB are restricted to the specified directory or its subdirectories. It also ensures that the following files associated with the PDB are restricted to specified directory: the Oracle XML repository for the PDB, files created with a CREATE PFILE statement, and the export directory for Oracle wallets.">Restrictions on PDB File Locations</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B" title="The CREATE_FILE_DEST clause of the CREATE PLUGGABLE DATABASE statement enables Oracle Managed Files for the PDB and specifies the default file system directory or Oracle ASM disk group for the PDB's files. The PDB’s data files and temp files are restricted to the specified directory and its subdirectories.">CREATE_FILE_DEST Clause</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" name="GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3"></a><h3 id="ADMIN-GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" class="sect3"><span class="enumeration_section">41.2 </span>Accessing a Container in a CDB with SQL*Plus
               </h3>
               <p>You can access a container in a CDB with SQL*Plus.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3">About Accessing a Container in a CDB with SQL*Plus</a><br>You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus <code class="codeph">CONNECT</code> command, or you can switch into a container with an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> SQL statement.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92">Connecting to a Container Using the SQL*Plus CONNECT Command</a><br>You can use the SQL*Plus <code class="codeph">CONNECT</code> command to connect to the root or to a PDB.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70">Switching to a Container Using the ALTER SESSION Statement</a><br>When you are connected to a container as a common user, you can switch to a different container and application service using the <code class="codeph">ALTER SESSION</code> statement.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN13607"></a><div class="props_rev_3"><a id="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" name="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3"></a><h4 id="ADMIN-GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" class="sect4"><span class="enumeration_section">41.2.1 </span>About Accessing a Container in a CDB with SQL*Plus
                  </h4>
                  <div>
                     <p>You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus <code class="codeph">CONNECT</code> command, or you can switch into a container with an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> SQL statement.
                     </p>
                     <p>This section assumes that you understand how to connect to a non-CDB in SQL*Plus. See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-58A40F41-B611-4C0F-A6E3-D45A81515BF2" title="There are several ways to submit SQL statements and commands to Oracle Database.">Submitting Commands and SQL to the Database</a>"</span> for information.
                     </p>
                     <p>Clients access the root or a PDB through database services. Database services have an optional <code class="codeph">PDB</code> property. When a PDB is created, a new default service for the PDB is created automatically. The service has the same name as the PDB. With the service name, you can access the PDB using the easy connect syntax or the net service name from the tnsnames.ora file. Oracle Net Services must be configured properly for clients to access this service.
                     </p>
                     <p>When a user connects using a service with a non-null <code class="codeph">PDB</code> property, the user name is resolved in the context of the specified PDB. When a user connects without specifying a service or using a service name with a null <code class="codeph">PDB</code> property, the user name is resolved in the context of the root. You can view the <code class="codeph">PDB</code> property for a service by querying the <code class="codeph">CDB_SERVICES</code> data dictionary view or by running the <code class="codeph">config</code> <code class="codeph">service</code> command in the SRVCTL utility.
                     </p>
                     <p>The setting for the <code class="codeph">SESSIONS</code> initialization parameter limits the total number of sessions available in a CDB, including the sessions connected to PDBs. If the limit is reached for the CDB, then users cannot connect to PDBs. To ensure that one PDB does not use too many sessions, you can limit the number of sessions available to a PDB by setting the <code class="codeph">SESSIONS</code> initialization parameter in the PDB.
                     </p>
                     <div class="infoboxnote" id="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3__GUID-5883BC1F-0342-4DA7-9C46-EDBCB2721DEA">
                        <p class="notep1">Note:</p>
                        <p>When two or more CDBs on the same computer system use the same listener and two or more PDBs have the same service name in these CDBs, a connection that specifies this service name connects randomly to one of the PDBs with the service name. To avoid incorrect connections, ensure that all service names for PDBs are unique on the computer system, or configure a separate listener for each CDB on the computer system.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3__GUID-B7CB7399-B880-482B-B1B6-0954D569864A">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/overview-of-the-multitenant-architecture.html#CNCPT89270"><span class="italic">Oracle Database Concepts</span></a> for more information about database services in a CDB
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/introducing-oracle-net-services.html#NETAG001"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for information about configuring Oracle Net Services
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services Associated with PDBs</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">Example 45-9</a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" title="In a CDB, some initialization parameters apply to the root and to all of the PDBs. When such an initialization parameter is changed, it affects the entire CDB. You can set other initialization parameters to different values in each container.">Listing the Initialization Parameters That Are Modifiable in PDBs</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN13608"></a><div class="props_rev_3"><a id="GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" name="GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92"></a><h4 id="ADMIN-GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" class="sect4"><span class="enumeration_section">41.2.2 </span>Connecting to a Container Using the SQL*Plus CONNECT Command
                  </h4>
                  <p>You can use the SQL*Plus <code class="codeph">CONNECT</code> command to connect to the root or to a PDB.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-BFC692E7-132E-4AC5-8527-CA766AA36826">Connecting to the Root Using the SQL*Plus CONNECT Command</a><br>You can connect to the root in the same way that you connect to a non-CDB.
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461">Connecting to a PDB Using the SQL*Plus CONNECT Command</a><br>To connect to a PDB with the SQL*Plus <code class="codeph">CONNECT</code> command, you can use easy connect or a net service name.
                        </li>
                     </ul>
                  </div>
                  <a id="ADMIN14114"></a><a id="ADMIN14115"></a><a id="ADMIN14116"></a><a id="ADMIN13609"></a><div class="props_rev_3"><a id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826" name="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826"></a><h5 id="ADMIN-GUID-BFC692E7-132E-4AC5-8527-CA766AA36826" class="sect5"><span class="enumeration_section">41.2.2.1 </span>Connecting to the Root Using the SQL*Plus CONNECT Command
                     </h5>
                     <div>
                        <p>You can connect to the root in the same way that you connect to a non-CDB.</p>
                        <div class="section">
                           <p>Specifically, you can use the following techniques to connect to the root with the SQL*Plus <code class="codeph">CONNECT</code> command:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Local connection</p>
                              </li>
                              <li>
                                 <p>Local connection with operating system authentication</p>
                              </li>
                              <li>
                                 <p>Database connection using easy connect</p>
                              </li>
                              <li>
                                 <p>Database connection using a net service name</p>
                              </li>
                              <li>
                                 <p>Remote database connection using external authentication</p>
                              </li>
                           </ul>
                           <p>The following prerequisites must be met for the user connecting to the root:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The user must be a common user.</p>
                              </li>
                              <li>
                                 <p>The user must be granted <code class="codeph">CREATE</code> <code class="codeph">SESSION</code> privilege in the root.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">To connect to the root using the SQL*Plus CONNECT command:</p>
                           <ol>
                              <li>
                                 <p>Configure your environment so that you can open SQL*Plus.</p>
                                 <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Start SQL*Plus with the <code class="codeph">/NOLOG</code> argument:
                                 </p><pre class="oac_no_warn" dir="ltr">sqlplus /nolog
</pre></li>
                              <li>
                                 <p>Issue a SQL*Plus <code class="codeph">CONNECT</code> command to connect to the root, as shown in the following examples.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-701020AA-54A5-459C-903D-528D7D5D68C4">
                           <p class="titleinexample">Example 41-1 Connecting to the Root with a Local Connection</p>
                           <p>This example connects to the root in the local CDB as user <code class="codeph">SYSTEM</code>. SQL*Plus prompts for the <code class="codeph">SYSTEM</code> user password.
                           </p><pre class="oac_no_warn" dir="ltr">connect system</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-669FA57B-428D-45E1-BF2F-97CF024C39FB">
                           <p class="titleinexample">Example 41-2 Connecting to the Root with Operating System Authentication</p>
                           <p>This example connects locally to the root with the <code class="codeph">SYSDBA</code> administrative privilege with operating system authentication.
                           </p><pre class="oac_no_warn" dir="ltr">connect / as sysdba</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-EEAC4A3F-D1BD-4527-B9DD-21F1080EA8DD">
                           <p class="titleinexample">Example 41-3 Connecting to the Root with a Net Service Name</p>
                           <p>Assume that clients are configured to have a net service name for the root in the CDB. For example, the net service name can be part of an entry in a tnsnames.ora file.</p>
                           <p>This example connects as common user <code class="codeph">c##dba</code> to the database service designated by the net service name <code class="codeph">mycdb</code>. SQL*Plus prompts for the <code class="codeph">c##dba</code> user password.
                           </p><pre class="oac_no_warn" dir="ltr">connect c##dba@mycdb
</pre><div class="infoboxnotealso" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-05B5AEEF-EEF0-4C59-99E8-F7E91451DE39">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="getting-started-with-database-administration.html#GUID-58A40F41-B611-4C0F-A6E3-D45A81515BF2" title="There are several ways to submit SQL statements and commands to Oracle Database.">Submitting Commands and SQL to the Database</a>"</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN13970"></a><a id="ADMIN13611"></a><div class="props_rev_3"><a id="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461" name="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461"></a><h5 id="ADMIN-GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461" class="sect5"><span class="enumeration_section">41.2.2.2 </span>Connecting to a PDB Using the SQL*Plus CONNECT Command
                     </h5>
                     <div>
                        <p>To connect to a PDB with the SQL*Plus <code class="codeph">CONNECT</code> command, you can use easy connect or a net service name.
                        </p>
                        <div class="section">
                           <p>To connect to a PDB, a user must be one of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A common user with a <code class="codeph">CREATE</code> <code class="codeph">SESSION</code> privilege granted commonly or granted locally in the PDB
                                 </p>
                              </li>
                              <li>
                                 <p>A local user defined in the PDB with <code class="codeph">CREATE</code> <code class="codeph">SESSION</code> privilege
                                 </p>
                              </li>
                           </ul>
                           <p>Only a user with <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, or <code class="codeph">SYSDG</code> privilege can connect to a PDB that is in mounted mode. To change the open mode of a PDB, see <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">To connect to a PDB using the SQL*Plus CONNECT command:</p>
                           <ol>
                              <li>
                                 <p>Configure your environment so that you can open SQL*Plus.</p>
                                 <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Start SQL*Plus with the <code class="codeph">/NOLOG</code> argument:
                                 </p><pre class="oac_no_warn" dir="ltr">sqlplus /nolog
</pre></li>
                              <li>
                                 <p>Issue a SQL*Plus <code class="codeph">CONNECT</code> command using easy connect or a net service name to connect to the PDB.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461__GUID-09A47F04-779A-423B-AE4C-EAEF8E8684AD">
                           <p class="titleinexample">Example 41-4 Connecting to a PDB</p>
                           <p>Assume that clients are configured to have a net service name for each PDB that matches each PDB name. For example, the net service name can be part of an entry in a tnsnames.ora file.</p>
                           <p>The following command connects to the <code class="codeph">sh</code> local user in the <code class="codeph">salespdb</code> PDB:
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT sh@salespdb
</pre><p>The following command connects to the <code class="codeph">SYSTEM</code> common user in the <code class="codeph">salespdb</code> PDB:
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT system@salespdb
</pre><p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-991445B9-EA9E-481E-A33D-E737F2DD9CFB" title="You submit the SQL*Plus CONNECT command to initially connect to the Oracle instance or at any time to reconnect as a different user.">Step 4: Submit the SQL*Plus CONNECT Command</a>"</span> for more examples.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADMIN13618"></a><a id="ADMIN13619"></a><a id="ADMIN13620"></a><a id="ADMIN13616"></a><div class="props_rev_3"><a id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70" name="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70"></a><h4 id="ADMIN-GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70" class="sect4"><span class="enumeration_section">41.2.3 </span>Switching to a Container Using the ALTER SESSION Statement
                  </h4>
                  <div>
                     <p>When you are connected to a container as a common user, you can switch to a different container and application service using the <code class="codeph">ALTER SESSION</code> statement.
                     </p>
                     <div class="section">
                        <p>You can use the following statement to switch to a different container and application service:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CONTAINER = <span class="italic">container_name</span> [SERVICE = <span class="italic">service_name</span>]</pre><p>For <span class="italic">container_name</span>, specify one of the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CDB$ROOT</code> to switch to the CDB root
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PDB$SEED</code> to switch to the CDB seed
                              </p>
                           </li>
                           <li>
                              <p>A PDB name to switch to the PDB</p>
                              <p>When the current container is the root, you can view the names of the PDBs in a CDB by querying the <code class="codeph">DBA_PDBS</code> view.
                              </p>
                           </li>
                        </ul>
                        <p>For <span class="italic">service_name</span>, specify a service that is running in the PDB. You can list the services running in the containers of a CDB, excluding the CDB root, by issuing the following query with the CDB root as the current container:
                        </p><pre class="pre codeblock"><code>COL NAME FORMAT A30
COL CON_NAME FORMAT A20

SELECT NAME,CON_NAME, CON_ID
  FROM V$ACTIVE_SERVICES
  WHERE UPPER(NAME) != CON_NAME
  AND CON_ID !=1
  ORDER BY CON_ID;</code></pre><p>By default, when you switch to a container, the session uses the default service for the container. However, the default PDB service does not support all of the service attributes and features such as service metrics, Fast Application Notification (FAN), load balancing, Resource Manager, Transaction Guard, Application Continuity, and so on. It is best practice to use a non-default service for the container by specifying <code class="codeph">SERVICE = <span class="codeinlineitalic">service_name</span></code>, where <span class="italic">service_name</span> is the name of the service.
                        </p>
                        <p>With this new capability, connection pools can switch the service, and, when needed the PDB, on a connection when a connection is borrowed from the pool. Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), connection pools support more than one database service with universal connection pools (UCPs). It can also be used standalone.
                        </p>
                        <p>When switching to a service, applications are able to consolidate to a CDB, while keeping the database services identified, prioritized, measured, and highly available. Switching to a non-default service provides the following benefits:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It preserves the service attributes and features.</p>
                           </li>
                           <li>
                              <p>It eliminates too many connection pools with too many connections serving these tenants.</p>
                           </li>
                           <li>
                              <p>It allows applications to use more database services for workload control without consuming too many connection pools. Customers are able to identify and prioritize workloads using services without over sizing the database connections.</p>
                           </li>
                        </ul>
                        <p>The following are considerations for using the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>After the statement completes successfully, the current schema of the session is set to the schema owned by the common user in the specified container.</p>
                           </li>
                           <li>
                              <p>After the statement completes successfully, the security context is reset to that of the schema owned by the common user in the specified container.</p>
                           </li>
                           <li>
                              <p>After the statement completes successfully, login triggers for the specified container do not fire.</p>
                              <p>If you require a trigger, then you can define a before or after <code class="codeph">SET CONTAINER</code> trigger in a PDB to fire before or after the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement is executed.
                              </p>
                           </li>
                           <li>
                              <p>After the statement completes successfully and the <code class="codeph">SERVICE</code> clause specifies a non-default service for the PDB, the session is using a new service with attributes set, including metrics, FAN, TAF, Application Continuity, Transaction Guard, <code class="codeph">drain_timeout</code>, and <code class="codeph">stop_option</code> for the new service.
                              </p>
                           </li>
                           <li>
                              <p>Package states are not shared across containers.</p>
                           </li>
                           <li>
                              <p>When closing a PDB, sessions that switched into the PDB and sessions that connected directly to the PDB are handled identically.</p>
                           </li>
                           <li>
                              <p>A transaction cannot span multiple containers. If you start a transaction and use <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> to switch to a different container, then you cannot issue DML, DDL, <code class="codeph">COMMIT</code>, or <code class="codeph">ROLLBACK</code> statements until you switch back to the container in which you started the transaction.
                              </p>
                           </li>
                           <li>
                              <p>If you open a cursor and use <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> to switch to different container, then you cannot fetch data from that cursor until you switch back to the container in which the cursor was opened.
                              </p>
                           </li>
                           <li>
                              <p>You can use the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement with the <code class="codeph">SERVICE</code> clause for connection pooling as well as advanced CDB administration.
                              </p>
                              <p>For example, you can use this statement for connection pooling with PDBs for a multitenancy application. A multitenancy application uses a single instance of the software on a server to serve multiple customers (tenants). In a non-CDB, multitenancy is typically supported by adding an extra column that identifies the tenant to every table used by the application, and tenants check out connections from a connection pool. In a CDB with PDBs, each tenant can have its own PDB, and you can use the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement in a connection pooling configuration.
                              </p>
                           </li>
                           <li>
                              <p>When working with connection pools that serve applications, the applications may be using data sources with different services. Using the <code class="codeph">ALTER SESSION SET CONTAINER</code> statement with the <code class="codeph">SERVICE</code> clause enables the connection pool to use the same connections for many applications, sharing the services.
                              </p>
                           </li>
                        </ul>
                        <p>The following prerequisites must be met to use the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The current user must be a common user. The initial connection must be made using the SQL*Plus <code class="codeph">CONNECT</code> command.
                              </p>
                           </li>
                           <li>
                              <p>When altering a session to switch to a PDB as a common user that was not supplied with Oracle Database, the current user must be granted the <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> privilege commonly or must be granted this privilege locally in the PDB.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-1E09DCE5-80CD-46D0-B59E-6BE2C00889FE">
                           <p class="notep1">Note:</p>
                           <p>When an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement is used to switch to the current container, these prerequisites are not enforced, and no error message is returned if they are not met.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Before issuing an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement with the <code class="codeph">SERVICE</code> clause, the following prerequisites must be met:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The service switched to must be active. You cannot switch to a service that is not running.</p>
                           </li>
                           <li>
                              <p>When switching between services, the service attributes of the service being switched from and the service being switched to must match. For example, the services switched from and to must all have TAF, or must all use Application Continuity, or must all have <code class="codeph">drain_timeout</code> set. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To switch to a container using the ALTER SESSION statement:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect to a container as a common user with the required privileges.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" title="You can use the SQL*Plus CONNECT command to connect to the root or to a PDB.">Connecting to a Container Using the SQL*Plus CONNECT Command</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Check the current open mode of the container to which you are switching.</p>
                              <p>To check the current open mode of the root or a PDB, query the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$CONTAINERS</code> view when the current container is the root. 
                              </p>
                              <p>If the open mode of the root should be changed, then follow the instructions in <span class="q">"<a href="starting-up-and-shutting-down.html#GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" title="You can alter the availability of a database. You may want to do this in order to restrict access for maintenance reasons or to make the database read only.">Altering Database Availability</a>"</span> to change the open mode.
                              </p>
                              <p>If the open mode of the PDB should be changed, then follow the instructions in <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> to change the open mode.
                              </p>
                              <p>The open mode of the root imposes limitations on the open mode of PDBs. For example, the root must be open before any PDBs can be open. Therefore, you might need to change the open mode of the root before changing the open mode of a PDB.</p>
                           </li>
                           <li>
                              <p>If you are switching to a specific service, then ensure that the service is running.</p>
                              <p>To check the active status of the service, query the <code class="codeph">V$ACTIVE_SERVICES</code> view when the current container is the CDB root.
                              </p>
                              <p>If the service is not running, then use the SRVCTL utility or the <code class="codeph">DBMS_SERVICE</code> package to start the service.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement and specify the container to which you want to switch.
                              </p>
                              <p>Include the <code class="codeph">SERVICE</code> clause to switch to a specific application service.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples switch to various containers using <code class="codeph">ALTER</code> <code class="codeph">SESSION</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-34B90B3F-23F3-4ECD-9464-C1161E262E6F">
                        <p class="titleinexample">Example 41-5 Switching to the PDB salespdb and Using the salesrep Service</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CONTAINER = salespdb SERVICE = salesrep;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__BAJFADCJ">
                        <p class="titleinexample">Example 41-6 Switching to the PDB salespdb and Using the Default Service</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CONTAINER = salespdb;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__BAJFGFEH">
                        <p class="titleinexample">Example 41-7 Switching to the CDB Root</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CONTAINER = CDB$ROOT;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__BAJIFJJH">
                        <p class="titleinexample">Example 41-8 Switching to the CDB Seed</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CONTAINER = PDB$SEED;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-06CD11F6-B81D-4A71-AD2D-72A2819A1203">
                        <p class="titleinexample">Example 41-9 Switching Services Using a Dummy Service in the CDB Root</p>
                        <p>To design connection pooling that switches the container and the service, one method is to create a dummy service in the CDB root and set all required service attributes on this dummy service (for example, <code class="codeph">drain_timeout</code>, TAF or Application Continuity).  The service attributes must match across the CDB root and the PDB. To use this method, complete the following steps:
                        </p>
                        <ol>
                           <li>
                              <p>Connect to the dummy service when first creating the connection pool and when creating new connections.</p>
                           </li>
                           <li>
                              <p>As services are added to each PDB, set the same attributes on these real services.</p>
                           </li>
                           <li>
                              <p>When an application requires a connection, complete one of the following actions:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Create a new connection to the dummy service, and switch to the PDB and service.</p>
                                 </li>
                                 <li>
                                    <p>Borrow a free connection in the pool and switch to the PDB and service.</p>
                                    <p>You do not need to return to the CDB root when switching across PDBs.</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                        <p>You do not need to return to the CDB root when switching across PDBs.</p> 
                        <div class="infoboxnotealso" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-611879C6-A334-4152-BA8D-B72EB6B8DF3A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-processes.html#GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" title="Database Resident Connection Pooling (DRCP) provides a connection pool in the database server for typical Web application usage scenarios where the application acquires a database connection, works on it for a relatively short duration, and then releases it. DRCP pools "dedicated" servers. A pooled server is the equivalent of a server foreground process and a database session combined.">About Database Resident Connection Pooling</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../jjucp/intro.html#JJUCP-GUID-82ACD002-4C5F-4BF7-99FF-46A2A97DD35D"><span><cite>Oracle Universal Connection Pool Developer’s Guide</cite></span></a> for more information about universal connection pools
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADMIN14211"></a><a id="ADMIN14185"></a><div class="props_rev_3"><a id="GUID-136666E0-2BF9-4538-8D60-11505898E5E2" name="GUID-136666E0-2BF9-4538-8D60-11505898E5E2"></a><h3 id="ADMIN-GUID-136666E0-2BF9-4538-8D60-11505898E5E2" class="sect3"><span class="enumeration_section">41.3 </span>Executing Code in Containers Using the DBMS_SQL Package
               </h3>
               <div>
                  <p>When you are executing PL/SQL code in a container in a CDB, and you want to execute one or more SQL statements in a different container, use the <code class="codeph">DBMS_SQL</code> package to switch containers.
                  </p>
                  <div class="section">
                     <p>For example, you can use the <code class="codeph">DBMS_SQL</code> package to switch containers when you need to perform identical actions in more than one container.
                     </p>
                     <p>The following are considerations for using <code class="codeph">DBMS_SQL</code> to switch containers:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A transaction cannot span multiple containers.</p>
                           <p>If the set of actions you must perform in the target container requires a transaction, then consider using an autonomous transaction and perform a commit or rollback as the last action.</p>
                        </li>
                        <li>
                           <p><code class="codeph">SET</code> <code class="codeph">ROLE</code> statements are not allowed.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-136666E0-2BF9-4538-8D60-11505898E5E2__GUID-7DCFA972-1EAE-4968-9F39-945D3A0DA899">
                     <p class="titleinexample">Example 41-10 Performing Identical Actions in More Than One Container</p>
                     <p>This example includes a PL/SQL block that creates the <code class="codeph">identact</code> table in the <code class="codeph">hr</code> schema in two PDBs (<code class="codeph">pdb1</code> and <code class="codeph">pdb2</code>). The example also inserts a row into the <code class="codeph">identact</code> table in both PDBs.
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  c1 INTEGER;
  rowcount INTEGER;
  taskList VARCHAR2(32767) :=
    'DECLARE
      PRAGMA AUTONOMOUS TRANSACTION;
     BEGIN
       -- Create the hr.identact table.
       EXECUTE IMMEDIATE
         ''CREATE TABLE hr.identact
             (actionno NUMBER(4) NOT NULL,
              action VARCHAR2 (10))'';
       EXECUTE IMMEDIATE
         ''INSERT INTO identact VALUES(1, 'ACTION1')'';
       -- A commit is required if the tasks include DML.
       COMMIT;
       EXCEPTION
         WHEN OTHERS THEN
           -- If there are errors, then drop the table.
           BEGIN
             EXECUTE IMMEDIATE ''DROP TABLE identact'';
           EXCEPTION
            WHEN OTHERS THEN
              NULL;
            END;
        END;';
  TYPE containerListType IS TABLE OF VARCHAR2(128) INDEX BY PLS_INTEGER;
  containerList  containerListType;
BEGIN
  containerList(1) := 'PDB1';
  containerList(2) := 'PDB2';
  c1 := DBMS_SQL.OPEN_CURSOR;
  FOR conIndex IN containerList.first..containerList.last LOOP
    DBMS_OUTPUT.PUT_LINE('Creating in container: ' || containerList(conIndex));
    DBMS_SQL.PARSE(c =&gt; c1 ,
                   statement =&gt; taskList,
                   language_flag =&gt; DBMS_SQL.NATIVE,
                   edition= &gt; NULL,
                   apply_crossedition_trigger =&gt; NULL,
                   fire_apply_trigger =&gt; NULL,
                   schema =&gt; 'HR',
                   container =&gt; containerList(conIndex));
     rowcount := DBMS_SQL.EXECUTE(c=&gt;c1);
  END LOOP;
  DBMS_SQL.CLOSE_CURSOR(c=&gt;c1);
END;
/</pre><div class="infoboxnotealso" id="GUID-136666E0-2BF9-4538-8D60-11505898E5E2__GUID-34423C3F-B32B-4172-8DED-B4AAC8705C82">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../arpls/DBMS_SQL.html#ARPLS058"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SQL</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/static-sql.html#LNPLS00609"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about autonomous transactions
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" name="GUID-80265A74-2826-429E-90E6-5EB68EC7D10B"></a><h3 id="ADMIN-GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" class="sect3"><span class="enumeration_section">41.4 </span>Modifying a CDB
               </h3>
               <p>You can modify the entire CDB, the root, or one or more PDBs.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14">About Modifying a CDB</a><br>The <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement modifies a CDB. The <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement can modify the open mode of one or more PDBs.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40">About the Statements That Modify a CDB</a><br>When connected as a common user whose current container is the root, the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement works the same in a CDB and a non-CDB.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-2095BEDD-3D50-4EBE-BD20-E1AE0126EDB7">Managing Tablespaces in a CDB</a><br>You can manage tablespaces in a CDB.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA">Modifying an Entire CDB</a><br>You can use the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement to modify an entire CDB, including the root and all of the PDBs. Most <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements modify the entire CDB. 
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E">Modifying the Root</a><br>You can use the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement to modify only the root of a CDB.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B">Modifying the Open Mode of PDBs</a><br>You can modify the open mode of a PDB by using the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> SQL statement or the SQL*Plus <code class="codeph">STARTUP</code> command.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9">Preserving or Discarding the Open Mode of PDBs When the CDB Restarts</a><br>You can preserve the open mode of one or more PDBs when the CDB restarts by using the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> SQL statement with a <span class="italic">pdb_save_or_discard_state</span> clause.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN14089"></a><a id="ADMIN13626"></a><div class="props_rev_3"><a id="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" name="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14"></a><h4 id="ADMIN-GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" class="sect4"><span class="enumeration_section">41.4.1 </span>About Modifying a CDB
                  </h4>
                  <div>
                     <p>The <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement modifies a CDB. The <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement can modify the open mode of one or more PDBs.
                     </p>
                     <p><a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__BAJECDFH" title="This table describes ALTER DATABASE statements that modify an entire consolidated database, ALTER DATABASE statements that modify the root database or a pluggable database, and ALTER PLUGGABLE DATABASE statements.">Table 41-3</a> lists which containers are modified by clauses in <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> and <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statements.
                     </p>
                     <div class="tblformalwide" id="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__BAJECDFH">
                        <p class="titleintable">Table 41-3 Statements That Modify Containers in a CDB</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Statements That Modify Containers in a CDB" summary="This table describes ALTER DATABASE statements that modify an entire consolidated database, ALTER DATABASE statements that modify the root database or a pluggable database, and ALTER PLUGGABLE DATABASE statements." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d324875e3325">Modify Entire CDB</th>
                                 <th align="left" valign="bottom" width="33%" id="d324875e3328">Modify Root Only</th>
                                 <th align="left" valign="bottom" width="33%" id="d324875e3331">Modify One or More PDBs</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d324875e3336" headers="d324875e3325 ">
                                    <p>When connected as a common user whose current container is the root, <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements with the following clauses modify the entire CDB:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52389"><span class="italic">startup_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52390"><span class="italic">recovery_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52402"><span class="italic">logfile_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52410"><span class="italic">controlfile_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52412"><span class="italic">standby_database_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52423"><span class="italic">instance_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52424"><span class="italic">security_clause</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52547"><code class="codeph">RENAME</code> <code class="codeph">GLOBAL_NAME</code> clause</a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52549"><code class="codeph">ENABLE</code> <code class="codeph">BLOCK</code> <code class="codeph">CHANGE</code> <code class="codeph">TRACKING</code> clause</a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52550"><code class="codeph">DISABLE</code> <code class="codeph">BLOCK</code> <code class="codeph">CHANGE</code> <code class="codeph">TRACKING</code> clause</a></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d324875e3336 d324875e3328 ">
                                    <p>When connected as a common user whose current container is the root, <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements with the following clauses modify the root only:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52396"><span class="italic">database_file_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52540"><code class="codeph">DEFAULT</code> <code class="codeph">EDITION</code> clause</a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52543"><code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause</a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52544"><code class="codeph">DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code> clause</a></p>
                                       </li>
                                    </ul>
                                    <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements with the following clauses modify the root and set default values for PDBs:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52421"><span class="italic">flashback_mode_clause</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52542"><code class="codeph">SET</code> <code class="codeph">DEFAULT</code> { <code class="codeph">BIGFILE</code> | <code class="codeph">SMALLFILE</code> } <code class="codeph">TABLESPACE</code> clause</a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52421"><span class="italic">set_time_zone_clause</span></a></p>
                                       </li>
                                    </ul>
                                    <p>You can use these clauses to set non-default values for specific PDBs.</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d324875e3336 d324875e3331 ">
                                    <p>When connected as a common user whose current container is the root, <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statements with the following clause can modify the open mode of one or more PDBs:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686"><span class="italic">pdb_change_state</span></a></p>
                                       </li>
                                    </ul>
                                    <p>When the current container is a PDB, <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statements with this clause can modify the open mode of the current PDB. See <span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-36AFFE0C-1B5E-4405-BD81-BC8E4DB2ADD7" title="You can modify a PDB with the ALTER PLUGGABLE DATABASE SQL statement.">Modifying a PDB with the ALTER PLUGGABLE DATABASE Statement</a>"</span>.
                                    </p>
                                    <p>When connected as a common user whose current container is the root, <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statements with the following clause can preserve or discard the open mode a PDB when the CDB restarts:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686"><span class="italic">pdb_save_or_discard_state</span></a></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40" title="When connected as a common user whose current container is the root, the ALTER DATABASE statement works the same in a CDB and a non-CDB.">About the Statements That Modify a CDB</a></p>
                        </li>
                        <li>
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="A tablespace is a logical storage container for database objects, such as tables and indexes, that consume storage space. At the physical level, a tablespace stores data in one or more data files or temp files. You can use the ALTER DATABASE statement to manage tablespaces in a CDB.">About Managing Tablespaces in a CDB</a></p>
                        </li>
                        <li>
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA" title="You can use the ALTER DATABASE statement to modify an entire CDB, including the root and all of the PDBs. Most ALTER DATABASE statements modify the entire CDB.">Modifying an Entire CDB</a></p>
                        </li>
                        <li>
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E" title="You can use the ALTER DATABASE statement to modify only the root of a CDB.">Modifying the Root</a></p>
                        </li>
                        <li>
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a></p>
                        </li>
                        <li>
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9" title="You can preserve the open mode of one or more PDBs when the CDB restarts by using the ALTER PLUGGABLE DATABASE SQL statement with a pdb_save_or_discard_state clause.">Preserving or Discarding the Open Mode of PDBs When the CDB Restarts</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__GUID-5AB716AC-DA19-4068-9F00-EB5F8D5ABFD4">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN13627"></a><div class="props_rev_3"><a id="GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40" name="GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40"></a><h4 id="ADMIN-GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40" class="sect4"><span class="enumeration_section">41.4.2 </span>About the Statements That Modify a CDB
                  </h4>
                  <div>
                     <p>When connected as a common user whose current container is the root, the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement works the same in a CDB and a non-CDB.
                     </p>
                     <p>Most <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements affect the entire CDB. The exceptions are listed in the "Modify Root Only" column of <a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__BAJECDFH" title="This table describes ALTER DATABASE statements that modify an entire consolidated database, ALTER DATABASE statements that modify the root database or a pluggable database, and ALTER PLUGGABLE DATABASE statements.">Table 41-3</a>.
                     </p>
                     <p>When an <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement with the <code class="codeph">RENAME</code> <code class="codeph">GLOBAL_NAME</code> clause modifies the domain of a CDB, it affects the domain of each PDB with a domain that defaults to that of the CDB.
                     </p>
                     <p>When connected as a common user whose current container is the root, the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with the <span class="italic">pdb_change_state</span> clause modifies the open mode of one or more PDBs.
                     </p>
                     <p>When the current container is a PDB, <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> and <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statements modify the current PDB only.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40__GUID-D37819C7-8813-4730-9AFF-CCA56FE9F491">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/ALTER-PLUGGABLE-DATABASE.html#SQLRF55667"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="You can modify a PDB using the ALTER PLUGGABLE DATABASE statement and with the SQL*Plus STARTUP and SHUTDOWN commands.">Modifying a PDB</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2095BEDD-3D50-4EBE-BD20-E1AE0126EDB7" name="GUID-2095BEDD-3D50-4EBE-BD20-E1AE0126EDB7"></a><h4 id="ADMIN-GUID-2095BEDD-3D50-4EBE-BD20-E1AE0126EDB7" class="sect4"><span class="enumeration_section">41.4.3 </span>Managing Tablespaces in a CDB
                  </h4>
                  <p>You can manage tablespaces in a CDB.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0">About Managing Tablespaces in a CDB</a><br>A tablespace is a logical storage container for database objects, such as tables and indexes, that consume storage space. At the physical level, a tablespace stores data in one or more data files or temp files. You can use the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement to manage tablespaces in a CDB.
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299">About Managing Permanent Tablespaces in a CDB</a><br>A permanent tablespace can be associated with only one container. Therefore, a permanent tablespace can be associated with the root or with one PDB.
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-CE80DD44-C691-42E4-A44A-663839439E36">About Managing Temporary Tablespaces in a CDB</a><br>Each container in a CDB has its own default temporary tablespace (or tablespace group).
                        </li>
                     </ul>
                  </div>
                  <a id="ADMIN13664"></a><div class="props_rev_3"><a id="GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" name="GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0"></a><h5 id="ADMIN-GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" class="sect5"><span class="enumeration_section">41.4.3.1 </span>About Managing Tablespaces in a CDB
                     </h5>
                     <div>
                        <p>A tablespace is a logical storage container for database objects, such as tables and indexes, that consume storage space. At the physical level, a tablespace stores data in one or more data files or temp files. You can use the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement to manage tablespaces in a CDB.
                        </p>
                        <p>The following are considerations for tablespaces in a CDB:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A permanent tablespace can be associated with only one container.</p>
                           </li>
                           <li>
                              <p>When you create a tablespace in a container, the tablespace is associated with that container.</p>
                           </li>
                           <li>
                              <p>When local undo is disabled for a CDB, the CDB has only one active undo tablespace, or one active undo tablespace for each instance of an Oracle RAC CDB. When local undo is enabled for a CDB, each container in the CDB has its own undo tablespace.</p>
                           </li>
                           <li>
                              <p>A local undo tablespace is required for each node in an Oracle Real Application Clusters (Oracle RAC) cluster in which the PDB is open.</p>
                           </li>
                           <li>
                              <p>There is one default temporary tablespace each container in the CDB, including the CDB root, each PDB, each application root, and each application PDB.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADMIN13666"></a><div class="props_rev_3"><a id="GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299" name="GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299"></a><h5 id="ADMIN-GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299" class="sect5"><span class="enumeration_section">41.4.3.2 </span>About Managing Permanent Tablespaces in a CDB
                     </h5>
                     <div>
                        <p>A permanent tablespace can be associated with only one container. Therefore, a permanent tablespace can be associated with the root or with one PDB.</p>
                        <p>Each container in a CDB must have its own default permanent tablespace, and default permanent tablespaces cannot be shared between containers. Users connected to the container who are not explicitly assigned a tablespace use the default permanent tablespace for the container.</p>
                     </div>
                  </div><a id="ADMIN14151"></a><a id="ADMIN13674"></a><div class="props_rev_3"><a id="GUID-CE80DD44-C691-42E4-A44A-663839439E36" name="GUID-CE80DD44-C691-42E4-A44A-663839439E36"></a><h5 id="ADMIN-GUID-CE80DD44-C691-42E4-A44A-663839439E36" class="sect5"><span class="enumeration_section">41.4.3.3 </span>About Managing Temporary Tablespaces in a CDB
                     </h5>
                     <div>
                        <p>Each container in a CDB has its own default temporary tablespace (or tablespace group).</p>
                        <p>You also can create additional temporary tablespaces for individual containers, and you can assign specific users in containers to these temporary tablespaces. When you unplug a PDB, its temporary tablespaces are also unplugged.</p>
                        <p>When a user is not assigned a temporary tablespace explicitly in a container, the user’s temporary tablespace is the default temporary tablespace for the container.</p>
                        <div class="infoboxnotealso" id="GUID-CE80DD44-C691-42E4-A44A-663839439E36__GUID-DADF7386-B6E8-40A5-BCA7-61462EC13886">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="A tablespace is a database storage unit that groups related logical structures together. The database data files are stored in tablespaces."> Managing Tablespaces</a></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="creating-and-removing-pdbs-with-sql-plus.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722" title="You can unplug a PDB from a CDB.">Unplugging a PDB from a CDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA" title="You can use the ALTER DATABASE statement to modify an entire CDB, including the root and all of the PDBs. Most ALTER DATABASE statements modify the entire CDB.">Modifying an Entire CDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E" title="You can use the ALTER DATABASE statement to modify only the root of a CDB.">Modifying the Root</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN13635"></a><a id="ADMIN13636"></a><a id="ADMIN13633"></a><div class="props_rev_3"><a id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA" name="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA"></a><h4 id="ADMIN-GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA" class="sect4"><span class="enumeration_section">41.4.4 </span>Modifying an Entire CDB
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement to modify an entire CDB, including the root and all of the PDBs. Most <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements modify the entire CDB. 
                     </p>
                     <div class="section">
                        <p>See the "Modify Entire CDB" column of <a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__BAJECDFH" title="This table describes ALTER DATABASE statements that modify an entire consolidated database, ALTER DATABASE statements that modify the root database or a pluggable database, and ALTER PLUGGABLE DATABASE statements.">Table 41-3</a> for a list of these statements.
                        </p>
                        <p>To modify an entire CDB, the following prerequisites must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The current user must be a common user with the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> privilege.
                              </p>
                           </li>
                           <li>
                              <p>To run an <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement with a <span class="italic">recovery_clause</span>, the current user must have the <code class="codeph">SYSDBA</code> administrative privilege commonly granted. In this case, you must exercise this privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> at connect time.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To modify an entire CDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run an <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement with a clause that modifies an entire CDB.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-673DB064-22B9-4E48-8836-44F89C8FF0A7">
                        <p class="titleinexample">Example 41-11 Backing Up the Control File for a CDB</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement uses a <span class="italic">recovery_clause</span> to back up a control file.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE BACKUP CONTROLFILE TO '+DATA/dbs/backup/control.bkp';</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-B2222769-BB3E-4878-B820-B9FD31816946">
                        <p class="titleinexample">Example 41-12 Adding a Redo Log File to a CDB</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement uses a <span class="italic">logfile_clause</span> to add redo log files.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE cdb ADD LOGFILE
  GROUP 4 ('/u01/logs/orcl/redo04a.log','/u02/logs/orcl/redo04b.log')
  SIZE 100M BLOCKSIZE 512 REUSE;
</pre><div class="infoboxnotealso" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-E809CAC4-9A17-4854-8EC8-AF987E5BE914">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADMIN13669"></a><a id="ADMIN13639"></a><a id="ADMIN13691"></a><a id="ADMIN13677"></a><a id="ADMIN13637"></a><div class="props_rev_3"><a id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E" name="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E"></a><h4 id="ADMIN-GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E" class="sect4"><span class="enumeration_section">41.4.5 </span>Modifying the Root
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement to modify only the root of a CDB.
                     </p>
                     <div class="section">
                        <p>When the current container is the root, these <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements modify the root without directly modifying any of the PDBs. See the "Modify Root Only" column of <a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__BAJECDFH" title="This table describes ALTER DATABASE statements that modify an entire consolidated database, ALTER DATABASE statements that modify the root database or a pluggable database, and ALTER PLUGGABLE DATABASE statements.">Table 41-3</a> for a list of these statements.
                        </p>
                        <p>Some of these statements set the defaults for the PDBs in the CDB. You can overwrite these defaults for a PDB by using the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement.
                        </p>
                        <p>To modify the root, the current user must have the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> privilege in the root.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To modify the root:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run an <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement with a clause that modifies the root.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples modify the root.</p>
                        <p>A user whose current container is the root that is not explicitly assigned a tablespace uses the default permanent tablespace for the root. The tablespace specified in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement must exist in the root.
                        </p>
                        <p>After executing this statement, the default type of subsequently created tablespaces in the root is bigfile. This setting is also the default for PDBs.</p>
                        <p>The tablespace or tablespace group specified in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement must exist in the root.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJDCIFH">
                        <p class="titleinexample">Example 41-13 Changing the Default Permanent Tablespace for the Root</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement uses a <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause to set the default permanent tablespace to <code class="codeph">root_tbs</code> for the root.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT TABLESPACE root_tbs;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJBIDBI">
                        <p class="titleinexample">Example 41-14 Bringing a Data File Online for the Root</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement uses a <span class="italic">database_file_clause</span> to bring the /u02/oracle/cdb_01.dbf data file online.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DATAFILE '/u02/oracle/cdb_01.dbf' ONLINE;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJBCFHC">
                        <p class="titleinexample">Example 41-15 Changing the Default Tablespace Type for the Root</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement uses a <code class="codeph">SET</code> <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause to change the default tablespace type to bigfile for the root.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE SET DEFAULT BIGFILE TABLESPACE;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJCBFIG">
                        <p class="titleinexample">Example 41-16 Changing the Default Temporary Tablespace for the Root</p>
                        <p>This <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement uses a <code class="codeph">DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code> clause to set the default temporary tablespace to <code class="codeph">root_temp</code> for the root.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT TEMPORARY TABLESPACE root_temp;
</pre><div class="infoboxnotealso" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__GUID-180511F9-9C80-4E37-AC3D-81EAB8D28963">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="You can modify a PDB using the ALTER PLUGGABLE DATABASE statement and with the SQL*Plus STARTUP and SHUTDOWN commands.">Modifying a PDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADMIN13645"></a><div class="props_rev_3"><a id="GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" name="GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B"></a><h4 id="ADMIN-GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" class="sect4"><span class="enumeration_section">41.4.6 </span>Modifying the Open Mode of PDBs
                  </h4>
                  <p>You can modify the open mode of a PDB by using the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> SQL statement or the SQL*Plus <code class="codeph">STARTUP</code> command.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-817703E2-B3E8-486F-8E3D-CFBB38911813">About the Open Mode of a PDB</a><br>A PDB can be in various modes.
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8">About Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE</a><br>When the current container is the root, an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <span class="italic">pdb_change_state</span> clause modifies the open mode of the specified PDBs.
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292">About Modifying the Open Mode of PDBs with the SQL*Plus STARTUP Command</a><br>When the current container is the root, the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command can open a single PDB.
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C">Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE</a><br>You can modify the open mode of PDBs with the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <span class="italic">pdb_change_state</span> clause.
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE">Modifying the Open Mode of PDBs with the SQL*Plus STARTUP Command</a><br>You can use the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command to open a single PDB.
                        </li>
                     </ul>
                  </div>
                  <a id="ADMIN14152"></a><a id="ADMIN14090"></a><div class="props_rev_3"><a id="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813" name="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813"></a><h5 id="ADMIN-GUID-817703E2-B3E8-486F-8E3D-CFBB38911813" class="sect5"><span class="enumeration_section">41.4.6.1 </span>About the Open Mode of a PDB
                     </h5>
                     <div>
                        <p>A PDB can be in various modes.</p>
                        <p><a href="administering-a-cdb-with-sql-plus.html#GUID-817703E2-B3E8-486F-8E3D-CFBB38911813__BAJEDIHF" title="This table describes PDB modes.">Table 41-4</a> describes the possible PDB modes.
                        </p>
                        <div class="tblformal" id="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813__BAJEDIHF">
                           <p class="titleintable">Table 41-4 PDB Modes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PDB Modes" summary="This table describes PDB modes." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d324875e4645">Mode</th>
                                    <th align="left" valign="bottom" width="78%" id="d324875e4648">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d324875e4653" headers="d324875e4645 ">
                                       <p><code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">WRITE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d324875e4653 d324875e4648 ">
                                       <p>A PDB in open read/write mode allows queries and user transactions to proceed and allows users to generate redo logs.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d324875e4667" headers="d324875e4645 ">
                                       <p><code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d324875e4667 d324875e4648 ">
                                       <p>A PDB in open read-only mode allows queries but does not allow user changes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d324875e4681" headers="d324875e4645 ">
                                       <p><code class="codeph">OPEN</code> <code class="codeph">MIGRATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d324875e4681 d324875e4648 ">
                                       <p>When a PDB is in open migrate mode, you can run database upgrade scripts on the PDB.</p>
                                       <p>A PDB is in this mode after an <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">OPEN</code> <code class="codeph">UPGRADE</code> is run.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d324875e4706" headers="d324875e4645 ">
                                       <p><code class="codeph">MOUNTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d324875e4706 d324875e4648 ">
                                       <p>When a PDB is in mounted mode, it behaves like a non-CDB in mounted mode. It does not allow changes to any objects, and it is accessible only to database administrators. It cannot read from or write to data files. Information about the PDB is removed from memory caches. Cold backups of the PDB are possible.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The open read/write, read-only, and migrate modes can be restricted to users with <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB.
                        </p>
                        <p>While a PDB is in mounted or read-only mode, database administrators can create, modify, or drop common users and roles in the CDB. The CDB applies these changes to the PDB when its open mode is changed to open in read/write mode. Before the changes are applied, descriptions of common users and roles in the PDB might be different from the descriptions in the rest of the CDB.</p>
                        <p>When a PDB is opened, Oracle Database checks the compatibility of the PDB with the CDB. Each compatibility violation is either a warning or an error. If a compatibility violation is a warning, then the warning is recorded in the alert log, but the PDB is opened normally without displaying a warning message. If a compatibility violation is an error, then a message is displayed when the PDB is opened stating that the PDB was altered with errors, and the errors are recorded in the alert log. You must correct the condition that caused each error. When there are errors, the PDB is opened, but access to the PDB is limited to users with <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege so that the compatibility violations can be addressed. You can view descriptions of violations by querying <code class="codeph">PDB_PLUG_IN_VIOLATIONS</code> view.
                        </p>
                        <div class="infoboxnotealso" id="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813__GUID-EF0583C3-F5A8-45E2-9CB0-743203669DA3">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span> for information about modifying the open mode of one or more PDBs when the current container is the root
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="You can use the ALTER PLUGGABLE DATABASE statement to modify the attributes of a single PDB.">Modifying a PDB with the ALTER PLUGGABLE DATABASE Statement</a>"</span> for information about modifying the open mode of a PDB when the current container is the PDB
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732" title="You can shut down a CDB instance in the same way that you shut down a non-CDB instance.">Shutting Down a CDB Instance</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="You can modify a PDB using the ALTER PLUGGABLE DATABASE statement and with the SQL*Plus STARTUP and SHUTDOWN commands.">Modifying a PDB</a>"</span> for information about modifying other attributes of a PDB
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8" name="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8"></a><h5 id="ADMIN-GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8" class="sect5"><span class="enumeration_section">41.4.6.2 </span>About Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE
                     </h5>
                     <div>
                        <p>When the current container is the root, an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <span class="italic">pdb_change_state</span> clause modifies the open mode of the specified PDBs.
                        </p>
                        <div class="section">
                           <p> The following table describes the clauses of the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement that modify the mode of a PDB.
                           </p>
                           <div class="tblformal" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__BAJEICEG">
                              <p class="titleintable">Table 41-5 ALTER PLUGGABLE DATABASE Clauses That Modify the Mode of a PDB</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER PLUGGABLE DATABASE Clauses That Modify the Mode of a PDB" summary="This table describes the clauses of the ALTER PLUGGABLE DATABASE statement that modify the mode of a PDB." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d324875e4881">Clause</th>
                                       <th align="left" valign="bottom" width="69%" id="d324875e4884">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d324875e4889" headers="d324875e4881 ">
                                          <p><code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">WRITE</code> <code class="codeph">[RESTRICTED] [FORCE]</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d324875e4889 d324875e4884 ">
                                          <p>Opens the PDB in read/write mode.</p>
                                          <p>When <code class="codeph">RESTRICTED</code> is specified, the PDB is accessible only to users with <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB. All sessions connected to the PDB that do not have <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege on it are terminated, and their transactions are rolled back.
                                          </p>
                                          <p>When <code class="codeph">FORCE</code> is specified, the statement opens a PDB that is currently closed and changes the open mode of a PDB that is in open read-only mode.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d324875e4928" headers="d324875e4881 ">
                                          <p><code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code> <code class="codeph">[RESTRICTED] [FORCE]</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d324875e4928 d324875e4884 ">
                                          <p>Opens the PDB in read-only mode.</p>
                                          <p>When <code class="codeph">RESTRICTED</code> is specified, the PDB is accessible only to users with <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB. All sessions connected to the PDB that do not have <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege on it are terminated.
                                          </p>
                                          <p>When <code class="codeph">FORCE</code> is specified, the statement opens a PDB that is currently closed and changes the open mode of a PDB that is in open read/write mode.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d324875e4967" headers="d324875e4881 ">
                                          <p><code class="codeph">OPEN</code> <code class="codeph">UPGRADE</code> <code class="codeph">[RESTRICTED]</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d324875e4967 d324875e4884 ">
                                          <p>Opens the PDB in migrate mode.</p>
                                          <p>When <code class="codeph">RESTRICTED</code> is specified, the PDB is accessible only to users with <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d324875e4992" headers="d324875e4881 ">
                                          <p><code class="codeph">CLOSE</code> <code class="codeph">[IMMEDIATE|ABORT]</code></p>
                                       </td>
                                       <td align="left" valign="top" width="69%" headers="d324875e4992 d324875e4884 ">
                                          <p>Places the PDB in mounted mode.</p>
                                          <p>The <code class="codeph">CLOSE</code> statement is the PDB equivalent of the SQL*Plus <code class="codeph">SHUTDOWN</code> command. If you do not specify <code class="codeph">IMMEDIATE</code> or <code class="codeph">ABORT</code>, then the PDB is shut down with the normal mode. See <span class="q">"<a href="starting-up-and-shutting-down.html#GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683" title="When you shut down a database with the normal mode, the database waits for all connected users to disconnect before shutting down. Normal mode is the default mode of shutdown.">Shutting Down with the Normal Mode</a>"</span>.
                                          </p>
                                          <p>When <code class="codeph">IMMEDIATE</code> is specified, this statement is the PDB equivalent of the SQL*Plus <code class="codeph">SHUTDOWN</code> command with the immediate mode. See <span class="q">"<a href="starting-up-and-shutting-down.html#GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA" title="When you shut down a database with the immediate mode, Oracle Database terminates any executing SQL statements and disconnects users. Active transactions are terminated and uncommitted changes are rolled back.">Shutting Down with the Immediate Mode</a>"</span>.
                                          </p>
                                          <p>When <code class="codeph">ABORT</code> is specified, the PDB is forcefully closed. For a single-instance CDB, PDB media recovery is required when you specify <code class="codeph">SHUTDOWN ABORT</code>. For an Oracle Real Application Clusters (Oracle RAC) CDB,&nbsp;PDB media recovery is required if the <code class="codeph">SHUTDOWN ABORT</code> command closes the last open instance.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>When you issue an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">OPEN</code> statement, <code class="codeph">READ</code> <code class="codeph">WRITE</code> is the default unless a PDB being opened belongs to a CDB that is used as a physical standby database, in which case <code class="codeph">READ</code> <code class="codeph">ONLY</code> is the default.
                           </p>
                           <p>You can specify which PDBs to modify in the following ways:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>List one or more PDBs.</p>
                              </li>
                              <li>
                                 <p>Specify <code class="codeph">ALL</code> to modify all of the PDBs.
                                 </p>
                              </li>
                              <li>
                                 <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> to modify all of the PDBs, except for the PDBs listed.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">The <span class="italic">services</span> Clause
                           </p>
                           <p>You can use the <span class="italic">services</span> clause to specify the services that are started when a single PDB is opened in the following ways:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>List one or more services in the <span class="italic">services</span> clause in the following form:
                                 </p><pre class="oac_no_warn" dir="ltr">SERVICES = ('<span class="italic">service_name</span>' [,'<span class="italic">service_name</span>'] … )
</pre></li>
                              <li>
                                 <p>Specify <code class="codeph">ALL</code> in the <span class="italic">services</span> clause to start all of the PDB’s services, as in the following example:
                                 </p><pre class="oac_no_warn" dir="ltr">SERVICES = ALL
</pre></li>
                              <li>
                                 <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> in the <span class="italic">services</span> clause to start all of the PDB’s services, except for the services listed, in the following form:
                                 </p><pre class="oac_no_warn" dir="ltr">SERVICES = ALL EXCEPT('<span class="italic">service_name</span>' [,'<span class="italic">service_name</span>'] … )
</pre></li>
                              <li>
                                 <p>Specify <code class="codeph">NONE</code> in the <span class="italic">services</span> clause to start only the PDB’s default service and none of the other PDB’s services, as in the following example:
                                 </p><pre class="oac_no_warn" dir="ltr">SERVICES = NONE</pre><p><code class="codeph">NONE</code> is the default setting for the <span class="italic">services</span> clause. A PDB’s default service is always started, regardless of the setting for the <span class="italic">services</span> clause.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">The <span class="italic">instances</span> Clause
                           </p>
                           <p>For an Oracle Real Application Clusters (Oracle RAC) CDB, you can use the <span class="italic">instances</span> clause to specify the instances on which the PDB is modified in the following ways:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>List one or more instances in the <span class="italic">instances</span> clause in the following form:
                                 </p><pre class="oac_no_warn" dir="ltr">INSTANCES = ('<span class="italic">instance_name</span>' [,'<span class="italic">instance_name</span>'] … )
</pre></li>
                              <li>
                                 <p>Specify <code class="codeph">ALL</code> in the <span class="italic">instances</span> clause to modify the PDB in all running instances, as in the following example:
                                 </p><pre class="oac_no_warn" dir="ltr">INSTANCES = ALL
</pre></li>
                              <li>
                                 <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> in the <span class="italic">instances</span> clause to modify the PDB in all of the instances, except for the instances listed, in the following form:
                                 </p><pre class="oac_no_warn" dir="ltr">INSTANCES = ALL EXCEPT('<span class="italic">instance_name</span>' [,'<span class="italic">instance_name</span>'] … )
</pre></li>
                           </ul>
                           <p>Also, when you are closing a PDB in an Oracle RAC CDB, you can use the <span class="italic">relocate</span> clause, which includes the following options:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Specify <code class="codeph">NORELOCATE</code>, the default, to close the PDB in the current instance.
                                 </p>
                              </li>
                              <li>
                                 <p>Specify <code class="codeph">RELOCATE</code> <code class="codeph">TO</code> and specify an instance name to reopen the PDB in the specified instance.
                                 </p>
                              </li>
                              <li>
                                 <p>Specify <code class="codeph">RELOCATE</code> to reopen the PDB on a different instance that is selected by Oracle Database.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-51E68797-BED6-4F6D-A32E-46647EAB1E9A">
                              <p class="notep1">Note:</p>If both the <span class="italic">services</span> clause and the <span class="italic">instances</span> clause are specified in the same <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement, then the specified services are started on the specified instances.
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">The <span class="italic">relocate</span> Clause
                           </p>
                           <p>When you are closing a PDB in an Oracle RAC CDB, you can use the <span class="italic">relocate</span> clause, which includes the following options:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Specify <code class="codeph">NORELOCATE</code>, the default, to close the PDB in the current instance.
                                 </p>
                              </li>
                              <li>
                                 <p>Specify <code class="codeph">RELOCATE</code> <code class="codeph">TO</code> and specify an instance name to reopen the PDB in the specified instance.
                                 </p>
                              </li>
                              <li>
                                 <p>Specify <code class="codeph">RELOCATE</code> to reopen the PDB on a different instance that is selected by Oracle Database.
                                 </p>
                              </li>
                           </ul>
                           <p>To modify the open mode of PDBs with the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, the following prerequisites must be met:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The current user must have <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, or <code class="codeph">SYSDG</code> administrative privilege, and the privilege must be either commonly granted or locally granted in the PDB. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>, <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code>, or <code class="codeph">AS</code> <code class="codeph">SYSDG</code>, respectively, at connect time.
                                 </p>
                              </li>
                              <li>
                                 <p>When <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> is enabled, <code class="codeph">RESTRICTED</code> must be specified when a PDB is opened.
                                 </p>
                              </li>
                              <li>
                                 <p>In an Oracle RAC CDB, if a PDB is open in one or more Oracle RAC instances, then it can be opened in additional instances, but it must be opened in the same mode as in the instances in which it is already open. A PDB can be closed in some instances and opened on others.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">Summary of Requirements for the ALTER PLUGGABLE DATABASE Statement</p>
                           <p>To modify the open mode of PDBs with the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, the following prerequisites must be met:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The current user must have <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, or <code class="codeph">SYSDG</code> administrative privilege, and the privilege must be either commonly granted or locally granted in the PDB. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>, <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code>, or <code class="codeph">AS</code> <code class="codeph">SYSDG</code>, respectively, at connect time.
                                 </p>
                              </li>
                              <li>
                                 <p>When <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> is enabled, <code class="codeph">RESTRICTED</code> must be specified when a PDB is opened.
                                 </p>
                              </li>
                              <li>
                                 <p>In an Oracle RAC CDB, if a PDB is open in one or more Oracle RAC instances, then it can be opened in additional instances, but it must be opened in the same mode as in the instances in which it is already open. A PDB can be closed in some instances and opened on others.</p>
                              </li>
                           </ul>
                           <p>To place PDBs in a particular target mode with the <code class="codeph">ALTER</code> <code class="codeph">PLUGGAGLE</code> <code class="codeph">DATABASE</code> statement, you must meet the requirements described in the following table.
                           </p>
                           <div class="tblformalwide" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__BAJFBFDH">
                              <p class="titleintable">Table 41-6 Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE" summary="This table describes the requirements for placing PDBs in a particular mode with the ALTER PLUGGABLE DATABASE statement." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d324875e5469">Target Mode of PDBs</th>
                                       <th align="left" valign="bottom" width="20%" id="d324875e5472">ALL Keyword Included</th>
                                       <th align="left" valign="bottom" width="20%" id="d324875e5477">FORCE Keyword Included</th>
                                       <th align="left" valign="bottom" width="20%" id="d324875e5482">Required Mode for the Root</th>
                                       <th align="left" valign="bottom" width="20%" id="d324875e5485">Required Mode for Each PDB Being Modified</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5490" headers="d324875e5469 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5490 d324875e5472 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5490 d324875e5477 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5490 d324875e5482 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5490 d324875e5485 ">
                                          <p>Mounted, read-only, or read/write</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5506" headers="d324875e5469 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5506 d324875e5472 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5506 d324875e5477 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5506 d324875e5482 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5506 d324875e5485 ">
                                          <p>Mounted or read/write</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5522" headers="d324875e5469 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5522 d324875e5472 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5522 d324875e5477 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5522 d324875e5482 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5522 d324875e5485 ">
                                          <p>Mounted, read-only, or read/write</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5538" headers="d324875e5469 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5538 d324875e5472 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5538 d324875e5477 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5538 d324875e5482 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5538 d324875e5485 ">
                                          <p>Mounted</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5554" headers="d324875e5469 ">
                                          <p>Read-only</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5554 d324875e5472 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5554 d324875e5477 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5554 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5554 d324875e5485 ">
                                          <p>Mounted, read-only, or read/write</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5570" headers="d324875e5469 ">
                                          <p>Read-only</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5570 d324875e5472 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5570 d324875e5477 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5570 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5570 d324875e5485 ">
                                          <p>Mounted or read-only</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5586" headers="d324875e5469 ">
                                          <p>Read-only</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5586 d324875e5472 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5586 d324875e5477 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5586 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5586 d324875e5485 ">
                                          <p>Mounted, read-only, or read/write</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5602" headers="d324875e5469 ">
                                          <p>Read-only</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5602 d324875e5472 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5602 d324875e5477 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5602 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5602 d324875e5485 ">
                                          <p>Mounted</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5618" headers="d324875e5469 ">
                                          <p>Migrate</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5618 d324875e5472 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5618 d324875e5477 ">
                                          <p>Not applicable</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5618 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5618 d324875e5485 ">
                                          <p>Mounted</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5634" headers="d324875e5469 ">
                                          <p>Migrate</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5634 d324875e5472 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5634 d324875e5477 ">
                                          <p>Not applicable</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5634 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5634 d324875e5485 ">
                                          <p>Mounted</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5650" headers="d324875e5469 ">
                                          <p>Mounted</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5650 d324875e5472 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5650 d324875e5477 ">
                                          <p>Not applicable</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5650 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5650 d324875e5485 ">
                                          <p>Mounted, read-only, migrate, or read/write</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d324875e5667" headers="d324875e5469 ">
                                          <p>Mounted</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5667 d324875e5472 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5667 d324875e5477 ">
                                          <p>Not applicable</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5667 d324875e5482 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d324875e5667 d324875e5485 ">
                                          <p>Read-only, migrate, or read/write</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-16EF842F-DD50-47D9-86D2-0A1BFF4D8783">
                              <p class="notep1">Note:</p>
                              <p>You can also modify the open mode of a PDB when the current container is the PDB. See <span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="You can use the ALTER PLUGGABLE DATABASE statement to modify the attributes of a single PDB.">Modifying a PDB with the ALTER PLUGGABLE DATABASE Statement</a>"</span>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" title="You can modify the open mode of PDBs with the ALTER PLUGGABLE DATABASE statement with a pdb_change_state clause.">Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292" name="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292"></a><h5 id="ADMIN-GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292" class="sect5"><span class="enumeration_section">41.4.6.3 </span>About Modifying the Open Mode of PDBs with the SQL*Plus STARTUP Command
                     </h5>
                     <div>
                        <p>When the current container is the root, the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command can open a single PDB.
                        </p>
                        <div class="section">
                           <p>Use the following options of the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command to open a PDB:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">FORCE</code></p>
                                 <p>Closes an open PDB before re-opening it in read/write mode. When this option is specified, no other options are allowed.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">RESTRICT</code></p>
                                 <p>Enables only users with the <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> system privilege in the PDB to access the PDB.
                                 </p>
                                 <p>If neither <code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">WRITE</code> nor <code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code> is specified, then the PDB is opened in read-only mode when the CDB to which it belongs is a physical standby database. Otherwise, the PDB is opened in read/write mode.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OPEN</code> <span class="italic">open_pdb_options</span></p>
                                 <p>Opens the PDB in either read/write mode or read-only mode. You can specify <code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">WRITE</code> or <code class="codeph">OPEN</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code>. When you specify <code class="codeph">OPEN</code> without any other options, <code class="codeph">READ</code> <code class="codeph">WRITE</code> is the default.
                                 </p>
                              </li>
                           </ul>
                           <p>The following prerequisites must be met:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The current user must have <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, or <code class="codeph">SYSDG</code> administrative privilege, and the privilege must be either commonly granted or locally granted in the PDB. The user must exercise the privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>, <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code>, or <code class="codeph">AS</code> <code class="codeph">SYSDG</code>, respectively, at connect time.
                                 </p>
                              </li>
                              <li>
                                 <p>When <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> is enabled, <code class="codeph">RESTRICT</code> must be specified when a PDB is opened.
                                 </p>
                              </li>
                           </ul>
                           <p>In addition, to place PDBs in a particular target mode with the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGAGLE</code> <code class="codeph">DATABASE</code> command, you must meet the requirements described in the following table.
                           </p>
                           <div class="tblformalwide" id="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292__BAJHAJCH">
                              <p class="titleintable">Table 41-7 Modifying the Open Mode of a PDB with STARTUP PLUGGABLE DATABASE</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Modifying the Open Mode of a PDB with STARTUP PLUGGABLE DATABASE" summary="This table describes the requirements for placing PDBs in a particular mode with the STARTUP command." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d324875e5925">Target Mode of the PDB</th>
                                       <th align="left" valign="bottom" width="18%" id="d324875e5928">FORCE Option Included</th>
                                       <th align="left" valign="bottom" width="25%" id="d324875e5931">Required Mode for the Root</th>
                                       <th align="left" valign="bottom" width="32%" id="d324875e5934">Required Mode of the PDB Being Modified</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d324875e5939" headers="d324875e5925 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d324875e5939 d324875e5928 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d324875e5939 d324875e5931 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d324875e5939 d324875e5934 ">
                                          <p>Mounted, read-only, or read/write</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d324875e5952" headers="d324875e5925 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d324875e5952 d324875e5928 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d324875e5952 d324875e5931 ">
                                          <p>Read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d324875e5952 d324875e5934 ">
                                          <p>Mounted</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d324875e5965" headers="d324875e5925 ">
                                          <p>Read-only</p>
                                       </td>
                                       <td align="left" valign="top" width="18%" headers="d324875e5965 d324875e5928 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d324875e5965 d324875e5931 ">
                                          <p>Read-only or read/write</p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d324875e5965 d324875e5934 ">
                                          <p>Mounted</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292__GUID-77E3B8BE-8162-46FF-AF0B-3D0C44B67DF9">
                              <p class="notep1">Note:</p>
                              <p>You can also use the <code class="codeph">STARTUP</code> command to modify the open mode of a PDB when the current container is the PDB. See <span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-CD8BE686-3C89-445F-8347-263758AE448E" title="When the current container is a PDB, the SQL*Plus STARTUP command opens the PDB.">Using the STARTUP SQL*Plus Command on a PDB</a>"</span>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="administering-a-cdb-with-sql-plus.html#GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE" title="You can use the STARTUP PLUGGABLE DATABASE command to open a single PDB.">Modifying the Open Mode of PDBs with the SQL*Plus STARTUP Command</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADMIN14153"></a><a id="ADMIN14154"></a><a id="ADMIN13647"></a><a id="ADMIN13648"></a><a id="ADMIN13649"></a><a id="ADMIN13632"></a><div class="props_rev_3"><a id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" name="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C"></a><h5 id="ADMIN-GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" class="sect5"><span class="enumeration_section">41.4.6.4 </span>Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE
                     </h5>
                     <div>
                        <p>You can modify the open mode of PDBs with the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <span class="italic">pdb_change_state</span> clause.
                        </p>
                        <div class="section">
                           <ol>
                              <li>
                                 <p>In SQL*Plus, ensure that the current container is the root.</p>
                                 <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Run an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <span class="italic">pdb_change_state</span> clause.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__BAJEHAJF">
                           <p class="titleinexample">Example 41-17 Changing the Open Mode of Listed PDBs</p>
                           <p>This statement changes the open mode of PDBs <code class="codeph">salespdb</code> and <code class="codeph">hrpdb</code> to open in read/write mode.
                           </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb, hrpdb
   OPEN READ WRITE;
</pre><p>This statement changes the open mode of PDB <code class="codeph">salespdb</code> to open in read-only mode. <code class="codeph">RESTRICTED</code> specifies that the PDB is accessible only to users with <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB.
                           </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb
   OPEN READ ONLY RESTRICTED;
</pre><p>This statement changes the open mode of PDB <code class="codeph">salespdb</code> to open in migrate mode:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb
   OPEN UPGRADE;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__BAJDFGEE">
                           <p class="titleinexample">Example 41-18 Changing the Open Mode of All PDBs</p>
                           <p>Run the following query to display the open mode of each PDB associated with a CDB:</p><pre class="oac_no_warn" dir="ltr">SELECT NAME, OPEN_MODE FROM V$PDBS WHERE CON_ID &gt; 2;
 
NAME                           OPEN_MODE
------------------------------ ----------
HRPDB                          READ WRITE
SALESPDB                       MOUNTED
DWPDB                          MOUNTED
</pre><p>Notice that <code class="codeph">hrpdb</code> is already in read/write mode. To change the open mode of <code class="codeph">salespdb</code> and <code class="codeph">dwpdb</code> to open in read/write mode, use the following statement:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE ALL
   OPEN READ WRITE;
</pre><p>The <code class="codeph">hrpdb</code> PDB is not modified because it is already in open read/write mode. The statement does not return an error because two PDBs are in mounted mode and one PDB (<code class="codeph">hrpdb</code>) is in the specified mode (read/write). Similarly, the statement does not return an error if all PDBs are in mounted mode.
                           </p>
                           <p>However, if any PDB is in read-only mode, then the statement returns an error. To avoid an error and open all PDBs in the CDB in read/write mode, specify the <code class="codeph">FORCE</code> keyword:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE ALL
   OPEN READ WRITE FORCE;
</pre><p>With the <code class="codeph">FORCE</code> keyword included, all PDBs are opened in read/write mode, including PDBs in read-only mode.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__BAJGDHGJ">
                           <p class="titleinexample">Example 41-19 Changing the Open Mode of All PDBs Except for Listed Ones</p>
                           <p>This statement changes the mode of all PDBs except for <code class="codeph">salespdb</code> and <code class="codeph">hrpdb</code> to mounted mode.
                           </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE ALL EXCEPT salespdb, hrpdb
   CLOSE IMMEDIATE;
</pre><div class="infoboxnote" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__GUID-730C781D-019A-47AE-8421-878E22E8392F">
                              <p class="notep1">Note:</p>
                              <p>An <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement modifying the open mode of a PDB is instance-specific. Therefore, if this statement is issued when connected to an Oracle RAC instance, then it affects the open mode of the PDB only in that instance.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__GUID-9BFCD114-2323-421D-9ED6-7F72BFB3E44F">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8" title="When the current container is the root, an ALTER PLUGGABLE DATABASE statement with a pdb_change_state clause modifies the open mode of the specified PDBs.">About Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="You can modify a PDB using the ALTER PLUGGABLE DATABASE statement and with the SQL*Plus STARTUP and SHUTDOWN commands.">Modifying a PDB</a>"</span> for information about modifying the other attributes of a PDB
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="starting-up-and-shutting-down.html#GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" title="You can alter the availability of a database. You may want to do this in order to restrict access for maintenance reasons or to make the database read only.">Altering Database Availability</a>"</span> for information about database modes and their uses
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../sqlrf/ALTER-PLUGGABLE-DATABASE.html#SQLRF55667"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../cncpt/oracle-database-instance.html#CNCPT89041"><span class="italic">Oracle Database Concepts</span></a> for more information about shutdown modes
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADMIN14155"></a><a id="ADMIN14092"></a><a id="ADMIN14093"></a><a id="ADMIN14170"></a><a id="ADMIN14094"></a><a id="ADMIN14095"></a><a id="ADMIN14091"></a><div class="props_rev_3"><a id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE" name="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE"></a><h5 id="ADMIN-GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE" class="sect5"><span class="enumeration_section">41.4.6.5 </span>Modifying the Open Mode of PDBs with the SQL*Plus STARTUP Command
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command to open a single PDB.
                        </p>
                        <div class="section">
                           <p class="subhead3">To modify a PDB with the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command:
                           </p>
                           <ol>
                              <li>
                                 <p>In SQL*Plus, ensure that the current container is the root.</p>
                                 <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">STARTUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-C619D626-46D6-430C-BFF2-E92930DC8D54">
                              <p class="notep1">Note:</p>
                              <p>When the current container is the root, the SQL*Plus <code class="codeph">SHUTDOWN</code> command always shuts down the CDB instance. It cannot be used to close individual PDBs.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-25019E38-E562-4F3F-A574-A576A4C89179">
                           <p class="titleinexample">Example 41-20 Opening a PDB in Read/Write Mode with the STARTUP Command</p><pre class="oac_no_warn" dir="ltr">STARTUP PLUGGABLE DATABASE hrpdb OPEN</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-3492BF89-574C-4F5F-9589-4BB07D02E80A">
                           <p class="titleinexample">Example 41-21 Opening a PDB in Read/Write Restricted Mode with the STARTUP Command</p><pre class="oac_no_warn" dir="ltr">STARTUP PLUGGABLE DATABASE hrpdb RESTRICT</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-CE9724D6-ADB3-4ED3-849C-7304E0358A47">
                           <p class="titleinexample">Example 41-22 Opening a PDB in Read-Only Restricted Mode with the STARTUP Command</p><pre class="oac_no_warn" dir="ltr">STARTUP PLUGGABLE DATABASE hrpdb OPEN READ ONLY RESTRICT</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-3E94D985-66E2-4571-8F8D-BBAF79565DB9">
                           <p class="titleinexample">Example 41-23 Opening a PDB in Read-Only Mode with the STARTUP Command</p><pre class="oac_no_warn" dir="ltr">STARTUP PLUGGABLE DATABASE hrpdb OPEN READ ONLY</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-0C3F6FEE-E7E2-4C0A-9F70-BE8B1BAE565B">
                           <p class="titleinexample">Example 41-24 Opening a PDB in Read/Write Mode with the STARTUP Command and the FORCE Option</p>
                           <p>This example assumes that the <code class="codeph">hrpdb</code> PDB is currently open. The <code class="codeph">FORCE</code> option closes the PDB and then opens it in the read/write mode.
                           </p><pre class="oac_no_warn" dir="ltr">STARTUP PLUGGABLE DATABASE hrpdb FORCE
</pre><div class="infoboxnotealso" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-3A6F9D84-8DCD-432C-8853-217356350160">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292" title="When the current container is the root, the STARTUP PLUGGABLE DATABASE command can open a single PDB.">About Modifying the Open Mode of PDBs with the SQL*Plus STARTUP Command</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18" title="When the current container is a PDB, you can use the SQL*Plus STARTUP command to open the PDB and the SQL*Plus SHUTDOWN command to close the PDB.">Modifying a PDB with the SQL*Plus STARTUP and SHUTDOWN Commands</a>"</span> for information about using the <code class="codeph">STARTUP</code> or <code class="codeph">SHUTDOWN</code> command when the current container is a PDB
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="starting-up-and-shutting-down.html#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="When you start up a database, you create an instance of that database and you determine the state of the database. Normally, you start up an instance by mounting and opening the database. Doing so makes the database available for any valid user to connect to and perform typical data access operations.">Starting Up a Database</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../sqpug/STARTUP.html#SQPUG128"><span class="italic">SQL*Plus User's Guide and Reference</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADMIN14252"></a><a id="ADMIN14253"></a><a id="ADMIN14254"></a><a id="ADMIN14255"></a><a id="ADMIN14256"></a><a id="ADMIN14251"></a><div class="props_rev_3"><a id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9" name="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9"></a><h4 id="ADMIN-GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9" class="sect4"><span class="enumeration_section">41.4.7 </span>Preserving or Discarding the Open Mode of PDBs When the CDB Restarts
                  </h4>
                  <div>
                     <p>You can preserve the open mode of one or more PDBs when the CDB restarts by using the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> SQL statement with a <span class="italic">pdb_save_or_discard_state</span> clause.
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__GUID-C61E1CFD-30ED-4486-BA60-41127576B32F">
                           <p class="notep1">Note:</p>
                           <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                           </p>
                        </div>
                        <p> You can do this in the following way:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify <code class="codeph">SAVE STATE</code> to preserve the PDBs' mode when the CDB is restarted.
                              </p>
                              <p>For example, if a PDB is in open read/write mode before the CDB is restarted, then the PDB is in open read/write mode after the CDB is restarted; if a PDB is in mounted mode before the CDB is restarted, then the PDB is in mounted mode after the CDB is restarted.</p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">DISCARD STATE</code> to ignore the PDBs' open mode when the CDB is restarted.
                              </p>
                              <p>When <code class="codeph">DISCARD STATE</code> is specified for a PDB, the PDB is always mounted after the CDB is restarted.
                              </p>
                           </li>
                        </ul>
                        <p>You can specify which PDBs to modify in the following ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>List one or more PDBs.</p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">ALL</code> to modify all of the PDBs.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> to modify all of the PDBs, except for the PDBs listed.
                              </p>
                           </li>
                        </ul>
                        <p>For an Oracle RAC CDB, you can use the <span class="italic">instances</span> clause in the <span class="italic">pdb_save_or_discard_state</span> clause to specify the instances on which a PDB's open mode is preserved in the following ways:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>List one or more instances in the <span class="italic">instances</span> clause in the following form:
                              </p><pre class="oac_no_warn" dir="ltr">INSTANCES = ('<span class="italic">instance_name</span>' [,'<span class="italic">instance_name</span>'] … )
</pre></li>
                           <li>
                              <p>Specify <code class="codeph">ALL</code> in the <span class="italic">instances</span> clause to modify the PDB in all running instances, as in the following example:
                              </p><pre class="oac_no_warn" dir="ltr">INSTANCES = ALL
</pre></li>
                           <li>
                              <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> in the <span class="italic">instances</span> clause to modify the PDB in all of the instances, except for the instances listed, in the following form:
                              </p><pre class="oac_no_warn" dir="ltr">INSTANCES = ALL EXCEPT('<span class="italic">instance_name</span>' [,'<span class="italic">instance_name</span>'] … )
</pre></li>
                        </ul>
                        <p>For a PDB in an Oracle RAC CDB, <code class="codeph">SAVE STATE</code> and <code class="codeph">DISCARD STATE</code> only affect the mode of the current instance. They do not affect the mode of other instances, even if more than one instance is specified in the <span class="italic">instances</span> clause.
                        </p>
                        <p>To issue an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> SQL statement with a <span class="italic">pdb_save_or_discard_state</span> clause, the current user must have the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> privilege in the root.
                        </p>
                        <p><a id="d324875e6655" class="indexterm-anchor"></a>You can check the saved states for the PDBs in a CDB by querying the <code class="codeph">DBA_PDB_SAVED_STATES</code> view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To preserve or discard a PDB's open mode when the CDB restarts:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement with a <span class="italic">pdb_save_or_discard_state</span> clause.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples either preserve or discard the open mode of one or more PDBs when the CDB restarts.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJIEBBB">
                        <p class="titleinexample">Example 41-25 Preserving the Open Mode of a PDB When the CDB Restarts</p>
                        <p>This statement preserves the open mode of the <code class="codeph">salespdb</code> when the CDB restarts.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb SAVE STATE;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJICJGB">
                        <p class="titleinexample">Example 41-26 Discarding the Open Mode of a PDB When the CDB Restarts</p>
                        <p>This statement discards the open mode of the <code class="codeph">salespdb</code> when the CDB restarts.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb DISCARD STATE;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJFGGFD">
                        <p class="titleinexample">Example 41-27 Preserving the Open Mode of All PDBs When the CDB Restarts</p>
                        <p>This statement preserves the open mode of all of the PDBs when the CDB restarts.</p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE ALL SAVE STATE;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJEBACE">
                        <p class="titleinexample">Example 41-28 Preserving the Open Mode of Listed PDBs When the CDB Restarts</p>
                        <p>This statement preserves the open mode of the <code class="codeph">salespdb</code> and <code class="codeph">hrpdb</code> when the CDB restarts.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE salespdb, hrpdb SAVE STATE;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJCFBJC">
                        <p class="titleinexample">Example 41-29 Preserving the Open Mode of All PDBs Except for Listed Ones When the CDB Restarts</p>
                        <p>This statement preserves the open mode of all PDBs except for <code class="codeph">salespdb</code> and <code class="codeph">hrpdb</code>.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE ALL EXCEPT salespdb, hrpdb SAVE STATE;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADMIN13657"></a><a id="ADMIN14171"></a><a id="ADMIN13650"></a><div class="props_rev_3"><a id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" name="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95"></a><h3 id="ADMIN-GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" class="sect3"><span class="enumeration_section">41.5 </span>Using the ALTER SYSTEM SET Statement in a CDB
               </h3>
               <div>
                  <p>The <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement can dynamically set an initialization parameter in one or more containers in a CDB.
                  </p>
                  <div class="section">
                     <p>A CDB uses an inheritance model for initialization parameters in which PDBs inherit initialization parameter values from the root. In this case, inheritance means that the value of a particular parameter in the root applies to a particular PDB.</p>
                     <p>A PDB can override the root's setting for some parameters, which means that a PDB has an inheritance property for each initialization parameter that is either true or false. The inheritance property is true for a parameter when the PDB inherits the root's value for the parameter. The inheritance property is false for a parameter when the PDB does not inherit the root's value for the parameter.</p>
                     <p>The inheritance property for some parameters must be true. For other parameters, you can change the inheritance property by running the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement to set the parameter when the current container is the PDB. If <code class="codeph">ISPDB_MODIFIABLE</code> is <code class="codeph">TRUE</code> for an initialization parameter in the <code class="codeph">V$SYSTEM_PARAMETER</code> view, then the inheritance property can be false for the parameter.
                     </p>
                     <p>When the current container is the root, the <code class="codeph">CONTAINER</code> clause of the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement controls which PDBs inherit the parameter value being set. The <code class="codeph">CONTAINER</code> clause has the following syntax:
                     </p><pre class="oac_no_warn" dir="ltr">CONTAINER = { CURRENT | ALL }
</pre><p>The following settings are possible:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CURRENT</code>, the default, means that the parameter setting applies only to the current container.
                           </p>
                           <p>When the current container is the root, the parameter setting applies to the root and to any PDB with an inheritance property of true for the parameter.</p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL</code> means that the parameter setting applies to all containers in the CDB, including the root and all of the PDBs.
                           </p>
                           <p>Specifying <code class="codeph">ALL</code> sets the inheritance property to true for the parameter in all PDBs.
                           </p>
                        </li>
                     </ul>
                     <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span> for more information about the <code class="codeph">CONTAINER</code> clause and rules that apply to it.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">To use <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> in the root in a CDB:
                     </p>
                     <ol>
                        <li>
                           <p>In SQL*Plus, ensure that the current container is the root.</p>
                           <p>The current user must have the commonly granted <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> privilege.
                           </p>
                           <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Run the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-D42E04D8-A26E-4D89-8AC1-2145CF02FCB0">
                        <p class="notep1">Note:</p>
                        <p>If you want to change the inheritance property for a particular parameter in a particular PDB from false to true, then you can run the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">RESET</code> statement to reset the parameter when the current container is the PDB. The following example resets the <code class="codeph">OPEN_CURSORS</code> parameter:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM RESET OPEN_CURSORS SCOPE = SPFILE;
</pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-CF4C624E-74B2-4764-B8A1-B1CBF3FDFA3D">
                     <p class="titleinexample">Example 41-30 Setting an Initialization Parameter for All Containers</p>
                     <p>This <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement sets the <code class="codeph">OPEN_CURSORS</code> initialization parameter to <code class="codeph">200</code> for the all containers and sets the inheritance property to <code class="codeph">TRUE</code> in each PDB.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET OPEN_CURSORS = 200 CONTAINER = ALL;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-4CB00A76-FB4E-43BA-BF17-98CE4E35DA45">
                     <p class="titleinexample">Example 41-31 Setting an Initialization Parameter for the Root</p>
                     <p>This <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement sets the <code class="codeph">OPEN_CURSORS</code> initialization parameter to <code class="codeph">200</code> for the root and for PDBs with an inheritance property of true for the parameter.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET OPEN_CURSORS = 200 CONTAINER = CURRENT;
</pre><div class="infoboxnotealso" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-11F815E1-2CD9-4A9A-A4DE-A128DBC06130">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="You can use the ALTER SYSTEM statement to modify a PDB.">Using the ALTER SYSTEM Statement to Modify a PDB</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF53143"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F" name="GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F"></a><h3 id="ADMIN-GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F" class="sect3"><span class="enumeration_section">41.6 </span>Issuing DML Statements on Containers in a CDB
               </h3>
               <div>
                  <p>A DML (data manipulation language) statement issued in a CDB root can modify one or more containers in the CDB. In addition, you can specify one or more default container targets for DML statements. </p>
                  <p> </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F">About Issuing DML Statements on Containers in a CDB</a><br>DML statements can affect database objects in more than one container in a CDB.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D336011C-83B2-4101-B5AB-C4D890147BF4">Specifying the Default Container for DML Statements in a CDB</a><br>To specify the default container for DML statements in a CDB, issue the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">CONTAINERS DEFAULT TARGET</code> clause.
                     </li>
                  </ul>
               </div>
               
               <div class="sect3"><a id="GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F" name="GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F"></a><h4 id="ADMIN-GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F" class="sect4"><span class="enumeration_section">41.6.1 </span>About Issuing DML Statements on Containers in a CDB
                  </h4>
                  <div>
                     <p>DML statements can affect database objects in more than one container in a CDB.</p>
                     <p>In a CDB root or an application root, a single DML statement that includes the <code class="codeph">CONTAINERS</code> clause can modify a table or view in one or more containers in that CDB or application container. To use the <code class="codeph">CONTAINERS</code> clause, specify the table or view being modified in the <code class="codeph">CONTAINERS</code> clause and the containers affected in the <code class="codeph">WHERE</code> clause. A target container can be specified in an <code class="codeph">INSERT VALUES</code> statement by specifying a value for <code class="codeph">CON_ID</code> in the <code class="codeph">VALUES</code> clause. Also, a target container can be specified in an <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> statement by specifying a <code class="codeph">CON_ID</code> predicate in the <code class="codeph">WHERE</code> clause.
                     </p>
                     <div class="p">For example, the following DML statement updates the <code class="codeph">sales.customers</code> table in the containers with a <code class="codeph">CON_ID</code> of <code class="codeph">7</code> or <code class="codeph">8</code>:<pre class="pre codeblock"><code>UPDATE CONTAINERS(sales.customers) ctab 
   SET ctab.city_name='MIAMI' 
   WHERE ctab.CON_ID IN(7,8) AND
   CUSTOMER_ID=3425;</code></pre></div>
                     <p>The values specified for the <code class="codeph">CON_ID</code> in the <code class="codeph">WHERE</code> clause must be for containers that are part of the CDB, including PDBs, application roots, and application PDBs.
                     </p>
                     <p>You can also specify default target containers for DML operations. If a DML statement does not specify values for the <code class="codeph">CON_ID</code> in the <code class="codeph">WHERE</code> clause, then the target containers of the DML operation are those specified in the database property <code class="codeph">CONTAINERS_DEFAULT_TARGET</code> in the CDB root. When issued in a CDB root, the following DML statement modifies the default target containers for the CDB:
                     </p><pre class="pre codeblock"><code>UPDATE CONTAINERS(sales.customers) ctab 
   SET ctab.city_name='MIAMI' 
   WHERE CUSTOMER_ID=3425;</code></pre><p>A target container can be specified in an <code class="codeph">INSERT VALUES</code> statement by specifying a value for <code class="codeph">CON_ID</code> in the <code class="codeph">VALUES</code> clause. Also, a target container can be specified in an <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> statement by specifying a <code class="codeph">CON_ID</code> predicate in the <code class="codeph">WHERE</code> clause.
                     </p>
                     <div class="p">By default, the default target containers in a CDB include all of its PDBs, application roots, application seeds, and application PDBs, but not its CDB root or CDB seed. You can determine the default target containers for a CDB by running the following query:<pre class="pre codeblock"><code>SELECT PROPERTY_VALUE FROM DATABASE_PROPERTIES WHERE PROPERTY_NAME='CONTAINERS_DEFAULT_TARGET';</code></pre></div>
                     <p>The following restrictions apply to the <code class="codeph">CONTAINERS</code> clause:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">INSERT</code> as <code class="codeph">SELECT</code> statements where the target of the <code class="codeph">INSERT</code> is in <code class="codeph">CONTAINERS()</code> is not supported.
                           </p>
                        </li>
                        <li>
                           <p>A multi-table <code class="codeph">INSERT</code> statement where the target of the <code class="codeph">INSERT</code> is in <code class="codeph">CONTAINERS()</code> is not supported.
                           </p>
                        </li>
                        <li>
                           <p>DML statements using the <code class="codeph">CONTAINERS</code> clause require that the database listener is configured using TCP (instead of IPC) and that the <code class="codeph">PORT</code> and <code class="codeph">HOST</code> values are specified for each target PDB using the <code class="codeph">PORT</code> and <code class="codeph">HOST</code> clauses, respectively.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4" name="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4"></a><h4 id="ADMIN-GUID-D336011C-83B2-4101-B5AB-C4D890147BF4" class="sect4"><span class="enumeration_section">41.6.2 </span>Specifying the Default Container for DML Statements in a CDB
                  </h4>
                  <div>
                     <p>To specify the default container for DML statements in a CDB, issue the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">CONTAINERS DEFAULT TARGET</code> clause.
                     </p>
                     <div class="section">
                        <p>When a DML statement is issued in a CDB root without specifying containers in the <code class="codeph">WHERE</code> clause, the DML statement affects the default container for the CDB. The default container can be any container in the CDB, including the CDB root, a PDB, an application root, or an application PDB. Only one default container is allowed.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the CDB root.</span><div>The current user must have the commonly granted <code class="codeph">ALTER DATABASE</code> privilege.
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">CONTAINERS DEFAULT TARGET</code> clause.</span></li>
                     </ol>
                     <div class="example" id="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4__GUID-FA6E81E6-7C37-444F-A3DD-DDCBA5AF9171">
                        <p class="titleinexample">Example 41-32 Specifying the Default Container for DML Statements in a CDB</p>
                        <p>This example specifies that <code class="codeph">PDB1</code> is the default container for DML statements in the CDB.
                        </p><pre class="pre codeblock"><code>ALTER DATABASE CONTAINERS DEFAULT TARGET = (PDB1);</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4__GUID-C0C89595-4130-4D22-A427-6167D76AAE42">
                        <p class="titleinexample">Example 41-33 Clearing the Default Container</p>
                        <p>This example clears the default container setting. When it is not set, the default container is the CDB root.</p><pre class="pre codeblock"><code>ALTER DATABASE CONTAINERS DEFAULT TARGET = NONE;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADMIN13707"></a><div class="props_rev_3"><a id="GUID-6B579864-6273-408A-A7C5-859B42098FFA" name="GUID-6B579864-6273-408A-A7C5-859B42098FFA"></a><h3 id="ADMIN-GUID-6B579864-6273-408A-A7C5-859B42098FFA" class="sect3"><span class="enumeration_section">41.7 </span>Executing DDL Statements in a CDB
               </h3>
               <p>In a CDB, you can execute a  data definition language (DDL) statement in the current container or in all containers.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E">About Executing DDL Statements in a CDB</a><br>In a CDB, some DDL statements can apply to all containers or to the current container only.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8">Executing a DDL Statement in the Current Container</a><br>Specify <code class="codeph">CURRENT</code> in the <code class="codeph">CONTAINER</code> clause of a DDL statement to execute the statement in the current container.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-DEE93E37-7268-40A9-A986-987AE6D270B4">Executing a DDL Statement in All Containers in a CDB</a><br>Specify <code class="codeph">ALL</code> in the <code class="codeph">CONTAINER</code> clause of a DDL statement to execute the statement in all of the containers in a CDB.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN13709"></a><a id="ADMIN13708"></a><div class="props_rev_3"><a id="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E" name="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E"></a><h4 id="ADMIN-GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E" class="sect4"><span class="enumeration_section">41.7.1 </span>About Executing DDL Statements in a CDB
                  </h4>
                  <div>
                     <p>In a CDB, some DDL statements can apply to all containers or to the current container only.</p>
                     <p> To specify which containers are affected, use the <code class="codeph">CONTAINER</code> clause:
                     </p><pre class="oac_no_warn" dir="ltr">CONTAINER = { CURRENT | ALL }
</pre><p>The following settings are possible:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CURRENT</code> means that the statement applies only to the current container.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL</code> means that the statement applies to all containers in the CDB, including the root and all of the PDBs.
                           </p>
                        </li>
                     </ul>
                     <p>The following restrictions apply to the <code class="codeph">CONTAINER</code> clause in DDL statements:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The restrictions described in <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>You can use the <code class="codeph">CONTAINER</code> clause only with the DDL statements listed in <a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD" title="This table describes the behavior of each DDL statement when CONTAINER is set to CURRENT and when CONTAINER is set to ALL.">Table 41-8</a>.
                           </p>
                        </li>
                     </ul>
                     <div class="tblformalwide" id="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD">
                        <p class="titleintable">Table 41-8 DDL Statements and the CONTAINER Clause in a CDB</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="DDL Statements and the CONTAINER Clause in a CDB" summary="This table describes the behavior of each DDL statement when CONTAINER is set to CURRENT and when CONTAINER is set to ALL." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d324875e7530">DDL Statement</th>
                                 <th align="left" valign="bottom" width="40%" id="d324875e7533">CONTAINER = CURRENT</th>
                                 <th align="left" valign="bottom" width="40%" id="d324875e7536">CONTAINER = ALL</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d324875e7541" headers="d324875e7530 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">USER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7541 d324875e7533 ">
                                    <p>Creates a local user in the current PDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7541 d324875e7536 ">
                                    <p>Creates a common user.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d324875e7555" headers="d324875e7530 ">
                                    <p><code class="codeph">ALTER</code> <code class="codeph">USER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7555 d324875e7533 ">
                                    <p>Alters a local user in the current PDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7555 d324875e7536 ">
                                    <p>Alters a common user.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d324875e7569" headers="d324875e7530 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">ROLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7569 d324875e7533 ">
                                    <p>Creates a local role in the current PDB.</p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7569 d324875e7536 ">
                                    <p>Creates a common role.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d324875e7583" headers="d324875e7530 ">
                                    <p><code class="codeph">GRANT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7583 d324875e7533 ">
                                    <p>Grants a privilege in the local container to a local user, common user, or local role.</p>
                                    <p>The <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> privilege can be granted to a user-created common user in the current PDB.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7583 d324875e7536 ">
                                    <p>Grants a system privilege or object privilege on a common object to a common user or common role. The specified privilege is granted to the user or role across the entire CDB.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d324875e7602" headers="d324875e7530 ">
                                    <p><code class="codeph">REVOKE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7602 d324875e7533 ">
                                    <p>Revokes a privilege in the local container from a local user, common user, or local role.</p>
                                    <p>This statement can revoke only a privilege granted with <code class="codeph">CURRENT</code> specified in the <code class="codeph">CONTAINER</code> clause from the specified user or role in the local container. The statement does not affect privileges granted with <code class="codeph">ALL</code> specified in the <code class="codeph">CONTAINER</code> clause.
                                    </p>
                                    <p>The <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> privilege can be revoked from a user-created common user in the current PDB.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d324875e7602 d324875e7536 ">
                                    <p>Revokes a system privilege or object privilege on a common object from a common user or common role. The specified privilege is revoked from the user or role across the entire CDB.</p>
                                    <p>This statement can revoke only a privilege granted with <code class="codeph">ALL</code> specified in the <code class="codeph">CONTAINER</code> clause from the specified common user or common role. The statement does not affect privileges granted with <code class="codeph">CURRENT</code> specified in the <code class="codeph">CONTAINER</code> clause. However, any privileges granted locally that depend on the privilege granted commonly that is being revoked are also revoked.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>All other DDL statements apply to the current container only.</p>
                     <p>In addition to the usual rules for user, role, and profile names, the following rules and best practices apply when you create a user, role, or profile in a CDB:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It is best practice for common user, role, and profile names to start with a prefix to avoid naming conflicts between common users, roles, and profiles and local users, roles, and profiles. You specify this prefix with the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter in the CDB root. By default, the prefix is <code class="codeph">C##</code> or <code class="codeph">c##</code> in the CDB root.
                           </p>
                        </li>
                        <li>
                           <p>In an application container, it is best practice for application common user, role, and profile names to start with a prefix to avoid naming conflicts between application common users, roles, and profiles and local users, roles, and profiles. You specify this prefix with the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter in the application root.  By default, the prefix is <code class="codeph">NULL</code> in an application root.
                           </p>
                        </li>
                        <li>
                           <p>When the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter is set in an application root, the setting applies to the application common user, role, and profile names in the application container. The prefix can be different in the CDB root and in an application root, and the prefix can be different in different application containers.
                           </p>
                        </li>
                        <li>
                           <p>Common user, role, and profile names must consist only of ASCII characters. This restriction does not apply to application common user, role, and profile names.</p>
                        </li>
                        <li>
                           <p>Local user, role, and profile names cannot start with the prefix specified for common users with the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter.
                           </p>
                        </li>
                        <li>
                           <p>Local user, role, and profile names cannot start with <code class="codeph">C##</code> or <code class="codeph">c##</code>.
                           </p>
                        </li>
                        <li>
                           <p>Regardless of the value of <code class="codeph">COMMON_USER_PREFIX</code> in the CDB root, application common user, role, and profile names cannot start with <code class="codeph">C##</code> or <code class="codeph">c##</code>.
                           </p>
                        </li>
                        <li>
                           <p>Application common user, role, and profile names cannot start with the prefix specified for common users with the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__GUID-B56B4A2A-2FCC-4089-B2CA-630AE383914F">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30041"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/sql.html#CNCPT1732"><span class="italic">Oracle Database Concepts</span></a></p>
                           </li>
                           <li>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG589"><span class="italic">Oracle Database Security Guide</span></a> for more information about managing users in a CDB
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/COMMON_USER_PREFIX.html#REFRN10354"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="The ALTER SYSTEM SET statement can dynamically set an initialization parameter in one or more containers in a CDB.">Using the ALTER SYSTEM SET Statement in a CDB</a>"</span> for information about using the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> system control statement in a CDB
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN13712"></a><a id="ADMIN13710"></a><div class="props_rev_3"><a id="GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8" name="GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8"></a><h4 id="ADMIN-GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8" class="sect4"><span class="enumeration_section">41.7.2 </span>Executing a DDL Statement in the Current Container
                  </h4>
                  <div>
                     <p>Specify <code class="codeph">CURRENT</code> in the <code class="codeph">CONTAINER</code> clause of a DDL statement to execute the statement in the current container.
                     </p>
                     <div class="section">
                        <p> The supported DDL statements are listed in <a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD" title="This table describes the behavior of each DDL statement when CONTAINER is set to CURRENT and when CONTAINER is set to ALL.">Table 41-8</a>.
                        </p>
                        <p>The current user must be granted the required privileges to execute the DDL statement in the current container. For example, to create a user, the current user must be granted the <code class="codeph">CREATE</code> <code class="codeph">USER</code> system privilege in the current container.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To execute a DDL statement in the current container:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, access a container.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Execute the DDL statement with <code class="codeph">CONTAINER</code> set to <code class="codeph">CURRENT</code>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A local user's user name cannot start with the prefix specified by the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter. By default, in the CDB root, the prefix is <code class="codeph">C##</code> or <code class="codeph">c##</code>. An application root can specify its own prefix for an application container. In addition, a common user's name must consist only of ASCII characters. The specified tablespace must exist in the PDB.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8__GUID-61EE32C7-9742-4C65-B934-B0A0332B669F">
                        <p class="titleinexample">Example 41-34 Creating Local User in a PDB</p>
                        <p>This example creates the local user <code class="codeph">testpdb</code> in the current PDB.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE USER testpdb IDENTIFIED BY <span class="italic">password</span> 
   DEFAULT TABLESPACE pdb1_tbs
   QUOTA UNLIMITED ON pdb1_tbs
   CONTAINER = CURRENT;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADMIN13715"></a><a id="ADMIN13713"></a><div class="props_rev_3"><a id="GUID-DEE93E37-7268-40A9-A986-987AE6D270B4" name="GUID-DEE93E37-7268-40A9-A986-987AE6D270B4"></a><h4 id="ADMIN-GUID-DEE93E37-7268-40A9-A986-987AE6D270B4" class="sect4"><span class="enumeration_section">41.7.3 </span>Executing a DDL Statement in All Containers in a CDB
                  </h4>
                  <div>
                     <p>Specify <code class="codeph">ALL</code> in the <code class="codeph">CONTAINER</code> clause of a DDL statement to execute the statement in all of the containers in a CDB.
                     </p>
                     <div class="section">
                        <p> The supported DDL statements are listed in <a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD" title="This table describes the behavior of each DDL statement when CONTAINER is set to CURRENT and when CONTAINER is set to ALL.">Table 41-8</a>.
                        </p>
                        <p>The following prerequisites must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The current user must be a common user.</p>
                           </li>
                           <li>
                              <p>The current user must be granted the required privileges commonly to execute the DDL statement. For example, to create a user, the current user must be granted the <code class="codeph">CREATE</code> <code class="codeph">USER</code> system privilege commonly.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To execute a DDL statement in all containers in a CDB:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, ensure that the current container is the root.</p>
                              <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Execute the DDL statement with <code class="codeph">CONTAINER</code> set to <code class="codeph">ALL</code>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A common user's user name must start with the prefix specified by the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter. By default, in the CDB root, the prefix is <code class="codeph">C##</code> or <code class="codeph">c##</code>. An application root can specify its own prefix for an application container. In addition, a common user's name must consist only of ASCII characters. The specified tablespace must exist in the root and in all PDBs.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DEE93E37-7268-40A9-A986-987AE6D270B4__GUID-3AB1F449-E197-4814-BBBD-12006D19A873">
                        <p class="titleinexample">Example 41-35 Creating Common User in a CDB</p>
                        <p>This example creates the common user <code class="codeph">c##testcdb</code>.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE USER c##testcdb IDENTIFIED BY <span class="italic">password</span> 
   DEFAULT TABLESPACE cdb_tbs
   QUOTA UNLIMITED ON cdb_tbs
   CONTAINER = ALL;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" name="GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51"></a><h3 id="ADMIN-GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" class="sect3"><span class="enumeration_section">41.8 </span>Managing the CDB Undo Mode
               </h3>
               <div>
                  <p>When local undo is enabled, each container has its own undo tablespace for every instance in which it is open. When local undo is disabled, there is one undo tablespace for the entire CDB.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8">About the CDB Undo Mode</a><br>You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5">Configuring a CDB to Use Local Undo Mode</a><br>When a CDB is in shared undo mode, you can change it to use local undo mode by issuing an <code class="codeph">ALTER DATABASE LOCAL UNDO ON</code> statement and restarting the database.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D54AAD88-03DA-4E22-991F-8C15306823A5">Configuring a CDB to Use Shared Undo Mode</a><br>When a CDB is in local undo mode, you can change it to use shared undo mode by issuing an <code class="codeph">ALTER DATABASE LOCAL UNDO OFF</code> statement and restarting the database. 
                     </li>
                  </ul>
               </div>
               
               <div class="sect3"><a id="GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" name="GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8"></a><h4 id="ADMIN-GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" class="sect4"><span class="enumeration_section">41.8.1 </span>About the CDB Undo Mode
                  </h4>
                  <div>
                     <p>You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.</p>
                     <p>A CDB can run in local undo mode or shared undo mode. You can specify the undo mode of a CDB during CDB creation in the  <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause of the <code class="codeph">CREATE DATABASE</code> statement. You can change the undo mode of a CDB after it is created by issuing an <code class="codeph">ALTER DATABASE</code> statement and restarting the CDB. The undo mode applies to the entire CDB. Therefore, every container either uses shared undo or local undo.
                     </p>
                     <div class="p">To determine the current CDB undo mode, run the following query in the CDB root:<pre class="pre codeblock"><code>SELECT PROPERTY_NAME, PROPERTY_VALUE 
   FROM   DATABASE_PROPERTIES 
   WHERE  PROPERTY_NAME = 'LOCAL_UNDO_ENABLED';</code></pre></div>
                     <p>If the query returns <code class="codeph">TRUE</code> for the <code class="codeph">PROPERTY_VALUE</code>, then the CDB is in local undo mode. Otherwise, the CDB is in shared undo mode.
                     </p>
                     <div class="section">
                        <p class="subhead3">Local Undo Mode</p>
                        <p>Local undo mode means that each container has its own undo tablespace for every instance in which it is open. In this mode, Oracle Database automatically creates an undo tablespace for every container in the CDB. For an Oracle RAC CDB, there is one active undo tablespace for each instance for each PDB in local undo mode.</p>
                        <p>Local undo mode provides increased isolation for each container and improves the efficiency of some operations, such as unplugging the container or performing point-in-time recovery on the container. In addition, local undo mode is required for some operations to be supported, such as relocating a PDB or cloning a PDB that is in open read/write mode.</p>
                        <p>When a CDB is in local undo mode, the following applies:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Any user who has the appropriate privileges for the current container can create an undo tablespace for the container.</p>
                              <p>See <a href="../sqlrf/CREATE-TABLESPACE.html#SQLRF01403"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the required privileges.
                              </p>
                           </li>
                           <li>
                              <p>Undo tablespaces are visible in static data dictionary views and dynamic performance (V$) views in every container in the CDB.</p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Shared Undo Mode</p>
                        <p>Shared undo mode means that there is one active undo tablespace for a single-instance CDB. For an Oracle RAC CDB, there is one active undo tablespace for each instance.</p>
                        <p>When a CDB is in shared undo mode, the following applies:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Only a common user who has the appropriate privileges and whose current container is the CDB root can create an undo tablespace.</p>
                           </li>
                           <li>
                              <p>When the current container is not the CDB root, an attempt to create an undo tablespace fails and returns an error.</p>
                           </li>
                           <li>
                              <p>Undo tablespaces are visible in static data dictionary views and dynamic performance (V$) views when the current container is the CDB root. Undo tablespaces are visible only in dynamic performance views when the current container is a PDB, an application root, or an application PDB.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8__GUID-E49F0A14-B321-448E-87B7-5AE7C628D2DE">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When you change the undo mode of a CDB, the new undo mode applies to an individual container the first time the container is opened after the change.</p>
                              </li>
                              <li>
                                 <p>When you change the undo mode of a CDB, containers in the CDB cannot flash back to a time or SCN that is prior to the change.</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="administering-a-cdb-with-sql-plus.html#GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04" title="You can use the FLASHBACK PLUGGABLE DATABASE statement to return a PDB to a past time or system change number (SCN).">About Flashing Back a PDB</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5" name="GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5"></a><h4 id="ADMIN-GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5" class="sect4"><span class="enumeration_section">41.8.2 </span>Configuring a CDB to Use Local Undo Mode
                  </h4>
                  <div>
                     <p>When a CDB is in shared undo mode, you can change it to use local undo mode by issuing an <code class="codeph">ALTER DATABASE LOCAL UNDO ON</code> statement and restarting the database.
                     </p>
                     <div class="section">
                        <p>When a CDB is in local undo mode, each container has its own undo tablespace for every instance in which it is open. Oracle Database automatically creates an undo tablespace in any container in the CDB that does not have one. If a PDB without an undo tablespace is cloned, relocated, or plugged into a CDB that is configured to use local undo mode, then Oracle Database automatically creates an undo tablespace for the PDB the first time it is opened.</p>
                        <p>When a CDB is changed from shared undo mode to local undo mode, Oracle Database creates the required undo tablespaces automatically.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="p"></div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Shut down the CDB instance if it is open.</span></li>
                        <li class="stepexpand"><span>Start up the CDB instance in <code class="codeph">OPEN UPGRADE</code> mode. For example:</span><div><code class="codeph">STARTUP UPGRADE</code></div>
                        </li>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the CDB root. For example, enter the following:</span><div><pre class="pre codeblock"><code>SHOW CON_NAME

CON_NAME
------------------------------
CDB$ROOT
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Issue the following SQL statement:</span><div><code class="codeph">ALTER DATABASE LOCAL UNDO ON;</code></div>
                        </li>
                        <li class="stepexpand"><span>Shut down and restart the CDB instance.</span></li>
                        <li class="stepexpand"><strong>Optional: </strong><span>Manually create an undo tablespace in the CDB seed.</span><div>While Oracle Database creates an undo tablespace in the CDB seed automatically in local undo mode, you might want to control the size and configuration of the undo tablespace by creating an undo tablespace manually. To ensure the PDBs created from the CDB seed use the manually-created undo tablespace and not the automatically-created undo tablespace, you must set the <code class="codeph">UNDO_TABLESPACE</code> initialization parameter to the manually-created undo tablespace, or drop the automatically-created undo tablespace.
                           </div>
                           <ol type="a">
                              <li class="substepexpand"><span>In SQL*Plus, ensure that the current container is the root.</span></li>
                              <li class="substepexpand"><span>Place the CDB seed in open read/write mode:</span><div><code class="codeph">ALTER PLUGGABLE DATABASE PDB$SEED OPEN READ WRITE FORCE;</code></div>
                              </li>
                              <li class="substepexpand"><span>Switch container to the CDB seed:</span><div><code class="codeph">ALTER SESSION SET CONTAINER=PDB$SEED;</code></div>
                              </li>
                              <li class="substepexpand"><span>Create an undo tablespace in the CDB seed. For example:</span><div><pre class="pre codeblock"><code>CREATE UNDO TABLESPACE seedundots1
   DATAFILE 'seedundotbs_1a.dbf'
   SIZE 10M AUTOEXTEND ON
   RETENTION GUARANTEE;</code></pre></div>
                              </li>
                              <li class="substepexpand"><span>Switch container to the root:</span><div><code class="codeph">ALTER SESSION SET CONTAINER=CDB$ROOT;</code></div>
                              </li>
                              <li class="substepexpand"><span>Place the CDB seed in open read-only mode:</span><div><code class="codeph">ALTER PLUGGABLE DATABASE PDB$SEED OPEN READ ONLY FORCE;</code></div>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D54AAD88-03DA-4E22-991F-8C15306823A5" name="GUID-D54AAD88-03DA-4E22-991F-8C15306823A5"></a><h4 id="ADMIN-GUID-D54AAD88-03DA-4E22-991F-8C15306823A5" class="sect4"><span class="enumeration_section">41.8.3 </span>Configuring a CDB to Use Shared Undo Mode
                  </h4>
                  <div>
                     <p>When a CDB is in local undo mode, you can change it to use shared undo mode by issuing an <code class="codeph">ALTER DATABASE LOCAL UNDO OFF</code> statement and restarting the database. 
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Shut down the CDB instance if it is open. </span></li>
                        <li class="stepexpand"><span>Start up the CDB instance in <code class="codeph">OPEN UPGRADE</code> mode. For example:</span><div><code class="codeph">STARTUP UPGRADE</code></div>
                        </li>
                        <li class="stepexpand"><span>In SQL*Plus, ensure that the current container is the CDB root. For example, enter the following:</span><div><pre class="pre codeblock"><code>SHOW CON_NAME

CON_NAME
------------------------------
CDB$ROOT
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Issue the following SQL statement:</span><div><code class="codeph">ALTER DATABASE LOCAL UNDO OFF;</code></div>
                        </li>
                        <li class="stepexpand"><span>Shut down and restart the CDB instance.</span></li>
                     </ol>
                     <div class="section">When it is in shared undo mode, the CDB ignores any local undo tablespaces that were created when it was in local undo mode. Oracle recommends that you delete these local undo tablespaces.</div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADMIN14072"></a><div class="props_rev_3"><a id="GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" name="GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4"></a><h3 id="ADMIN-GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" class="sect3"><span class="enumeration_section">41.9 </span>Running Oracle-Supplied SQL Scripts in a CDB
               </h3>
               <p>You can use the catcon.pl script to run Oracle-supplied SQL scripts in a CDB.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-86F231EC-0230-4426-A934-6697E0222195">About Running Oracle-Supplied SQL Scripts in a CDB</a><br>In a CDB, the catcon.pl script is the best way to run SQL scripts and SQL statements.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-98F9A223-DE19-498B-8082-3A814F147D1F">Syntax and Parameters for catcon.pl</a><br>The catcon.pl script is a Perl script that must be run at an operating system prompt.
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB">Running the catcon.pl Script</a><br>Examples illustrate running the catcon.pl script.
                     </li>
                  </ul>
               </div>
               <a id="ADMIN14073"></a><div class="props_rev_3"><a id="GUID-86F231EC-0230-4426-A934-6697E0222195" name="GUID-86F231EC-0230-4426-A934-6697E0222195"></a><h4 id="ADMIN-GUID-86F231EC-0230-4426-A934-6697E0222195" class="sect4"><span class="enumeration_section">41.9.1 </span>About Running Oracle-Supplied SQL Scripts in a CDB
                  </h4>
                  <div>
                     <p>In a CDB, the catcon.pl script is the best way to run SQL scripts and SQL statements.</p>
                     <p>An Oracle Database installation includes several SQL scripts. These scripts perform operations such as creating data dictionary views and installing options.</p>
                     <p>The catcon.pl script can run scripts in the root and in specified PDBs in the correct order, and it generates log files that you can view to confirm that the SQL script or SQL statement did not generate unexpected errors. It also starts multiple processes and assigns new scripts to them as they finish running scripts previously assigned to them.</p>
                     <div class="infoboxnote" id="GUID-86F231EC-0230-4426-A934-6697E0222195__GUID-AB47C8F9-BFDD-4732-9919-CCFD08919330">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Unless you exclude the CDB seed when you run catcon.pl, the SQL script or SQL statement is run on the CDB seed.</p>
                           </li>
                           <li>
                              <p>You can use the catcon.pl script to run scripts on both CDBs and non-CDBs.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMIN14075"></a><a id="ADMIN14074"></a><div class="props_rev_3"><a id="GUID-98F9A223-DE19-498B-8082-3A814F147D1F" name="GUID-98F9A223-DE19-498B-8082-3A814F147D1F"></a><h4 id="ADMIN-GUID-98F9A223-DE19-498B-8082-3A814F147D1F" class="sect4"><span class="enumeration_section">41.9.2 </span>Syntax and Parameters for catcon.pl
                  </h4>
                  <div>
                     <p>The catcon.pl script is a Perl script that must be run at an operating system prompt.</p>
                     <div class="section">
                        <p>The catcon.pl script has the following syntax and parameters:</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl  
[--usr <span class="italic">username</span>[/<span class="italic">password</span>]] [--int_usr <span class="italic">username</span>[/<span class="italic">password</span>]] [--script_dir <span class="italic">directory</span>] 
[--log_dir <span class="italic">directory</span>] [{--incl_con|--excl_con} <span class="italic">container</span>] [--echo] [--spool] 
[--error_logging { ON | errorlogging-table-other-than-SPERRORLOG } ] [--app_con <span class="italic">application_root</span>] 
[--no_set_errlog_ident] [--diag] [-ignore_unavailable_pdbs] [--verbose] [--force_pdb_mode <span class="italic">pdb_mode</span>] 
[--recover] --log_file_base <span class="italic">log_file_name_base</span> 
-- { <span class="italic">SQL_script</span> [<span class="italic">arguments</span>] | --x'<span class="italic">SQL_statement</span>' }</pre><pre class="oac_no_warn" dir="ltr"></pre><p>Ensure that <code class="codeph">--x</code><span class="italic">SQL_statement</span> is preceded by <code class="codeph">--</code> if it follows any single-letter parameter. If  <code class="codeph">--x</code><span class="italic">SQL_statement</span> is preceded by a script name or another <code class="codeph">--x</code><span class="italic">SQL_statement</span>, then do not precede it with <code class="codeph">--</code>. Also, note that the SQL statement must be inside single quotation marks.
                        </p>
                        <p>Command line parameters to SQL scripts can be introduced using <code class="codeph">--p</code>. Interactive (or secret) parameters to SQL scripts can be introduced using <code class="codeph">--P</code>.
                        </p>
                        <p>To view the help for the catcon.pl script, run the following command:</p><code class="codeph">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl --help</code><p><a href="administering-a-cdb-with-sql-plus.html#GUID-98F9A223-DE19-498B-8082-3A814F147D1F__BAJJBBGB" title="This table lists each catcon.pl parameter and provides a description for each parameter.">Table 41-9</a> describes the catcon.pl parameters. A parameter is optional unless it is indicated that it is required.
                        </p>
                        <p>The short parameter names in the following table are for backward compatibility. Some parameters do not have short names.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-98F9A223-DE19-498B-8082-3A814F147D1F__BAJJBBGB">
                        <p class="titleintable">Table 41-9 catcon.pl Parameters</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="catcon.pl Parameters" summary="This table lists each catcon.pl parameter and provides a description for each parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d324875e8575">Parameter</th>
                                 <th align="left" valign="bottom" width="65%" id="d324875e8578">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8583" headers="d324875e8575 ">
                                    <p><code class="codeph">--usr</code></p>
                                    <p>Short name: <code class="codeph">-u</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8583 d324875e8578 ">
                                    <p>Specifies the username and password to connect to the root and the specified PDBs. Specify a common user with the required privileges to run the SQL script or the SQL statement. The default is "<code class="codeph">/ AS SYSDBA</code>". If no password is supplied, then catcon.pl prompts for a password.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8598" headers="d324875e8575 ">
                                    <p><code class="codeph">--int_usr</code></p>
                                    <p>Short name: <code class="codeph">-U</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8598 d324875e8578 ">
                                    <p>Specifies the username and password to connect to the root and the specified PDBs. Specify a common user with the required privileges to perform internal tasks, such as running queries on the CDB's metadata. The default is "<code class="codeph">/ AS SYSDBA</code>". If no password is supplied, then catcon.pl prompts for a password.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8613" headers="d324875e8575 ">
                                    <p><code class="codeph">--script_dir</code></p>
                                    <p>Short name: <code class="codeph">-d</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8613 d324875e8578 ">
                                    <p>Directory that contains the SQL script. The default is the current directory.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8625" headers="d324875e8575 ">
                                    <p><code class="codeph">--log_dir</code></p>
                                    <p>Short name: <code class="codeph">-l</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8625 d324875e8578 ">
                                    <p>Directory into which catcon.pl writes log files. The default is the current directory.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8637" headers="d324875e8575 ">
                                    <p><code class="codeph">{--incl_con|--excl_con}</code></p>
                                    <p>Short names: <code class="codeph">{-c|-C}</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8637 d324875e8578 ">
                                    <p>The containers in which the SQL script is run or is not run.</p>
                                    <p>The <code class="codeph">--incl_con</code> parameter lists the containers in which the SQL script is run.
                                    </p>
                                    <p>The <code class="codeph">--excl_con</code> parameter lists the containers in which the SQL script is not run.
                                    </p>
                                    <p>Specify containers in a space-delimited list of PDB names enclosed in single quotation marks.</p>
                                    <p>The <code class="codeph">--incl_con</code> and <code class="codeph">--excl_con</code> parameters are mutually exclusive.
                                    </p>
                                    <p>When this parameter is used, the <code class="codeph">--app_con</code> parameter cannot be used.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8674" headers="d324875e8575 ">
                                    <p><code class="codeph">--echo</code></p>
                                    <p>Short name: <code class="codeph">-e</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8674 d324875e8578 ">
                                    <p>Sets echo <code class="codeph">ON</code> while running the script. The default is echo <code class="codeph">OFF</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8692" headers="d324875e8575 ">
                                    <p><code class="codeph">--spool</code></p>
                                    <p>Short name: <code class="codeph">-s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8692 d324875e8578 ">
                                    <p>Spools the output of every script into a file with the following name:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">log-file-name-base_script-name-without-extension_</span>[<span class="italic">container-name-if-any</span>].<span class="italic">default-extension</span></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8713" headers="d324875e8575 ">
                                    <p><code class="codeph">--error_logging</code></p>
                                    <p>Short name: <code class="codeph">-E</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8713 d324875e8578 ">
                                    <p>When set to <code class="codeph">ON</code>, the default error logging table is used. <code class="codeph">ON</code> is the default setting. When set to <code class="codeph">ON</code>, errors are written to the table <code class="codeph">SPERRORLOG</code> in the current schema in each container in which the SQL script runs. If this table does not exist in a container, then it is created automatically.
                                    </p>
                                    <p>When a table other than <code class="codeph">SPERRORLOG</code> is specified, errors are written to the specified table. The table must exist in each container in which the SQL script runs, and the current user must have the necessary privileges to perform DML operations on the table in each of these containers.
                                    </p>
                                    <p>See <a href="../sqpug/SET-system-variable-summary.html#SQPUG160"><span class="italic">SQL*Plus User's Guide and Reference</span></a> for more information about the error logging table.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8749" headers="d324875e8575 ">
                                    <p><code class="codeph">--app_con</code></p>
                                    <p>Short name: <code class="codeph">-F</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8749 d324875e8578 ">
                                    <p>Specify an application root. The scripts are run in the application root and in the application PDBs that are plugged into the application root.</p>
                                    <p>When this parameter is used, the <code class="codeph">--incl_con</code> and <code class="codeph">--excl_con</code> parameters cannot be used.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8769" headers="d324875e8575 ">
                                    <p><code class="codeph">--no_set_errlog_ident</code></p>
                                    <p>Short name: <code class="codeph">-I</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8769 d324875e8578 ">
                                    <p>Do not issue a <code class="codeph">SET ERRORLOGGING</code> identifier. This option is intended for cases in which the <code class="codeph">SET ERRORLOGGING</code> identifier is already set and should not be overwritten.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8787" headers="d324875e8575 ">
                                    <p><code class="codeph">--diag</code></p>
                                    <p>Short name: <code class="codeph">-g</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8787 d324875e8578 ">
                                    <p>Turns on the generation of debugging information.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8800" headers="d324875e8575 ">
                                    <p><code class="codeph">--verbose</code></p>
                                    <p>Short name: <code class="codeph">-v</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8800 d324875e8578 ">
                                    <p>Turns on verbose output.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8812" headers="d324875e8575 ">
                                    <p><code class="codeph">--ignore_unavailable_pdbs</code></p>
                                    <p>Short name: <code class="codeph">-f</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8812 d324875e8578 ">
                                    <p>Ignore PDBs that are closed or, if the <code class="codeph">--incl_con</code> or <code class="codeph">--excl_con</code> option is used, do not exist and process only open PDBs that were specified explicitly or implicitly.
                                    </p>
                                    <p>When this option is not specified and some specified PDBs do not exist or are not open, an error is returned and none of the containers are processed.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8832" headers="d324875e8575 ">
                                    <p><code class="codeph">--force_pdb_mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8832 d324875e8578 ">
                                    <p>The required open mode for all PDBs against which the scripts are run. Specify one of the following values:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">UNCHANGED</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">READ WRITE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">READ ONLY</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">UPGRADE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DOWNGRADE</code></p>
                                       </li>
                                    </ul>
                                    <p>When a value other than <code class="codeph">UNCHANGED</code> is specified, all of the PDBs against which the script is run are changed to the specified open mode. If a PDB is open in a different mode, then the PDB is closed and re-opened in the specified mode. After all of the scripts are run, each PDB is restored to its original open mode.
                                    </p>
                                    <p>When <code class="codeph">UNCHANGED</code>, the default, is specified, the open mode of the PDBs is not changed.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8871" headers="d324875e8575 ">
                                    <p><code class="codeph">--recover</code></p>
                                    <p>Short name: <code class="codeph">-R</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8871 d324875e8578 ">
                                    <p>Causes catcon.pl to attempt to recover if a SQL*Plus process that it spawned ends unexpectedly. When this parameter is not specified, catcon.pl does not attempt to recover the process and closes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d324875e8883" headers="d324875e8575 ">
                                    <p><code class="codeph">--log_file_base</code></p>
                                    <p>Short name: <code class="codeph">-b</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d324875e8883 d324875e8578 ">
                                    <p>(Required) The base name for log file names.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADMIN14077"></a><a id="ADMIN14078"></a><a id="ADMIN14079"></a><a id="ADMIN14080"></a><a id="ADMIN14187"></a><a id="ADMIN14292"></a><a id="ADMIN14076"></a><div class="props_rev_3"><a id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB" name="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB"></a><h4 id="ADMIN-GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB" class="sect4"><span class="enumeration_section">41.9.3 </span>Running the catcon.pl Script
                  </h4>
                  <div>
                     <p>Examples illustrate running the catcon.pl script.</p>
                     <div class="section">
                        <p>If a SQL script or SQL statement run by catcon.pl performs data manipulation language (DML) or data definition language (DDL) operations, then the containers being modified must be in read/write mode. See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To run the catcon.pl script:</p>
                        <ol>
                           <li>
                              <p>Open a command line prompt.</p>
                           </li>
                           <li>
                              <p>Run the catcon.pl script and specify one or more SQL scripts or SQL statements:</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl <span class="italic">parameters</span> <span class="italic">SQL_script</span>

$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl <span class="italic">parameters</span> -- --x<span class="italic">SQL_statement</span>
</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples That Run the catcon.pl Script</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples run the catcon.pl script.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJGFCJF">
                        <p class="titleinexample">Example 41-36 Running the catblock.sql Script in All Containers in a CDB</p>
                        <p>This example runs the catblock.sql script in all of the containers of a CDB.</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl --usr SYS 
--script_dir $ORACLE_HOME/rdbms/admin --log_file_base catblock_output catblock.sql
</pre><p>The following parameters are specified:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">--usr</code> parameter specifies that <code class="codeph">SYS</code> user runs the script in each container.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--script_dir</code> parameter specifies that the SQL script is in the $ORACLE_HOME/rdbms/admin directory.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--log_file_base</code> parameter specifies that the base name for log file names is catblock_output.
                              </p>
                           </li>
                        </ul>
                        <p>Default parameter values are used for all other parameters. Neither the <code class="codeph">--incl_con</code> nor the <code class="codeph">--excl_con</code> parameter is specified. Therefore, catcon.pl runs the script in all containers by default.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJBDEAD">
                        <p class="titleinexample">Example 41-37 Running the catblock.sql Script in Specific PDBs</p>
                        <p>This example runs the catblock.sql script in the <code class="codeph">hrpdb</code> and <code class="codeph">salespdb</code> PDBs in a CDB.
                        </p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl --usr SYS --int_usr SYS 
--script_dir $ORACLE_HOME/rdbms/admin --log_dir '/disk1/script_output' --incl_con 'HRPDB SALESPDB' 
--log_file_base catblock_output catblock.sql
</pre><p>The following parameters are specified:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">--usr</code> parameter specifies that <code class="codeph">SYS</code> user runs the script in each container.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--int_usr</code> parameter specifies that <code class="codeph">SYS</code> user performs internal tasks.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--script_dir</code> parameter specifies that the SQL script is in the $ORACLE_HOME/rdbms/admin directory.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--log_dir</code> parameter specifies that the output files are placed in the /disk1/script_output directory.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--incl_con</code> parameter specifies that the SQL script is run in the <code class="codeph">hrpdb</code> and <code class="codeph">salespdb</code> PDBs. The script is not run in any other containers in the CDB.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--log_file_base</code> parameter specifies that the base name for log file names is catblock_output.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJEHDJD">
                        <p class="titleinexample">Example 41-38 Running the catblock.sql Script in All Containers Except for Specific PDBs</p>
                        <p>This example runs the catblock.sql script in all of the containers in a CDB except for the <code class="codeph">hrpdb</code> and <code class="codeph">salespdb</code> PDBs.
                        </p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl --usr SYS 
--script_dir $ORACLE_HOME/rdbms/admin --log_dir '/disk1/script_output' --excl_con 'HRPDB SALESPDB' 
--log_file_base catblock_output catblock.sql
</pre><p>The following parameters are specified:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">--usr</code> parameter specifies that <code class="codeph">SYS</code> user runs the script in each container.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--script_dir</code> parameter specifies that the SQL script is in the $ORACLE_HOME/rdbms/admin directory.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--log_dir</code> parameter specifies that the output files are placed in the /disk1/script_output directory.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--excl_con</code> parameter specifies that the SQL script is run in all of the containers in the CDB except for the <code class="codeph">hrpdb</code> and <code class="codeph">salespdb</code> PDBs.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--log_file_base</code> parameter specifies that the base name for log file names is catblock_output.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJIFBEH">
                        <p class="titleinexample">Example 41-39 Running a SQL Script with Command Line Parameters</p>
                        <p>This example runs the custom_script.sql script in all of the containers of a CDB.</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl --usr SYS 
--script_dir /u01/scripts --log_file_base custom_script_output custom_script.sql
'--phr' '--PEnter password for user hr:'
</pre><p>The following parameters are specified:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">--usr</code> parameter specifies that <code class="codeph">SYS</code> user runs the script in each container.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--script_dir</code> parameter specifies that the SQL script is in the /u01/scripts directory.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--log_file_base</code> parameter specifies that the base name for log file names is custom_script_output.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--p</code> parameter specifies <code class="codeph">hr</code> for a command line parameter
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--P</code> parameter specifies an interactive parameter that prompts for the password of user <code class="codeph">hr</code>.
                              </p>
                           </li>
                        </ul>
                        <p>Default parameter values are used for all other parameters. Neither the <code class="codeph">-incl_con</code> nor the <code class="codeph">-excl_con</code> parameter is specified. Therefore, catcon.pl runs the script in all containers by default.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJHBJAE">
                        <p class="titleinexample">Example 41-40 Running a SQL Statement in All Containers in a CDB</p>
                        <p>This example runs a SQL statement in all of the containers of a CDB.</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl --usr SYS --echo 
--log_file_base select_output -- --x"SELECT * FROM DUAL"
</pre><p>The following parameters are specified:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">--usr</code> parameter specifies that <code class="codeph">SYS</code> user runs the script in each container.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--echo</code> parameter shows output for the SQL statement.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">--log_file_base</code> parameter specifies that the base name for log file names is select_output.
                              </p>
                           </li>
                           <li>
                              <p>The SQL statement <code class="codeph">SELECT * FROM DUAL</code> is inside quotation marks and is preceded by <code class="codeph">--x</code>. Because <code class="codeph">--x</code> is preceded by a parameter (<code class="codeph">--log_file_base</code>), it must be preceded by <code class="codeph">--</code>.
                              </p>
                           </li>
                        </ul>
                        <p>Default parameter values are used for all other parameters. Neither the <code class="codeph">-incl_con</code> nor the <code class="codeph">-excl_con</code> parameter is specified. Therefore, catcon.pl runs the SQL statement in all containers by default.
                        </p>
                        <div class="infoboxnotealso" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__GUID-4FB6294C-7A3A-4683-9578-12DB6F6C6258">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="monitoring-the-database.html#GUID-D6146406-ADA2-443A-A843-137FA427ABED" title="Locks are mechanisms that prevent destructive interaction between transactions accessing the same resource. The resources can be either user objects, such as tables and rows, or system objects not visible to users, such as shared data structures in memory and data dictionary rows.">Monitoring Locks</a>"</span> for information about the catblock.sql script
                           </p>
                           <p><a href="../refrn/sql-scripts.html#REFRN005"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about SQL scripts
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADMIN13661"></a><div class="props_rev_3"><a id="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732" name="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732"></a><h3 id="ADMIN-GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732" class="sect3"><span class="enumeration_section">41.10 </span>Shutting Down a CDB Instance
               </h3>
               <div>
                  <p>You can shut down a CDB instance in the same way that you shut down a non-CDB instance.</p>
                  <div class="section">
                     <p>The following prerequisites must be met:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The CDB instance must be mounted or open.</p>
                        </li>
                        <li>
                           <p>The current user must be a common user with <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, or <code class="codeph">SYSDG</code> administrative privilege. To shut down a CDB, you must exercise this privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>, <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code>, or <code class="codeph">AS</code> <code class="codeph">SYSDG</code>, respectively, at connect time.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">To shut down a CDB:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus, ensure that the current container is the root.</p>
                           <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" title="You can use the SQL*Plus CONNECT command to connect to the root or to a PDB.">Connecting to a Container Using the SQL*Plus CONNECT Command</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Shut down the CDB instance.</p>
                           <p><span class="q">"<a href="starting-up-and-shutting-down.html#GUID-3661B282-5C34-4E32-BC6A-906A72712866" title="You can shut down a database with SQL*Plus or Oracle Restart.">Shutting Down a Database</a>"</span></p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732__GUID-57BC4005-3AF4-4C90-9C92-52CEB20E2F1E">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the CDB root, an application root, a PDB, or an application PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>