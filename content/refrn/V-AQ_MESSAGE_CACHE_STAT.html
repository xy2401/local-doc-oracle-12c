<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us" class="reference">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="V$AQ_MESSAGE_CACHE_STAT displays statistics about memory management for sharded queues in the Streams pool within the System Global Area (SGA). Sharded queues use the Streams pool in units of subshards. Thus, columns of this view shows statistics at subshard level. This view shows statistics across all sharded queues.">
      <meta name="description" content="V$AQ_MESSAGE_CACHE_STAT displays statistics about memory management for sharded queues in the Streams pool within the System Global Area (SGA). Sharded queues use the Streams pool in units of subshards. Thus, columns of this view shows statistics at subshard level. This view shows statistics across all sharded queues.">
      <title>V$AQ_MESSAGE_CACHE_STAT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Reference">
      <meta property="og:description" content="V$AQ_MESSAGE_CACHE_STAT displays statistics about memory management for sharded queues in the Streams pool within the System Global Area (SGA). Sharded queues use the Streams pool in units of subshards. Thus, columns of this view shows statistics at subshard level. This view shows statistics across all sharded queues.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = reference)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-05-04T11:27:42-07:00">
      <meta name="dcterms.title" content="Database Reference">
      <meta name="dcterms.dateCopyrighted" content="2002, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85634-06">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      
      <link rel="prev" href="V-AQ_MESSAGE_CACHE_ADVICE.html" title="Previous" type="text/html">
      <link rel="next" href="V-AQ_NONDUR_REGISTRATIONS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN">
    <meta name="dcterms.release" content="Release 12.2">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="V-AQ_MESSAGE_CACHE_ADVICE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="V-AQ_NONDUR_REGISTRATIONS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-views.html" property="item" typeof="WebPage"><span property="name"> Dynamic Performance Views </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-v-views-1.html" property="item" typeof="WebPage"><span property="name"> Dynamic Performance (V$) Views: V$ACCESS to V$HVMASTER_INFO</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">V$AQ_MESSAGE_CACHE_STAT</li>
            </ol>
            <a id="GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E" name="GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E"></a>
            
            <h2 id="REFRN-GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E" class="sect2"><span class="enumeration_section">7.17 </span>V$AQ_MESSAGE_CACHE_STAT
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">V$AQ_MESSAGE_CACHE_STAT</code> displays statistics about memory management for sharded queues in the Streams pool within the System Global Area (SGA). Sharded queues use the Streams pool in units of subshards. Thus, columns of this view shows statistics at subshard level. This view shows statistics across all sharded queues.
               </p>
               <div class="section"></div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E__GUID-F521051B-92FA-4BDD-A594-1993E7269C0D">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title summary="This table describes the columns for this database view" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d1501183e169">Column </th>
                           <th align="left" valign="bottom" width="18%" id="d1501183e173">Datatype </th>
                           <th align="left" valign="bottom" width="58%" id="d1501183e177">Description </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e183" headers="d1501183e169 ">
                              <p><code class="codeph">NUM_EVICTED</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e183 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e183 d1501183e177 ">
                              <p>Number of evicted subshards across all sharded queues</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e198" headers="d1501183e169 ">
                              <p><code class="codeph">NUM_PREFETCHED</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e198 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e198 d1501183e177 ">
                              <p>Number of subshards pre-fetched by AQ background process</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e213" headers="d1501183e169 ">
                              <p><code class="codeph">NUM_UNEVICTION</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e213 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e213 d1501183e177 ">
                              <p>Number of subshards un-evicted by foreground process (like dequeue process)</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e228" headers="d1501183e169 ">
                              <p><code class="codeph">NUM_UNCACHED</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e228 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e228 d1501183e177 ">
                              <p>Number of subshards stored as uncached</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e243" headers="d1501183e169 ">
                              <p><code class="codeph">NUM_TRACKED</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e243 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e243 d1501183e177 ">
                              <p>Number of subshards which are actively tracking dequeue rates</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e258" headers="d1501183e169 ">
                              <p><code class="codeph">NUM_CACHED</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e258 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e258 d1501183e177 ">
                              <p>Number of subshards stored as cached</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e273" headers="d1501183e169 ">
                              <p><code class="codeph">MAX_SUBSH_SIZE</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e273 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e273 d1501183e177 ">
                              <p>Maximum subshard size seen till now, in terms of number of messages per subshard</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e288" headers="d1501183e169 ">
                              <p><code class="codeph">MIN_SUBSH_SIZE</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e288 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e288 d1501183e177 ">
                              <p>Minimum subshard size seen till now, in terms of number of messages per subshard</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e303" headers="d1501183e169 ">
                              <p><code class="codeph">MEAN_SUBSH_SIZE</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e303 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e303 d1501183e177 ">
                              <p>Mean subshard size seen till now, in terms of number of messages per subshard</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e318" headers="d1501183e169 ">
                              <p><code class="codeph">AVG_EVICTION_RATE</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e318 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e318 d1501183e177 ">
                              <p>Average number subshards evicted per second</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e333" headers="d1501183e169 ">
                              <p><code class="codeph">AVG_LOAD_RATE</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e333 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e333 d1501183e177 ">
                              <p>Average number of subshards pre-fetched or un-evicted per second</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e349" headers="d1501183e169 ">
                              <p><code class="codeph">AVG_EVICTION_TIME</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e349 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e349 d1501183e177 ">
                              <p>Average time taken to evict one subshard (in milliseconds)</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e364" headers="d1501183e169 ">
                              <p><code class="codeph">AVG_LOAD_TIME</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e364 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e364 d1501183e177 ">
                              <p>Average time taken to un-evict one subshard (in milliseconds)</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e379" headers="d1501183e169 ">
                              <p><code class="codeph">AVG_MISS_RATIO</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e379 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e379 d1501183e177 ">
                              <p>Average ratio of number of foreground un-evictions versus background pre-fetch</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e394" headers="d1501183e169 ">
                              <p><code class="codeph">AVG_THRASH_RATIO</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e394 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e394 d1501183e177 ">
                              <p>Average ratio of number of subshard pre-fetched by background without dequeue attempt versus total number of subshards prefetched</p> 
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e409" headers="d1501183e169 ">
                              <p><code class="codeph">MANDATORY_AFF_SWITCH_ATTEMPTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e409 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e409 d1501183e177 ">
                              <p>An affinity switch is a change in dequeue instance for a shard-subscriber pair. A mandatory affinity switch is when there are local enqueues in the queue at the instance but no local dequeues present, so the dequeue affinity is switched to another instance for that shard-subscriber pair. This column shows the number of times mandatory affinity switches were attempted across all instances. Populated at the smallest instance id only.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e421" headers="d1501183e169 ">
                              <p><code class="codeph">OPTIONAL_AFF_SWITCH_ATTEMPTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e421 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e421 d1501183e177 ">
                              <p>Optional affinity switches are affinity switches that are not mandatory. Optional affinity switches are done for global load balancing across the Oracle Real Application Clusters (Oracle RAC) database. This column shows the number of times optional affinity switches were attempted across all instances. Populated at the smallest instance id only.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1501183e433" headers="d1501183e169 ">
                              <p><code class="codeph">CON_ID</code></p> 
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1501183e433 d1501183e173 ">
                              <p><code class="codeph">NUMBER</code></p> 
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1501183e433 d1501183e177 ">
                              <p>The ID of the container to which the data pertains. Possible values include:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">0</code>: This value is used for rows containing data that pertain to the entire CDB. This value is also used for rows in non-CDBs.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code>: This value is used for rows containing data that pertain to only the root
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span>: Where <span class="italic">n</span> is the applicable container ID for the rows containing data
                                    </p>
                                 </li>
                              </ul> 
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnote" id="GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E__GUID-8AF943B5-4491-4A45-B87F-2E361117E692">
                     <p class="notep1">Note:</p>
                     <p>This view is available starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1).
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>