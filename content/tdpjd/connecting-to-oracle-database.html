<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Connecting to Oracle Database 12c Release 2 (12.2)</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="2 Day + Java Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="2 Day + Java Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="2-day-java-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-18T14:24:36-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85808-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="getting-started.html" title="Previous" type="text/html">
      <link rel="next" href="search-employee-id.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="2 Day + Java Developer's Guide">
    <meta name="dcterms.isVersionOf" content="TDPJD">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="search-employee-id.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2 Day + Java Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Connecting to Oracle Database 12c Release 2 (12.2) </li>
            </ol>
            <a id="GUID-8E1A7CB2-E618-49AF-9442-1A4CD7A50C28" name="GUID-8E1A7CB2-E618-49AF-9442-1A4CD7A50C28"></a><a id="TDPJD127"></a>
            
            <h2 id="TDPJD-GUID-8E1A7CB2-E618-49AF-9442-1A4CD7A50C28" class="sect2"><span class="enumeration_chapter">5 </span> Connecting to Oracle Database 12<span class="italic">c </span>Release 2 (12.2) 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter is the first in a series of five chapters, each of which describes how to create parts of a Java application that accesses Oracle Database 12<span class="italic">c </span>Release 2 (12.2) and displays, modifies, deletes, and updates data on it. To be able to access the database from a Java application, you must connect to the database using a <code class="codeph">java.sql.Connection</code> object. 
               </p>
            </div>
            <div class="sect2"><a id="GUID-A414E4AF-85FE-4FD2-B838-0DE9EF872686" name="GUID-A414E4AF-85FE-4FD2-B838-0DE9EF872686"></a><h3 id="TDPJD-GUID-A414E4AF-85FE-4FD2-B838-0DE9EF872686" class="sect3"><span class="enumeration_section">5.1 </span>Creating an Employee Java Bean
               </h3>
               <div>
                  <p>The <code class="codeph">Employee</code> Java bean creates getter and setter methods for columns to be displayed.
                  </p><pre class="pre codeblock"><code>
package com.oracle.jdbc.samples.entity;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Timestamp;

public class Employee {

private int Employee_Id;
private String First_Name;
private String Last_Name;
private String Email;
private String Phone_Number;
private String Job_Id;
private int Salary;

public Employee (ResultSet resultSet) throws SQL Exception{
this.Employee_Id = resultSet.getInt(1);
this.First_Name = resultSet.getString(2);
this.Last_Name = resultSet.getString(3);
this.Email = resultSet.getString(4);
this.Phone_Number = resultSet.getString(5);
his.Job_Id = resultSet.getString(6);
this.Salary = resultSet.getInt(7);
}


public int getEmployee_Id(){
return Employee_Id;
}

public void setEmployee_Id(int Employee_Id){
this.Employee_Id = Employee_Id;
}

public String getFirst_Name(){
return First_Name;
}

public void setFirst_Name(String First_Name){
this.First_Name = First_Name;
}

public String getLast_Name(){
return Last_Name;
}

public void setLast_Name(String Last_Name){
this.Last_Name = Last_Name;
}

public String getPhone_Number(){
return Phone_Number;
}

public String getJob_Id(){
return Job_Id;
}

public void setJob_Id(String Job_Id){
this.Job_Id = Job_Id;
}

public int getSalary(){
return Salary;
}

public void setSalary(int Salary){
this.Salary = Salary;
}

}</code></pre></div>
            </div>
            <div class="sect2"><a id="GUID-2B969BE9-2263-4336-B9A2-C7FD43B83A16" name="GUID-2B969BE9-2263-4336-B9A2-C7FD43B83A16"></a><h3 id="TDPJD-GUID-2B969BE9-2263-4336-B9A2-C7FD43B83A16" class="sect3"><span class="enumeration_section">5.2 </span>Creating a Java Bean Interface for a JDBC Connection
               </h3>
               <div><pre class="pre codeblock"><code>package com.oracle.jdbc.samples.bean;
import com.oracle.jdbc.samples.entity.Employee;

public interface JdbcBean {
public List &lt;name of employee&gt; getEmployees();
}</code></pre></div>
            </div>
            <div class="sect2"><a id="GUID-5B650525-860A-41A9-85E1-7A9DA47F5B39" name="GUID-5B650525-860A-41A9-85E1-7A9DA47F5B39"></a><h3 id="TDPJD-GUID-5B650525-860A-41A9-85E1-7A9DA47F5B39" class="sect3"><span class="enumeration_section">5.3 </span>Creating a Java Bean Implementation for a JDBC Connection
               </h3>
               <div>
                  <p>The following code helps to create Java Bean implementation for a JDBC Connection:</p>
                  <div class="section"><pre class="pre codeblock"><code>package com.oracle.jdbc.samples.bean;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import com.oracle.jdbc.samples.entity.Employee;
import java.sql.PreparedStatement;
importoracle.jdbc.OracleStatement;
import oracle.jdbc.OracleConnection;
import oracle.jdbc.driver.OracleDriver;
public class JdbcBeanImpl implements JdbcBean {
public static Connection getConnection() throws SQLException {
DriverManager.registerDriver(new oracle.jdbc.OracleDriver());
Connection connection =
DriverManager.getConnection(“jdbc:oracle:thin:@//slc07qwu.us.oracle.com:5521/jvma.regress.rdbms.dev.us.oracle.com”, “hr”, “hr”);
return connection;

}
@Override
public List&lt;Employee&gt;getEmployees(){
List&lt;Employee&gt;returnValue = new ArrayList&lt;&gt;();
try (Connection connection = getConnection()) {
try (Statement statement = connection.createStatement()) {
try (ResultSet resultSet = statement.executeQuery(“SELECT Employee_Id, First_Name, Last_Name, Email, Phone_Number, Job_Id, Salary from employees”)){
while(resultSet.next()){
returnValue.add(new Employee(resultSet)); 
}
}
}
}catch (SQLException ex){
logger.log(Level.SEVERE, null, ex);
ex.printStackTrace();
}
return returnValue;
}</code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-983136BE-A0DB-4615-A281-1A3B0C3492C3" name="GUID-983136BE-A0DB-4615-A281-1A3B0C3492C3"></a><h3 id="TDPJD-GUID-983136BE-A0DB-4615-A281-1A3B0C3492C3" class="sect3"><span class="enumeration_section">5.4 </span>Creating a Servlet to Process the Request
               </h3>
               <div>
                  <p>The following code describes the steps required to create a Servlet to process a request.</p>
                  <div class="section"><pre class="pre codeblock"><code>package com.oracle.jdbc.samples.web;
import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;
import com.oracle.jdbc.samples.bean.Jdbcbean;
import com.oracle.jdbc.samples.bean.jdbcBeanImpl;
import com.oracle.jdbc.samples.entity.Employee;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.http.*;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
@WebServlet(name=”WebController”,urlPatterns={”/WebController”})
public class WebController extends HttpServlet {
JdbcBean jdbcBean = new JdbcBeanImpl();
private void reportError(HttpServletResponse response, String message)
throws ServletException, IOException {
response.setContentType(“text/html;charset=UTF-8”);
try (PrintWriter out = response.getWriter() {
out.println(“&lt;!DOCTYPE html&gt;”);
out.println(“&lt;html&gt;”);
out.println(“&lt;head&gt;”);
out.println(“&lt;title&gt;Servlet WebController&lt;/title&gt;”);
out.println(“&lt;/head&gt;”);
out.println(“&lt;body&gt;)”;out.println(“&lt;h1&gt;”+message+”&lt;/h1&gt;”);
out.println(“&lt;h1&gt;”+message+”&lt;/h1&gt;”);
out.println(:&lt;/html&gt;”);
}
}
protected void processRequest(HttpServletRequest request, HttpServletResponse response)      throws ServletException, IOException {
Gson gson = new Gson();
String value = null;
List&lt;Employee&gt; employeeList = null;
employeeList = jdbcBean.getEmployees();
if(employeeList != null) {
response.setContentType("application/json");
gson.toJson(employeeList,
new TypeToken&lt;ArrayList&lt;Employee&gt;&gt;() { }.getType(),  response.getWriter());
} else {
response.setStatus(HttpServletResponse.SC_NOT_FOUND);
}
protected void doGet(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {
processRequest(request, response);
}
}</code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6473C5D7-50E1-477B-82EE-38C43F7CF536" name="GUID-6473C5D7-50E1-477B-82EE-38C43F7CF536"></a><h3 id="TDPJD-GUID-6473C5D7-50E1-477B-82EE-38C43F7CF536" class="sect3"><span class="enumeration_section">5.5 </span>Create an HTML Page to Display Results
               </h3>
               <div>
                  <p><span class="bold">Class Name:</span></p>
                  <p><code class="codeph">src/main/webapp/listAll.html</code></p>
                  <p></p>
                  <p>The following code describes how to create a method processResponse() inside the Java script that processes the JSON to show it on the HTML.</p>
                  <div class="section">
                     <p class="subhead2">Sample Code</p><pre class="pre codeblock"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;List all Employees&lt;/title&gt;
&lt;link rel="stylesheet" type="text/css" href="css/app.css" &gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="id-emp"&gt;&lt;/div&gt;
&lt;script&gt;
var xmlhttp = new XMLHttpRequest();
var url = "WebController";
xmlhttp.onreadystatechange=function() {
if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {
processResponse(xmlhttp.responseText);
}
}
xmlhttp.open("GET", url, true);
xmlhttp.send();
function processResponse(response) {
var arr = JSON.parse(response);
var i;
var out = "&lt;table&gt;";
keys = Object.keys(arr[0]);
// Print headers
out += "&lt;tr&gt;"
for(i = 0; i &lt; keys.length; ++i) {
out += "&lt;th&gt;"+keys[i]+"&lt;/th&gt;"
}
out += "&lt;/tr&gt;";
// Print values
 for(j = 0; j &lt; arr.length; j++) {
out += "&lt;tr&gt;"
for(i = 0; i &lt; keys.length; ++i) {
out += "&lt;td&gt;"+arr[j][keys[i]]+"&lt;/td&gt;"
}
out += "&lt;/tr&gt;"
}
out += "&lt;/table&gt;";
document.getElementById("id-emp").innerHTML = out;
}
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-601F5669-67FB-4515-8193-D59A1DE39118" name="GUID-601F5669-67FB-4515-8193-D59A1DE39118"></a><h3 id="TDPJD-GUID-601F5669-67FB-4515-8193-D59A1DE39118" class="sect3"><span class="enumeration_section">5.6 </span>Create a CSS File
               </h3>
               <div>
                  <p>The following code creates a method processResponse() inside the Java script that processes the JSON to show it on the HTML. </p>
                  <p></p>
                  <div class="section">
                     <p class="subhead2">Sample Code:</p><pre class="pre codeblock"><code>table {
border-collapse:collapse;
width:100%;
}
th, td{
text-align:left;
padding:8px;
}
tr:nth-child(even){background-color: #f2f2f2}
th {
background-color: #4CAF50;
color: white;
}h {
background-color: #4CAF50;
color: white;
}
body {
font-family: "Lato", sans-serif;
}
.sidenav {
height: 100%;
width: 0;
position: fixed;
z-index: 1;
top: 0;
left: 0;
background-color: #FF0000;
overflow-x: hidden;
transition: 0.5s;
padding-top: 60px;
}
.sidenav a {
padding: 8px 8px 8px 32px;
text-decoration: none;
font-size: 25px;
color: black;
display: block;
transition: 0.3s
}
.sidenav a:hover, .offcanvas a:focus{
color: #f1f1f1;
}
.closebtn {
position: absolute;
top: 0;
right: 25px;
font-size: 36px !important;
margin-left: 50px;
}
#main {
transition: margin-left .5s;
padding: 16px;
}</code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>