<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Migrating Oracle Text Applications</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Application Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Application Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-10T16:34:47-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85649-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="administering-oracle-text.html" title="Previous" type="text/html">
      <link rel="next" href="CONTEXT-query-application.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="Text Application Developer's Guide">
    <meta name="dcterms.isVersionOf" content="CCAPP">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="administering-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CONTEXT-query-application.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Application Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Migrating Oracle Text Applications </li>
            </ol>
            <a id="GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782" name="GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782"></a><a id="CCAPP2001"></a>
            
            <h2 id="CCAPP-GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782" class="sect2"><span class="enumeration_chapter">14 </span> Migrating Oracle Text Applications 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>When you upgrade to a new release of Oracle Database, there may be issues relating to migrating your applications from earlier releases of Oracle Text. Where applicable, Oracle provides information about any needed migration steps to move Oracle Text applications into the new release.</p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="migrating-oracle-text-applications.html#GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219">Oracle Text and Rolling Upgrade with Logical Standby</a></p>
                  </li>
                  <li>
                     <p><a href="migrating-oracle-text-applications.html#GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8" title="To upgrade Oracle Text, use this procedure to identify and copy required files from your existing Oracle home to the new release Oracle home. Complete this task after you upgrade Oracle Database.">Identifying and Copying Oracle Text Files To a New Oracle Home</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782__GUID-E2EEBF28-BB73-4101-BE3A-72FD3A429861">
                  <p class="notep1">See Also:</p>
                  <p><a href="../upgrd/toc.htm"><span class="italic">Oracle Database Upgrade Guide</span></a> for information on upgrading Oracle Database and topics about migrating applications
                  </p>
               </div>
            </div><a id="CCAPP9559"></a><div class="props_rev_3"><a id="GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219" name="GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219"></a><h3 id="CCAPP-GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219" class="sect3"><span class="enumeration_section">14.1 </span>Oracle Text and Rolling Upgrade with Logical Standby
               </h3>
               <div>
                  <p>You can use a logical standby database to perform a rolling upgrade of Oracle Database. During a rolling upgrade, you can run different releases of Oracle Database on the primary and logical standby databases while you upgrade your databases, one at a time, incurring minimal downtime on the primary database. Oracle Text takes full advantage of upgrading Text indexes during a rolling upgrade.</p>
                  <p>All CTX PL/SQL procedures are fully replicated to the standby database and, therefore, are upgraded, except with certain limitations, as described, for these procedures:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="migrating-oracle-text-applications.html#GUID-2063FE6E-4986-4486-8694-04DDB3FD8821">CTX_DDL PL/SQL Procedures</a></p>
                     </li>
                     <li>
                        <p><a href="migrating-oracle-text-applications.html#GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402">CTX_OUTPUT PL/SQL Procedures</a></p>
                     </li>
                     <li>
                        <p><a href="migrating-oracle-text-applications.html#GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47">CTX_DOC PL/SQL Procedures</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219__GUID-E9C5B0FF-15CE-4A8C-9D39-670448714C42">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sbydb/creating-oracle-data-guard-logical-standby.html#SBYDB00300"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information on creating a logical standby database to perform rolling upgrades
                     </p>
                  </div>
               </div><a id="CCAPP9560"></a><div class="props_rev_3"><a id="GUID-2063FE6E-4986-4486-8694-04DDB3FD8821" name="GUID-2063FE6E-4986-4486-8694-04DDB3FD8821"></a><h4 id="CCAPP-GUID-2063FE6E-4986-4486-8694-04DDB3FD8821" class="sect4"><span class="enumeration_section">14.1.1 </span>CTX_DDL PL/SQL Procedures
                  </h4>
                  <div>
                     <p>Oracle Database uses rowids internally for the construction of indexes. The following CTX_DDL procedures are not fully replicated to the standby:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ADD_MDATA</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">REMOVE_MDATA</code></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CCAPP9561"></a><div class="props_rev_3"><a id="GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402" name="GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402"></a><h4 id="CCAPP-GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402" class="sect4"><span class="enumeration_section">14.1.2 </span>CTX_OUTPUT PL/SQL Procedures
                  </h4>
                  <div>
                     <p>Only <code class="codeph">CTX_OUTPUT.ENABLE_QUERY_STATS</code> and <code class="codeph">CTX_OUTPUT.DISABLE_QUERY_STATS</code> are replicated. This means that if Oracle Text logging is enabled on the primary database before running an operation that causes logging, then the operation will run with logging on the primary database, but will run without logging on the secondary database.
                     </p>
                  </div>
               </div><a id="CCAPP9562"></a><div class="props_rev_3"><a id="GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47" name="GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47"></a><h4 id="CCAPP-GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47" class="sect4"><span class="enumeration_section">14.1.3 </span>CTX_DOC PL/SQL Procedures
                  </h4>
                  <div>
                     <p>When the following<code class="codeph"> CTX_DOC</code> procedures are used with Oracle Text Result Tables, the data stored in the tables is replicated. When these procedures are used without Result Tables, they are not replicated.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CTX_DOC.SET_KEY_TYPE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.FILTER</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.GIST</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.MARKUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.TOKENS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.THEMES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.HIGHLIGHT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.FILTER_CLOB_QUERY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.MARKUP_CLOB_QUERY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.HIGHLIGHT_CLOB_QUERY</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47__GUID-54CF573C-20DC-447C-82F6-D86520E4612F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sbydb/using-sql-apply-to-perform-rolling-upgrade.html#SBYDB00830"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information on performing a rolling upgrade for minimal downtime on the primary database
                        </p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8" name="GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8"></a><h3 id="CCAPP-GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8" class="sect3"><span class="enumeration_section">14.2 </span>Identifying and Copying Oracle Text Files To a New Oracle Home
               </h3>
               <div>
                  <p>To upgrade Oracle Text, use this procedure to identify and copy required files from your existing Oracle home to the new release Oracle home. Complete this task after you upgrade Oracle Database.</p>
                  <div class="section">
                     <p>Certain Oracle Text features rely on files under the Oracle home that you have configured. After a manual upgrade to a new release, or after any other process that changes the Oracle home, you must identify and move these files manually. These files include any user filters, any mail filter configuration files, and all the knowledge base extension files. After you identify the files, copy the files from your existing Oracle home to the new Oracle home. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="p">To identify the list of files that you must copy from the existing Oracle home, Oracle recommends that you run the SQL script <code>/ctx/admin/ctx_oh_files.sql</code>.
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Log in with the <code class="codeph">SYS</code>, <code class="codeph">SYSTEM</code>, or <code class="codeph">CTXSYS</code> system privileges for the earlier release database.</span></li>
                     <li class="stepexpand"><span>Run <code>$ORACLE_HOME/ctx/admin/ctx_oh.sql</code> under the Oracle home of the earlier release database.</span><div>
                           <p>For example:</p><pre class="pre codeblock"><code>sqlplus / as sysdba
connected
SQL&gt; @?/ctx/admin/ctx_oh_files</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Review the output from the <code>ctx_oh_files.sql</code> command, and copy those files to the new Oracle home. </span></li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>