<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="After backing up the database that you want to upgrade, prepare the new Oracle home in a new location. Install the software for Oracle Database 12c into the new location.">
      <meta name="description" content="After backing up the database that you want to upgrade, prepare the new Oracle home in a new location. Install the software for Oracle Database 12c into the new location.">
      <title>Preparing the New Oracle Home for Upgrading</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="After backing up the database that you want to upgrade, prepare the new Oracle home in a new location. Install the software for Oracle Database 12c into the new location.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-12T16:09:40-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E86577-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="database-preparation-tasks-to-complete-before-upgrades.html" title="Previous" type="text/html">
      <link rel="next" href="prerequisites-for-preparing-oracle-home-on-windows.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-preparation-tasks-to-complete-before-upgrades.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="prerequisites-for-preparing-oracle-home-on-windows.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-prepare-upgrade-oracle-database.html" property="item" typeof="WebPage"><span property="name"> Preparing to Upgrade Oracle Database </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Preparing the New Oracle Home for Upgrading</li>
            </ol>
            <a id="GUID-E9112AB3-2230-495C-8BB7-9998A6BF903E" name="GUID-E9112AB3-2230-495C-8BB7-9998A6BF903E"></a><a id="UPGRD52859"></a>
            
            <h2 id="UPGRD-GUID-E9112AB3-2230-495C-8BB7-9998A6BF903E" class="sect2">Preparing the New Oracle Home for Upgrading</h2>
         </header>
         <div class="ind">
            <div>
               <p>After backing up the database that you want to upgrade, prepare the new Oracle home in a new location. Install the software for Oracle Database 12<span class="italic">c</span> into the new location.
               </p>
               <ol>
                  <li>
                     <p> Copy configuration files from the Oracle home of the database being upgraded to the new Oracle home for Oracle Database 12<span class="italic">c</span>. If you are using DBUA, the configuration files are copied for you automatically and you can ignore this step.
                     </p>
                     <p>If you need to manually copy your configuration files to the new Oracle home:</p>
                     <ol type="a">
                        <li>
                           <p>If your parameter file resides within the old environment's Oracle home, then copy it to the new Oracle home. By default, Oracle looks for the parameter file in the <code class="codeph"><span class="variable">ORACLE_HOME</span>/dbs</code> directory on Linux or UNIX platforms and in the <code class="codeph"><span class="variable">ORACLE_HOME</span>\database</code> directory on Windows operating systems. The parameter file can reside anywhere, but it must not reside in the Oracle home of the old environment after you upgrade to Oracle Database 12<span class="italic">c</span>.
                           </p>
                           <div class="infoboxnote" id="GUID-E9112AB3-2230-495C-8BB7-9998A6BF903E__GUID-42E9C72B-C45D-4875-87F2-B0D03B13E070">
                              <p class="notep1">Note:</p>
                              <p>You may need to create a text initialization parameter file (<code class="codeph">PFILE</code>) from the server parameter file (<code class="codeph">SPFILE</code>) so that you can edit the initialization parameters. 
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>If your parameter file resides within an Oracle ASM instance, then back up the parameter file using the following command:</p><pre class="oac_no_warn" dir="ltr">CREATE pfile FROM spfile;
</pre><p>If you must downgrade the database and your <code class="codeph">SPFILE</code> resided within Oracle ASM, then you must restore the parameter file before the downgrade.
                           </p>
                        </li>
                        <li>
                           <p>If your parameter file is a text-based initialization parameter file with either an <code class="codeph">IFILE</code> (include file) or a <code class="codeph">SPFILE</code> (server parameter file) entry, and the file specified in the <code class="codeph">IFILE</code> or <code class="codeph">SPFILE</code> entry resides within the old environment's Oracle home, then copy the file specified by the <code class="codeph">IFILE</code> or <code class="codeph">SPFILE</code> entry to the new Oracle home. The file specified in the <code class="codeph">IFILE</code> or <code class="codeph">SPFILE</code> entry contains additional initialization parameters.
                           </p>
                        </li>
                        <li>
                           <p>If you have a password file that resides within the old environment's Oracle home, then move or copy the password file to the new Oracle home in Oracle Database 12<span class="italic">c</span>.
                           </p>
                           <p>The name and location of the password file are operating system-specific. On Linux or UNIX platforms, the default password file is <code class="codeph">orapw</code><span class="italic"><code class="codeph">SID</code></span>, located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dbs</code> directory. On Windows operating systems, the default password file is <code class="codeph">pwd</code><span class="italic"><code class="codeph">SID</code></span><code class="codeph">.ora</code>, located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\database</code> directory. In both cases, <span class="italic"><code class="codeph">SID</code></span> is your Oracle instance ID.
                           </p>
                        </li>
                     </ol>
                  </li>
                  <li>
                     <p>Adjust your parameter file in Oracle Database 12<span class="italic">c</span> by completing the following steps:
                     </p>
                     <ol type="a">
                        <li>
                           <p>Remove desupported initialization parameters and adjust deprecated initialization parameters. Certain parameters are desupported in Oracle Database 12<span class="italic">c</span>, while other parameters have become deprecated. Remove all desupported parameters from any parameter file that starts an Oracle Database 12<span class="italic">c</span> instance. Desupported parameters might cause errors in Oracle Database 12<span class="italic">c</span>. Also, alter any parameter whose syntax has changed in the new release.
                           </p>
                           <p>The Pre-Upgrade Information Tool displays any deprecated parameters and desupported parameters it finds in the <span class="bold">Deprecated Parameters</span> and <span class="bold">Desupported Parameters</span> sections, respectively.
                           </p>
                           <p>Adjust the values of the initialization parameters to at least the minimum values indicated by the Pre-Upgrade Information Tool.</p>
                           <p></p>
                           <p>Make sure all path names in the parameter file are fully specified. You should not have relative path names in the parameter file.</p>
                           <p></p>
                        </li>
                        <li>
                           <p>If the parameter file contains an <code class="codeph">IFILE</code> entry, then change the <code class="codeph">IFILE</code> entry in the parameter file to point to the new location of the include file that you specified in step 1. Then, edit the file specified in the <code class="codeph">IFILE</code> entry in the same way that you edited the parameter file in Step&nbsp;a through Step&nbsp;d.
                           </p>
                        </li>
                        <li>
                           <p>If you are upgrading a cluster database, then you may need to modify the <code class="codeph">SPFILE</code> or <code class="codeph">init<span class="codeinlineitalic"><span class="variable">ORACLE_SID</span></span>.ora</code> files.
                           </p>
                        </li>
                     </ol>
                     <p>Make sure you save all of the files you modified after making these adjustments.</p>
                  </li>
                  <li>
                     <p>If you are upgrading a cluster database, then set the <code>CLUSTER_DATABASE</code> initialization parameter to <code class="codeph">false</code>. After the upgrade, you must set this initialization parameter back to <code class="codeph">true</code>.
                     </p>
                  </li>
               </ol>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="behavior-change-deprecate-desupport-oracle-12c-rel-2.html#GUID-3BAFD95E-4D00-4F0F-BC80-6064F497F878">Behavior Changes, Deprecated and Desupported Features for Oracle Database 12c Release 2 (12.2)</a></li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-E9112AB3-2230-495C-8BB7-9998A6BF903E__GUID-16FCDFC9-59B0-48BC-8BB7-B778C869509B">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about managing initialization parameters
                        </p>
                     </li>
                     <li>
                        <p><a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD020"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about initialization parameter files in Oracle RAC environments
                        </p>
                     </li>
                     <li>
                        <p><a href="../refrn/CLUSTER_DATABASE.html#REFRN10015"><span class="italic">Oracle Database Reference</span></a> for information about <code class="codeph">CLUSTER_DATABASE</code></p>
                     </li>
                     <li>
                        <p><a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD900"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about initialization parameter files in Oracle RAC
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>