<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Before installing Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node using Oracle Universal Installer (OUI), you must first install the Oracle Grid Infrastructure for a cluster software, which consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).">
      <meta name="description" content="Before installing Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node using Oracle Universal Installer (OUI), you must first install the Oracle Grid Infrastructure for a cluster software, which consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).">
      <title>Installing Oracle Grid Infrastructure</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="2 Day + Real Application Clusters Guide ">
      <meta property="og:description" content="Before installing Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node using Oracle Universal Installer (OUI), you must first install the Oracle Grid Infrastructure for a cluster software, which consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="2 Day + Real Application Clusters Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="2-day-real-application-clusters-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-12T06:16:43-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85152-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="preparing-your-cluster.html" title="Previous" type="text/html">
      <link rel="next" href="installing-oracle-db-software-and-creating-database.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="2 Day + Real Application Clusters Guide">
    <meta name="dcterms.isVersionOf" content="TDPRC">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preparing-your-cluster.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="installing-oracle-db-software-and-creating-database.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2 Day + Real Application Clusters Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Installing Oracle Grid Infrastructure</li>
            </ol>
            <a id="GUID-986CA7AA-DA09-4261-866A-D08CD7A3E689" name="GUID-986CA7AA-DA09-4261-866A-D08CD7A3E689"></a><a id="TDPRC159"></a>
            
            <h2 id="TDPRC-GUID-986CA7AA-DA09-4261-866A-D08CD7A3E689" class="sect2"><span class="enumeration_chapter">3 </span> Installing Oracle Grid Infrastructure
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Before installing Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node using Oracle Universal Installer (OUI), you must first install the Oracle Grid Infrastructure for a cluster software, which consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).</p>
            </div>
            <div>
               <p><strong>Topics:</strong></p>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="installing-oracle-grid.html#GUID-A734CA62-A426-462A-9713-239D6BD68BF4">Using Rapid Home Provisioning to Install Oracle Grid Infrastructure</a><br>Rapid Home Provisioning is a method of deploying software homes to any number of nodes in a data center from a single cluster, and also facilitates patching and upgrading software.
                  </li>
                  <li class="ulchildlink"><a href="installing-oracle-grid.html#GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9">Installing Oracle Grid Infrastructure for a Cluster</a><br>The software for Oracle Grid Infrastructure for a cluster consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).
                  </li>
                  <li class="ulchildlink"><a href="installing-oracle-grid.html#GUID-311CED54-6AD1-4AA9-AA50-84705E179999">About Verifying the Oracle Clusterware Installation</a><br>Use Cluster Verification Utility (CVU) to verify that your installation is configured correctly.
                  </li>
                  <li class="ulchildlink"><a href="installing-oracle-grid.html#GUID-523BCF8A-0427-43DF-8582-13C4F036302A">Confirming Oracle ASM Function for Oracle Clusterware Files</a><br>Confirm Oracle ASM is running after installing Oracle Grid Infrastructure.
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-A734CA62-A426-462A-9713-239D6BD68BF4" name="GUID-A734CA62-A426-462A-9713-239D6BD68BF4"></a><h3 id="TDPRC-GUID-A734CA62-A426-462A-9713-239D6BD68BF4" class="sect3"><span class="enumeration_section">3.1 </span>Using Rapid Home Provisioning to Install Oracle Grid Infrastructure
               </h3>
               <div>
                  <p>Rapid Home Provisioning is a method of deploying software homes to any number of nodes in a data center from a single cluster, and also facilitates patching and upgrading software.</p>
                  <p>With Rapid Home Provisioning, you create, store, and manage templates of Oracle homes as <strong class="term">images</strong> (called gold images) of Oracle software, such as databases, middleware, and applications. You can make a <strong class="term">working copy</strong> of any gold image, and then you can provision that working copy to any node in the data center.
                  </p>
                  <p>You store the gold images in a repository located on a <strong class="term">Rapid Home Provisioning Server</strong>, which runs on one server in the Rapid Home Provisioning Server cluster that is a highly available provisioning system. With a single command, Rapid Home Provisioning can provision new Grid homes to servers for Oracle Grid Infrastructure 11.2.0.4, 12.1.0.2 and 12.2. There are no prerequisites for the target servers. You do not need to install any client or agent software on the servers before the provisioning the Oracle Grid Infrastructure software.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A734CA62-A426-462A-9713-239D6BD68BF4__GUID-1DDC3119-1436-4FD8-B36A-012BD94B0E90">
                     <p class="notep1">See Also:</p><a href="../cwadd/rapid-home-provisioning.html#CWADD-GUID-CCEC5960-EDA4-4A3F-9643-0CA308EA49AA"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for more information about Rapid Home Provisioning
                  </div>
               </div>
            </div><a id="TDPRC162"></a><div class="props_rev_3"><a id="GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9" name="GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9"></a><h3 id="TDPRC-GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9" class="sect3"><span class="enumeration_section">3.2 </span>Installing Oracle Grid Infrastructure for a Cluster
               </h3>
               <p>The software for Oracle Grid Infrastructure for a cluster consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).</p>
               <div>
                  <p><strong>Topics:</strong></p>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="installing-oracle-grid.html#GUID-93000036-5127-4189-94B0-11DB9693EC70">About Cluster Verification Utility Fixup Scripts on Linux and UNIX</a><br>During installation on Linux and UNIX platforms, for certain prerequisite check failures, you can click <span class="bold">Fix &amp; Check Again</span> to generate a fixup script.
                     </li>
                     <li class="ulchildlink"><a href="installing-oracle-grid.html#GUID-72D1994F-E838-415A-8E7D-30EA780D74A8">Installing Oracle Grid Infrastructure for a New Cluster</a><br>Complete this procedure to install Oracle Grid Infrastructure (Oracle Clusterware and Oracle Automatic Storage Management) on your cluster.
                     </li>
                     <li class="ulchildlink"><a href="installing-oracle-grid.html#GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB">Completing the Oracle Clusterware Configuration</a><br>After you have installed Oracle Clusterware, verify that the node applications are started.
                     </li>
                  </ul>
               </div>
               <a id="TDPRC168"></a><div class="props_rev_3"><a id="GUID-93000036-5127-4189-94B0-11DB9693EC70" name="GUID-93000036-5127-4189-94B0-11DB9693EC70"></a><h4 id="TDPRC-GUID-93000036-5127-4189-94B0-11DB9693EC70" class="sect4"><span class="enumeration_section">3.2.1 </span>About Cluster Verification Utility Fixup Scripts on Linux and UNIX
                  </h4>
                  <div>
                     <p>During installation on Linux and UNIX platforms, for certain prerequisite check failures, you can click <span class="bold">Fix &amp; Check Again</span> to generate a fixup script.
                     </p>
                     <p>The installer detects when the minimum requirements for an installation are not met, and creates shell scripts, called Fixup scripts, to finish incomplete system configuration steps. If the installer detects an incomplete task, then it generates a Fixup script (<code class="codeph">runfixup.sh</code>). You also can have CVU generate Fixup scripts before installation.
                     </p>
                     <p>Fixup scripts do the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If necessary, set kernel parameters to values required for successful installation, including:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Shared memory parameters.</p>
                              </li>
                              <li>
                                 <p>Open file descriptor and UDP send/receive parameters.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Create and set permissions on the Oracle Inventory (central inventory) directory.</p>
                        </li>
                        <li>
                           <p>Create or reconfigure primary and secondary group memberships for the installation owner, if necessary, for the Oracle Inventory directory and the operating system privileges groups.</p>
                        </li>
                        <li>
                           <p>Set shell limits if necessary to required values.</p>
                        </li>
                     </ul>
                     <p>You can run the script after you click <span class="bold">Fix and Check Again</span>. You are prompted by the installer to run the fixup script as the <code class="codeph">root</code> user in a separate session or you can specify through the installer interface that the scripts should be run automatically. You must run the script on all the nodes specified by the installer. 
                     </p>
                     <p>Modifying the contents of the generated fixup script is not recommended.</p>
                     <div class="infoboxnote" id="GUID-93000036-5127-4189-94B0-11DB9693EC70__GUID-35F3C83A-F985-43BA-9A2F-D4EBE9D2F4DB">
                        <p class="notep1">Note:</p>
                        <p>Using fixup scripts does not ensure that all the required prerequisites for installing Oracle Grid Infrastructure for a cluster and  Oracle RAC are satisfied. You must still verify that all the requirements listed in <a href="preparing-your-cluster.html#GUID-A3389F0E-E143-482B-9ED0-6D30C3FB8CAA" title="Before you begin your installation, check to ensure that your system meets the requirements for Oracle Real Application Clusters (Oracle RAC). You must ensure that you have a certified combination of the operating system and the Oracle Database software. Each node you make part of your cluster, or Oracle Clusterware and Oracle RAC installation, must satisfy the minimum hardware requirements of the software. Oracle Grid Infrastructure and Oracle RAC require access to shared storage, so each node and instance in the cluster can access the same set of files.You must have the hardware to support communication, both public and private, between all the nodes in the cluster.Oracle Grid Infrastructure and Oracle RAC use a variety of IP addresses for communication.Ensure your system meets the operating system version and other software requirements.Before installing the Oracle software, check that your operating system meets the requirements.Oracle Universal Installer (OUI) detects when the minimum requirements for an installation are not met, and creates shell scripts, called Fixup scripts, to finish incomplete system configuration steps. Instead of waiting for the installation to notify you of an incorrect configuration, you can use operating system commands to manually check the operating system configuration before installation. This helps you determine if additional time will be needed to update the operating system before starting the Oracle Grid Infrastructure installation.After you have verified that your system meets the basic requirements for installing Oracle RAC, the next step is to configure the server in preparation for installation.Depending on whether this is the first time Oracle software is installed on this server, you may have to create operating system groups and users.To install Oracle Grid Infrastructure for a cluster and Oracle Real Application Clusters (Oracle RAC), you must create certain operating system groups and users.Instead of using a single operating system user as the owner of every Oracle software installation, you can use multiple users, each owning one or more Oracle software installations.On the Windows platform, management of operating system users and groups is different from Linux and UNIX Systems.You can use additional users and groups to divide administrative access privileges to the Oracle Grid Infrastructure for a cluster installation from other administrative users and groups associated with other Oracle installations. This task describes how to create the grid and oracle users prior to installing the software.To install Oracle software, Secure Shell (SSH) connectivity must be set up between all cluster member nodes. On Oracle Linux, you run Oracle Universal Installer (OUI) from the grid account. OUI obtains information from the environment variables configured for the grid user. Before you install Oracle Grid Infrastructure and Oracle RAC you need to decide on network names and configure IP addresses.After you have configured the network, perform verification tests to make sure it is configured properly. If there are problems with the network connection between nodes in the cluster, then the Oracle Clusterware installation fails.When you install the Oracle software on your server, Oracle Universal Installer expects the operating system to have specific packages and software applications installed.Before starting the installation, ensure that the date and time settings on all the cluster nodes are set as closely as possible to the same date and time. OUI checks the current settings for various kernel parameters to ensure they meet the minimum requirements for deploying Oracle RAC. For production database systems, Oracle recommends that you tune the settings to optimize the performance of your particular system.You may be required to perform special configuration steps that are specific to the operating system on which you are installing Oracle RAC, or for the components used with your cluster. Oracle RAC requires access to a shared file system for storing Oracle Clusterware files. You must also determine where the Oracle software and database files will be installed.The Oracle Inventory (oraInventory) directory is the central inventory record of all Oracle software installations on a server. If you have an existing Oracle Inventory, then ensure that you use the same Oracle Inventory for all Oracle software installations, and ensure that all Oracle software users you intend to use for installation have permissions to write to this directory. During installation, you are prompted to provide a path to a home directory in which to place the software for Oracle Grid Infrastructure for a cluster. OUI installs Oracle Clusterware and Oracle ASM into a directory referred to as Grid_home.Before installing any Oracle software, you must configure an Oracle base directory. OUI uses the Oracle base directory to determine the location of the Oracle Inventory directory, and also for installing Oracle RAC.The Oracle home directory is the location in which the Oracle RAC software is installed. Each node in a cluster requires external shared disks for storing the Oracle Clusterware (Oracle Cluster Registry and voting disk) files, and Oracle Database files.If you have a certified NAS storage device, then you can create zero-padded files in an NFS mounted directory and use those files as disk devices in an Oracle ASM disk group. During Oracle Grid Infrastructure installation, you can choose to install and configure Oracle Automatic Storage Management Filter Driver (Oracle ASMFD). Oracle ASMFD helps prevent corruption in Oracle ASM disks and files within the disk group.Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted."> Preparing Your Cluster </a> are met to ensure a successful installation.
                        </p>
                     </div>
                  </div>
               </div><a id="TDPRC565"></a><a id="TDPRC169"></a><div class="props_rev_3"><a id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8" name="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8"></a><h4 id="TDPRC-GUID-72D1994F-E838-415A-8E7D-30EA780D74A8" class="sect4"><span class="enumeration_section">3.2.2 </span>Installing Oracle Grid Infrastructure for a New Cluster
                  </h4>
                  <div>
                     <p>Complete this procedure to install Oracle Grid Infrastructure (Oracle Clusterware and Oracle Automatic Storage Management) on your cluster.</p>
                     <div class="section">
                        <p>Starting with Oracle Grid Infrastructure 12<span class="italic">c</span> Release 2 (12.2), the installation media is replaced with a zip file for the Oracle Grid Infrastructure installer. Run the installation wizard after extracting the zip file into the target home path.
                        </p>
                        <p>At any time during installation, if you have a question about what you are being asked to do, or what input you are required to provide during installation, click the <span class="bold">Help</span> button on the installer page.
                        </p>
                        <p>You should have your network information, storage information, and operating system users and groups available to you before you start installation, and you should be prepared to run root scripts.</p>
                        <p>As the user that owns the software for Oracle Grid Infrastructure for a cluster  (<code class="codeph">grid)</code>on the first node, install Oracle Grid Infrastructure for a cluster. Note that the installer uses Secure Shell (SSH) to copy the binary files from this node to the other nodes during the installation. During installation, in the Cluster Node Information window, about you specify the nodes in your cluster, you can click <span class="bold">SSH Connectivity</span> and the installer configures SSH connectivity between the specified nodes for you.
                        </p>
                        <div class="infoboxnote" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-D55A7C9D-D3A3-44B0-9521-D9944C824EAA">
                           <p class="notep1">Note:</p>These installation instructions assume you do not already have any Oracle software installed on your system. If you have already installed Oracle ASMLIB, then you will not be able to install Oracle ASM Filter Driver (Oracle ASMFD) until you uninstall Oracle ASMLIB. You can use Oracle ASMLIB instead of Oracle ASMFD for managing the disks used by Oracle ASM, but those instructions are not included in this guide.
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To install the software for Oracle Grid Infrastructure for a cluster:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>As the <code class="codeph">grid</code> user, download the Oracle Grid Infrastructure image files and unzip the files into the Grid home. For example:</span><div><pre class="pre codeblock"><code>mkdir -p /u01/app/12.2.0/grid
chown grid:oinstall /u01/app/12.2.0/grid
cd /u01/app/12.2.0/grid
unzip -q <span class="variable">download_location</span>/<span class="variable">grid_home_image</span>.zip</code></pre></div>
                           <div>
                              <div class="infoboxnote" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-B4A71F5B-C2AE-44DB-B8C1-A66FCE772FFB">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>You must extract the zip image software into the directory where you want your Grid home to be located.</p>
                                    </li>
                                    <li>
                                       <p>Download and copy the Oracle Grid Infrastructure image files to the local node only. During installation, the software is copied and installed on all other nodes in the cluster.</p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Configure the shared disks for use with Oracle ASM Filter Driver:</span><ol type="a">
                              <li class="substepexpand"><span>Log in as the root user and set the environment variable <code class="codeph">$ORACLE_HOME</code> to the location of the Grid home and the environment variable <code class="codeph">$ORACLE_BASE</code> to a temporary location.</span><div><pre class="pre codeblock"><code>su root
set ORACLE_HOME=/u01/app/12.2.0/grid
set ORACLE_BASE=/tmp</code></pre></div>
                                 <div>You set <code class="codeph">$ORACLE_BASE</code> to a temporary location to avoid creating diagnostic or trace files in the Grid home before the Oracle Grid Infrastructure installation.
                                 </div>
                              </li>
                              <li class="substepexpand"><span>Use Oracle ASM command line tool (ASMCMD) to provision the disk devices for use with Oracle ASM Filter Driver.</span><div><pre class="pre codeblock"><code>./u01/app/12.2.0/grid/bin/asmcmd afd_label DATA1 /dev/sdb --init
./u01/app/12.2.0/grid/bin/asmcmd afd_label DATA1 /dev/sdc --init
./u01/app/12.2.0/grid/bin/asmcmd afd_label DATA1 /dev/sdd --init
</code></pre></div>
                              </li>
                              <li class="substepexpand"><span>Verify the device has been marked for use with Oracle ASMFD.</span><div><pre class="pre codeblock"><code>./u01/app/12.2.0/grid/bin/asmcmd afd_lslbl /dev/sdb
./u01/app/12.2.0/grid/bin/asmcmd afd_lslbl /dev/sdc
./u01/app/12.2.0/grid/bin/asmcmd afd_lslbl /dev/sdd</code></pre></div>
                              </li>
                              <li class="substepexpand"><span>Unset the ORACLE_BASE environment variable.</span><div><pre class="pre codeblock"><code>unset ORACLE_BASE</code></pre></div>
                              </li>
                           </ol>
                        </li>
                        <li class="stepexpand"><span>Start the Oracle Grid Infrastructure wizard by running the following command:</span><div><pre class="pre codeblock"><code><span class="variable">Grid_home</span>/gridSetup.sh</code></pre></div>
                           <div>The installer starts and the Select Configuration Option window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Choose the option <span class="bold">Configure Grid Infrastructure for a New Cluster</span>, then click <span class="bold">Next</span>.</span><div>The Select Cluster Type window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Choose the option <span class="bold">Configure an Oracle Standalone Cluster </span>, then click <span class="bold">Next</span>.</span><div>The Grid Plug and Play Information window appears.</div>
                        </li>
                        <li class="stepexpand"><span>In the <span class="bold">Cluster Name</span> and <span class="bold">SCAN Name</span> fields, enter the names for your cluster and cluster scan that are unique throughout your entire enterprise network, then click <span class="bold">Next</span>.</span><div> 
                              <p>For example, you might choose a name that is based on the node names' common prefix. This guide uses the cluster name <code class="codeph">docrac</code> and the cluster SCAN name of <code class="codeph">docrac-scan</code>. 
                              </p>
                              <p>The Cluster Node Information screen appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the Public Hostname column of the table of cluster nodes, you should see your local node, for example <code class="codeph">racnode1.example.com</code>. </span><ol type="a">
                              <li class="substepexpand"><span>Click <span class="bold">Add</span> to add another node to the cluster.</span></li>
                              <li class="substepexpand"><span>Enter the second node's public name (<code class="codeph">racnode2</code>), and virtual IP name (<code class="codeph">racnode2-vip</code>), then click <span class="bold">OK</span>.</span><div>You are returned to the Cluster Node Information window. You should now see both nodes listed in the table of cluster nodes. Make sure the Role column is set to HUB for both nodes.</div>
                              </li>
                              <li class="substepexpand"><span>Make sure both nodes are selected, then click the <span class="bold">SSH Connectivity</span> button at the bottom of the window.</span><div>The bottom panel of the window displays the SSH Connectivity information.</div>
                              </li>
                              <li class="substepexpand"><span>Enter the operating system user name and password for the Oracle software owner (<code class="codeph">grid</code>). Select the option <span class="bold">If you have configured SSH connectivity between the nodes</span>, then select the <span class="bold">Reuse private and public keys existing in user home</span> option. Click <span class="bold">Setup</span>.</span><div>A message window appears, indicating that it might take several minutes to configure SSH connectivity between the nodes. After a short period, another message window appears indicating that passwordless SSH connectivity has been established between the cluster nodes. Click <span class="bold">OK</span> to continue.
                                 </div>
                              </li>
                              <li class="substepexpand"><span>When returned to the Cluster Node Information window, click <span class="bold">Next</span> to continue. </span></li>
                           </ol>
                           <div>The Specify Network Interface Usage page appears.</div>
                        </li>
                        <li class="stepexpand"><span> Select the usage type for each network interface displayed, then click <span class="bold">Next</span>.</span><div>Verify that each interface has the correct interface type associated with it. If you have network interfaces that should not be used by Oracle Clusterware, then set the network interface type to <span class="bold">Do Not Use</span>. For example, if you have only two network interfaces, then set the public interface to have a Use For value of <span class="bold">Public</span> and set the private network interface to have a Use For value of <span class="bold">ASM &amp; Private</span>.
                           </div>
                           <div>Make sure both nodes are selected, then click <span class="bold">Next</span>. The Grid Infrastructure Management Repository Option window appears.
                           </div>
                        </li>
                        <li class="stepexpand"><span>Choose whether you want to store the Grid Infrastructure Management Repository in a separate Oracle ASM disk group, then click <span class="bold">Next</span>.</span><div>The Storage Option Information window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Select the option <span class="bold">Use Oracle Flex ASM for storage</span>, then click <span class="bold">Next</span> to continue.</span><div>The Grid Infrastructure Management Repository Option window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Local</span> option, then click <span class="bold">Next</span> to continue</span><div>The Create ASM Disk Group window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Provide the name and specifications for the Oracle ASM disk group.</span><ol type="a">
                              <li class="substepexpand"><span>In the <span class="bold">Disk Group Name</span> field, enter a name for the disk group, for example DATA. </span></li>
                              <li class="substepexpand"><span>Choose the Redundancy level for this disk group. Normal is the recommended option.</span></li>
                              <li class="substepexpand"><span>In the Add Disks section, choose the disks to add to this disk group.</span><div>In the Add Disks section you should see the disks that you labeled in Step 2. If you do not see the disks, click the <span class="bold">Change Discovery Path</span> button and provide a path and pattern match for the disk, for example, <code>/dev/sd*</code></div>
                              </li>
                              <li class="substepexpand"><span>Check the option <span class="bold">Configure Oracle ASM Filter Driver</span>.</span></li>
                           </ol>
                           <div>When you have finished providing the information for the disk group, click <span class="bold">Next</span>.
                           </div>
                           <div>The Specify ASM Password window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Choose to use the same password for the Oracle ASM SYS and ASMSNMP account, or specify different passwords for each account, then click <span class="bold">Next</span>.</span><div>The Failure Isolation Support window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Select the option <span class="bold">Do not use Intelligent Platform Management Interface (IMPI)</span>, then click <span class="bold">Next</span>.</span><div>The Specify Management Options window appears.</div>
                        </li>
                        <li class="stepexpand"><span>If you have Enterprise Manager Cloud Control installed in your enterprise, then choose the option <span class="bold">Register with Enterprise Manager (EM) Cloud Control</span> and provide the EM configuration information. If you do not have Enterprise Manager Cloud Control installed in your enterprise, then click <span class="bold">Next</span> to continue.</span><div>The Privileged Operating System Groups window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Accept the default operating system group names for Oracle ASM administration and click <span class="bold">Next</span>.</span><div>The Specify Install Location window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Specify the directory to use for the Oracle base for the Oracle Grid Infrastructure installation, then click <span class="bold">Next</span>.</span><div>If you copied the Oracle Grid Infrastructure installation files into the Oracle Grid home directory as directed in Step 1, then the default location for the Oracle base directory should display as <code class="codeph">/u01/app/grid</code>.
                           </div>
                           <div>If you have not installed Oracle software previously on this computer, then the Create Inventory window appears. </div>
                        </li>
                        <li class="stepexpand"><span>Change the path for the inventory directory, if required. Then, click <span class="bold">Next</span>.</span><div>If you are using the same directory names as the examples in this book, then it should show a value of <code>/u01/app/oraInventory</code>. The group name for the <code class="codeph">oraInventory</code> directory should show <code class="codeph">oinstall</code>.
                           </div>
                           <div>The Root Script Execution Configuration window appears.</div>
                        </li>
                        <li class="stepexpand"><span>Select the option to <span class="bold">Automatically run configuration scripts.</span> Enter the credentials for the root user or a sudo account, then click <span class="bold">Next</span>.</span><div>Alternatively, you can Run the scripts manually as the <code class="codeph">root</code> user at the end of the installation process when prompted by the installer.
                           </div>
                           <div>The Perform Prerequisite Checks window appears.</div>
                        </li>
                        <li class="stepexpand"><span>If any of the checks have a status of Failed and are not Fixable, then you must manually correct these issues. After you have fixed the issue, you can click the <span class="bold">Check Again</span> button to have the installer recheck the requirement and update the status. Repeat as needed until all the checks have a status of Succeeded. Click <span class="bold">Next</span>.</span><div>
                              <div class="figure" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-3B8895C8-195F-404B-BEA4-E24F4CA3FDC8">
                                 <p class="titleinfigure">Figure 3-1 Perform Prerequisite Checks Window</p><img src="img/grid_install_fixup_12c.png" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" longdesc="img_text/grid_install_fixup_12c.html"><br><a href="img_text/grid_install_fixup_12c.html">Description of "Figure 3-1 Perform Prerequisite Checks Window"</a></div>
                              <!-- class="figure" -->
                              <p>The Summary window appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Review the contents of the Summary window and then click <span class="bold">Install</span>. </span><div>The installer displays a progress indicator enabling you to monitor the installation process.</div>
                        </li>
                        <li class="stepexpand"><span>If you did not configure automation of the root scripts, then you are required to run certain scripts as the <code class="codeph">root</code> user, as specified in the Execute Configuration Scripts window appears. Do <span class="italic">not</span> click <span class="bold">OK</span> until you have run the scripts. Run the scripts on all nodes as directed, in the order shown. </span><div>
                              <p>For example, on Oracle Linux you perform the following steps (note that for clarity, the examples show the current user, node and directory in the prompt):</p>
                              <ol type="a">
                                 <li>
                                    <p>As the <code class="codeph">oracle</code> user on <code class="codeph">racnode1</code>, open a terminal window, and enter the following commands:
                                    </p><pre class="pre codeblock"><code>[oracle@racnode1 oracle]$ <kbd class="userinput">cd /u01/app/oraInventory</kbd>
[oracle@racnode1 oraInventory]$ <kbd class="userinput">su</kbd>
</code></pre></li>
                                 <li>
                                    <p>Enter the password for the <code class="codeph">root</code> user, and then enter the following command to run the first script on <code class="codeph">racnode1</code>:
                                    </p><pre class="pre codeblock"><code>[root@racnode1 oraInventory]# <kbd class="userinput">./orainstRoot.sh</kbd>
</code></pre></li>
                                 <li>
                                    <p>After the <code class="codeph">orainstRoot.sh</code> script finishes on <code class="codeph">racnode1</code>, open another terminal window, and as the <code class="codeph">oracle</code> user, enter the following commands:
                                    </p><pre class="pre codeblock"><code>[oracle@racnode1 oracle]$ <kbd class="userinput">ssh racnode2</kbd>
[oracle@racnode2 oracle]$ <kbd class="userinput">cd /u01/app/oraInventory</kbd>
[oracle@racnode2 oraInventory]$ <kbd class="userinput">su</kbd>
</code></pre></li>
                                 <li>
                                    <p>Enter the password for the <code class="codeph">root</code> user, and then enter the following command to run the first script on <code class="codeph">racnode2</code>:
                                    </p><pre class="pre codeblock"><code>[root@racnode2 oraInventory]# <kbd class="userinput">./orainstRoot.sh</kbd>
</code></pre></li>
                                 <li>
                                    <p>After the <code class="codeph">orainstRoot.sh</code> script finishes on <code class="codeph">racnode2</code>, go to the terminal window you opened in part a of this step. As the <code class="codeph">root</code> user on <code class="codeph">racnode1</code>, enter the following commands to run the second script, <code class="codeph">root.sh</code>:
                                    </p><pre class="pre codeblock"><code>[root@racnode1 oraInventory]# <kbd class="userinput">cd /u01/app/12.2.0/grid</kbd>
[root@racnode1 grid]# <kbd class="userinput">./root.sh</kbd>
</code></pre><p>Press <span class="bold">Enter</span> at the prompt to accept the default value. 
                                    </p>
                                    <div class="infoboxnote" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-6D4F44EA-89E0-4317-9F45-A87AE3700DB4">
                                       <p class="notep1">Note:</p>
                                       <p>You must run the <code class="codeph">root.sh</code> script on the first node and wait for it to finish. You can run <code class="codeph">root.sh</code> scripts concurrently on all other nodes except for the last node on which you run the script. Like the first node, the <code class="codeph">root.sh</code> script on the last node must be run separately.
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>After the <code class="codeph">root.sh</code> script finishes on <code class="codeph">racnode1</code>, go to the terminal window you opened in part c of this step. As the <code class="codeph">root</code> user on <code class="codeph">racnode2</code>, enter the following commands:
                                    </p><pre class="pre codeblock"><code>[root@racnode2 oraInventory]# <kbd class="userinput">cd /u01/app/12.2.0/grid</kbd>
[root@racnode2 grid]# <kbd class="userinput">./root.sh</kbd>
</code></pre><p>After the <code class="codeph">root.sh</code> script completes, return to the OUI window where the Installer prompted you to run the <code class="codeph">orainstRoot.sh</code> and <code class="codeph">root.sh</code> scripts. Click <span class="bold">OK</span>.
                                    </p>
                                    <p>The software installation monitoring window reappears.</p>
                                 </li>
                              </ol>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Continue monitoring the installation until the Finish window appears. Then click <span class="bold">Close</span> to complete the installation process and exit the installer.</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-8CD2CADA-8D4A-409C-92A9-F9CD455ED945">
                           <p class="notep1">Caution:</p>
                           <p>After installation is complete, do not remove manually or run <code class="codeph">cron</code> jobs that remove <code class="codeph">/tmp/.oracle</code> or <code class="codeph">/var/tmp/.oracle</code> directories or their files while Oracle software is running on the server. If you remove these files, then the Oracle software can encounter intermittent hangs. Oracle Clusterware installations can fail with the error:
                           </p>
                           <p> <code class="codeph">CRS-0184: Cannot communicate with the CRS daemon</code>. 
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPRC172"></a><a id="TDPRC171"></a><div class="props_rev_3"><a id="GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB" name="GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB"></a><h4 id="TDPRC-GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB" class="sect4"><span class="enumeration_section">3.2.3 </span>Completing the Oracle Clusterware Configuration
                  </h4>
                  <div>
                     <p>After you have installed Oracle Clusterware, verify that the node applications are started.</p>
                     <div class="section">
                        <p>Depending on which operating system you use, you may have to perform some postinstallation tasks to configure the Oracle Clusterware components properly.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To complete the Oracle Clusterware configuration on Oracle Linux:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>As the <code class="codeph">grid</code> user on the first node, check the status of the Oracle Clusterware targets by entering the following command:</span><div><pre class="pre codeblock"><code><span><code>/u01/app/12.2.0/grid</code></span>/bin/crsctl check cluster -all
</code></pre><p>This command provides output showing if all the required cluster services, such as <code class="codeph">gsd</code>, <code class="codeph">ons</code>, and <code class="codeph">vip,</code> are started on the nodes of your cluster. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the displayed output, you should see the Oracle Clusterware daemons are online for each node in the cluster.</span><div><pre class="pre codeblock"><code><samp class="sysout">******************************************************************
racnode1:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
******************************************************************
racnode2:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
******************************************************************
</samp></code></pre><p>If you see that one or more Oracle Clusterware resources are offline, or are missing, then the Oracle Clusterware software did not install properly.</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB__GUID-24FA60AE-F135-41EC-A513-5182A49425C0">
                           <p class="notep1">Note:</p>
                           <p>Avoid changing host names after you complete the Oracle Clusterware installation, including adding or deleting domain qualifications. Nodes with changed host names must be deleted from the cluster and added back with the new name.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPRC178"></a><div class="props_rev_3"><a id="GUID-311CED54-6AD1-4AA9-AA50-84705E179999" name="GUID-311CED54-6AD1-4AA9-AA50-84705E179999"></a><h3 id="TDPRC-GUID-311CED54-6AD1-4AA9-AA50-84705E179999" class="sect3"><span class="enumeration_section">3.3 </span>About Verifying the Oracle Clusterware Installation
               </h3>
               <div>
                  <p>Use Cluster Verification Utility (CVU) to verify that your installation is configured correctly.</p>
                  <p>After the Oracle Clusterware installation is complete, OUI automatically runs Cluster Verification Utility (CVU) as a configuration assistant to verify that the Oracle Clusterware installation has been completed successfully.</p>
                  <p>If CVU reports problems with your configuration, then correct these errors before proceeding.</p>
                  <div class="infoboxnotealso" id="GUID-311CED54-6AD1-4AA9-AA50-84705E179999__GUID-2D97CB5F-7C3B-4911-BD15-2A18F8D17574">
                     <p class="notep1">See Also:</p>
                     <p><a href="../cwadd/cluster-verification-utility-reference.html#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about using CVU and resolving configuration problems
                     </p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-523BCF8A-0427-43DF-8582-13C4F036302A" name="GUID-523BCF8A-0427-43DF-8582-13C4F036302A"></a><h3 id="TDPRC-GUID-523BCF8A-0427-43DF-8582-13C4F036302A" class="sect3"><span class="enumeration_section">3.4 </span>Confirming Oracle ASM Function for Oracle Clusterware Files
               </h3>
               <div>
                  <p>Confirm Oracle ASM is running after installing Oracle Grid Infrastructure.</p>
                  <div class="section">
                     <p>After Oracle Grid Infrastructure installation, Oracle Clusterware files are stored on Oracle ASM. Use the following command syntax as the Oracle Grid Infrastructure installation owner (<code class="codeph">grid</code>) to confirm that your Oracle ASM installation is running:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-523BCF8A-0427-43DF-8582-13C4F036302A__GUID-7142FCED-3FDD-499B-AF3E-1E708998AAAD"><pre class="pre codeblock"><code>srvctl status asm</code></pre><p>For example:</p><pre class="pre codeblock"><code>srvctl status asm
ASM is running on node1,node2, node3, node4</code></pre><div class="infoboxnote" id="GUID-523BCF8A-0427-43DF-8582-13C4F036302A__GUID-5F37FACB-A4A2-47EC-BBDE-2B301FA2729D">
                        <p class="notep1">Note:</p>To manage Oracle ASM or Oracle Net 11<span class="italic">g</span> Release 2 (11.2) or later installations, use the <code class="codeph">srvctl</code> binary in the Oracle Grid Infrastructure home for a cluster (Grid home). If you have Oracle Real Application Clusters or Oracle Database installed, then you cannot use the <code class="codeph">srvctl</code> binary in the database home to manage Oracle ASM or Oracle Net.
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>