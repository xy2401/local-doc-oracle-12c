<!-- NewPage -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Wed Mar 08 09:51:08 PST 2017 -->
<title>Deprecated List (Oracle Multimedia Servlets and JSP Java API Reference)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2017-03-08">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js">
</script>
<meta name="generator" content="Oracle ST-Doc Jadey 2.5">

    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2017-10-12T12:52:19+00:00">
    <meta name="dcterms.title" content="Oracle Multimedia Servlets and JSP Java API Reference">
    <meta name="dcterms.category" content="database">
    <meta name="dcterms.isVersionOf" content="IMJSV">
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
    <meta name="dcterms.identifier" content="E86002-01">
    <meta name="dcterms.release" content="Release 12.2">
  </head>
<body>
<script type="text/javascript">
<!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Deprecated List (Oracle Multimedia Servlets and JSP Java API Reference)";
        }
    }
    catch(err) {
    }
//-->
</script><noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="topNav"><a name="navbar_top" id="navbar_top"><!--   --></a>
<div class="skipNav"><a href="#skip_navbar_top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_top_firstrow" id="navbar_top_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
<li><a href="overview-summary.html">Overview</a></li>
<li><a href="oracle/ord/im/package-summary.html">Package</a></li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li class="navBarCell1Rev">Deprecated</li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle® Multimedia Servlets and JSP Java API Reference<br>
12c Release 2 (12.2)</b><br>
E86002-01</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html" target="_top">Frames</a></li>
<li><a href="deprecated-list.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div><script type="text/javascript">
<!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></div>
<a name="skip_navbar_top" id="skip_navbar_top"><!--   --></a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Deprecated API" class="title">Deprecated API</h1>
<h2 title="Contents">Contents</h2>
<ul>
<li><a href="#class">Deprecated Classes</a></li>
<li><a href="#exception">Deprecated Exceptions</a></li>
</ul>
</div>
<div class="contentContainer"><a name="class" id="class"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<table class="deprecatedSummary" border="0" cellpadding="3" cellspacing="0" summary="Deprecated Classes table, listing deprecated classes, and an explanation">
<caption><span>Deprecated Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Class and Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colOne"><a href="oracle/ord/im/OrdHttpJspResponseHandler.html" title="class in oracle.ord.im">oracle.ord.im.OrdHttpJspResponseHandler</a>
<div class="block"><span class="deprecationComment">The OrdHttpJspResponseHandler class facilitates the retrieval of media data from Oracle Database, and its delivery to a browser or other HTTP client from a JSP page.</span>
<p><span class="deprecationComment">This class inherits the DEFAULT_BUFFER_SIZE field from the OrdHttpResponseHandler class.</span></p>
<center><span class="deprecationComment"><b>An Important Note on JSP Engines</b></span></center>
<ul style="list-style-type:none">
<li><span class="deprecationComment">JSP engines are not required to support access to the servlet binary output stream. Therefore, not all JSP engines support the delivery of media data using the OrdHttpJspResponseHandler class.</span></li>
<li><span class="deprecationComment">All media data stored internally in the database using the Oracle Multimedia types, including text documents stored using the OrdDoc type, is stored using a binary LOB data type. Media data stored in an operating system file outside the database is stored using a BFILE. Therefore, all media data is delivered to the browser through the servlet binary output stream, using the ServletOutputStream class.</span></li>
<li><span class="deprecationComment">All the send methods in the OrdHttpJspResponseHandler class mirror the initial processing of the jsp:forward tag. Specifically, these send methods call the JspWriter clear method to clear the output buffer of the page prior to obtaining the binary output stream. However, JSP engines are not required to support a call to the ServletResponse getOutputStream method from within a JSP page. A JSP engine that does not support this typically throws an IllegalStateException error from the getOutputStream method. However, the exact behavior is implementation-specific.</span></li>
<li><span class="deprecationComment">If your JSP engine does not support access to the binary output stream from within a JSP page, then you must use a servlet to deliver media data. For example, perform one of the following operations:</span>
<ul>
<li><span class="deprecationComment">Use the jsp:forward tag to forward a media retrieval request to a servlet.</span></li>
<li><span class="deprecationComment">Construct media retrieval URLs to retrieve the data directly from a servlet.</span></li>
</ul>
</li>
</ul>
<center><span class="deprecationComment"><b>An Important Note on Return Statements</b></span></center>
<ul style="list-style-type:none">
<li><span class="deprecationComment">When delivering media data from a JSP page, a return statement is always required following a call to any of the send methods of the OrdHttpJspResponseHandler class. The return statement is necessary to ensure that no other data is written to the output stream of the JSP page following the media data.</span></li>
<li><span class="deprecationComment">An <code>if ( true ) { ... return; }</code> construct can be used to avoid the <i>statement not reachable</i> error that may result from the presence of additional code, generated by the JSP engine, at the end of a compiled page. This construct, which mirrors exactly the code produced by some JSP engines to handle the <code>&lt;jsp:forward ... &gt;</code>; directive, is shown in the example provided later in this section.</span></li>
</ul>
<center><span class="deprecationComment"><b>Note</b></span></center>
<ul style="list-style-type:none">
<li><span class="deprecationComment">An Oracle Multimedia Java object, such as an OrdImage object, is not dependent on the JDBC statement or result set from which it was obtained. However, an Oracle Multimedia Java object is dependent on the JDBC connection it is using, and on which the SQL statement was executed or from which the result set was obtained. Therefore, having obtained an Oracle Multimedia Java object from the database, an application must not release the JDBC connection before delivering the media data to the browser.</span></li>
</ul>
<p><span class="deprecationComment">All the send methods in this class all call the JspWriter clear method to clear the page's output buffer prior to delivering the media. Therefore, the page must use the buffered output model, which is the default.</span></p>
<p><span class="deprecationComment">The following example demonstrates how to use the OrdHttpJspResponseHandler class to retrieve an image from the database and deliver it to a browser. The return statement ensures that the trailing newline characters following the final end tag (represented by a percent mark and right-angle bracket, or <code>%&gt;</code>) are not transmitted to the browser as part of the image.</span></p>
<p><span class="deprecationComment">The <code>if ( true ) { ... return; }</code> construct is used to avoid the <i>statement not reachable</i> error that would otherwise by produced by this example due to the additional statements, generated by the JSP engine, at the end of the compiled page.</span></p>
<pre>
<span class="deprecationComment">  &lt;%@ page language="java" %&gt;
  &lt;%@ page import="OrdSamplePhotoAlbumBean" %&gt;
  <b>&lt;%@ page import="oracle.ord.im.OrdHttpJspResponseHandler" %&gt;</b>

  &lt;jsp:useBean id="photos" scope="page"
               class="OrdSamplePhotoAlbumBean"/&gt;
  <b>&lt;jsp:useBean id="handler" scope="page"
               class="oracle.ord.im.OrdHttpJspResponseHandler"/&gt;</b>

  &lt;%
    //
    // Select the entry from the table using the ID request parameter,
    // then fetch the row.
    //
    photos.selectRowById(request.getParameter("id"));
    if (!photos.fetch())
    {
      response.setStatus(response.SC_NOT_FOUND);
      return;
    }

    //
    // Set the page context for the retrieve request, then retrieve
    // the image from the database and deliver it to the browser. The
    // getImage() method returns an object of type 
    // <code>oracle.ord.im.OrdImage</code>.
    //
    <b>if (true)</b>
    <b>{</b>
        <b>handler.setPageContext(pageContext);</b>
        <b>handler.sendImage(photos.getImage());</b>
        <b>return;</b>
    <b>}</b>
  %&gt;
</span>
</pre>
<center><span class="deprecationComment"><b>Prerequisites</b></span></center>
<p><span class="deprecationComment">In order to run Oracle Multimedia methods for servlets and JSP, you will need to import classes from the oracle.ord.im package into your Java file.</span></p>
<p><span class="deprecationComment">You may also need to import classes from the following Java packages:</span></p>
<pre>
<span class="deprecationComment"> java.sql.
 java.io.
 javax.servlet.
 javax.servlet.http.
 oracle.jdbc.
 oracle.sql.
</span>
</pre></div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><a href="oracle/ord/im/OrdHttpResponseHandler.html" title="class in oracle.ord.im">oracle.ord.im.OrdHttpResponseHandler</a>
<div class="block"><span class="deprecationComment">The OrdHttpResponseHandler class facilitates the retrieval of media data from Oracle Database, and its delivery to a browser or other HTTP client from a Java servlet.</span>
<p><span class="deprecationComment">An Oracle Multimedia Java object, such as an OrdImage object, is not dependent on the JDBC statement or result set from which it was obtained. However, an Oracle Multimedia Java object is dependent on the JDBC connection it is using and on which the SQL statement was executed, or from which the result set was obtained. Therefore, having obtained an Oracle Multimedia Java object from the database, an application must not release the JDBC connection before delivering the media data to the browser.</span></p>
<p><span class="deprecationComment">This class contains the following field: <code>public static final int DEFAULT_BUFFER_SIZE</code>.</span></p>
<p><span class="deprecationComment">The OrdHttpResponseHandler class uses a default buffer size of 32768 to retrieve LOB data from the database and deliver it to the client. You can override this value with the setBufferSize method.</span></p>
<p><span class="deprecationComment">The following example shows how to use the OrdHttpResponseHandler class to retrieve an image from a database and deliver it to a browser:</span></p>
<pre>
<span class="deprecationComment">  PreparedStatement stmt = conn.prepareStatement(
      "select photo from photo_album where id = ?" );
  stmt.setString( 1, request.getParameter( "photo_id" ) );
  OracleResultSet rset = (OracleResultSet)stmt.executeQuery();
  if ( rset.next() )
  {
      OrdImage media = (OrdImage)rset.getORAData( 1, OrdImage.getORADataFactory() );
      <b>OrdHttpResponseHandler handler =
          new OrdHttpResponseHandler( request, response );</b>
      <b>handler.sendImage(media);</b>
  }
  else
  {
      response.setStatus( response.SC_NOT_FOUND );
  }
  rset.close();
  stmt.close();
</span>
</pre>
<center><span class="deprecationComment"><b>A Note on the Use of Charsets Other Than ISO-8859-1 (Latin-1)</b></span></center>
<ul style="list-style-type:none">
<li><span class="deprecationComment">If you wish to retrieve from an OrdDoc object a text-based document with a character set (charset) other than ISO-8859-1 (also called Latin-1), and deliver that document to a browser, your application must specify the charset name in the HTTP Content-Type header.</span></li>
<li><span class="deprecationComment">If the charset specification is included in the MIME type attribute in the OrdDoc object, then your application needs to call only the <a href="oracle/ord/im/OrdHttpResponseHandler.html#sendDoc_oracle_ord_im_OrdDoc_"><code>sendDoc</code></a> method to retrieve the document and deliver it to the browser. For example, an HTML page that is written in Japanese might be stored in the OrdDoc object with a MIME type of <code>text/html; charset=Shift_JIS</code>. In this case, calling <a href="oracle/ord/im/OrdHttpResponseHandler.html#sendDoc_oracle_ord_im_OrdDoc_"><code>sendDoc</code></a> method will send the appropriate Content-Type header, allowing the browser to display the page correctly.</span></li>
<li><span class="deprecationComment">However, if the MIME type in the OrdDoc object does not include the charset specification, then you must call one of the sendResponse methods and specify the MIME type explicitly. For example, if the MIME type of an HTML page written in Japanese is stored in the OrdDoc object as <code>text/html</code>, and the charset name is specified in a separate column, then the application must append the charset specification to the MIME type before calling a sendResponse method. For example:</span>
<pre>
<span class="deprecationComment">  OraclePreparedStatement stmt =
      (OraclePreparedStatement)conn.prepareStatement(
          "select doc, charset from documents where id = ?" );
  stmt.setString( 1, request.getParameter("id") );
  OracleResultSet rset = (OracleResultSet)stmt.executeQuery();
  if ( rset.next() )
  {
      OrdDoc doc = (OrdDoc)rset.getORAData( 1, OrdDoc.getORADataFactory() );
      String charset = rset.getString( 2 );
      String mimeType = doc.getMimeType() + "; charset=" + charset;
      OrdHttpResponseHandler handler =
                      new OrdHttpResponseHandler( request, response );
      handler.sendResponse( mimeType, doc.getContentLength(),
                            doc.getContent(), doc.getUpdateTime() );
  }
  else
  {
      response.setStatus( response.SC_NOT_FOUND );
  }
  rset.close();
  stmt.close();
</span>
</pre></li>
</ul>
<center><span class="deprecationComment"><b>Prerequisites</b></span></center>
<p><span class="deprecationComment">In order to run Oracle Multimedia methods for servlets and JSP, you will need to import classes from the oracle.ord.im package into your Java file.</span></p>
<p><span class="deprecationComment">You may also need to import classes from the following Java packages:</span></p>
<pre>
<span class="deprecationComment"> java.sql.
 java.io.
 javax.servlet.
 javax.servlet.http.
 oracle.jdbc.
 oracle.sql.
</span>
</pre></div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><a href="oracle/ord/im/OrdHttpUploadFile.html" title="class in oracle.ord.im">oracle.ord.im.OrdHttpUploadFile</a>
<div class="block"><span class="deprecationComment">The OrdHttpUploadFile class facilitates the handling of uploaded files by providing an API that applications can call to load media data into Oracle Database. Form-based file uploading using HTML forms encodes form data and uploaded files in POST requests using the multipart/form-data format. The OrdHttpUploadFile class is used to represent an uploaded file that has been parsed by the <a href="oracle/ord/im/OrdHttpUploadFormData.html" title="class in oracle.ord.im"><code>OrdHttpUploadFormData</code></a> class.</span>
<p><span class="deprecationComment">The OrdHttpUploadFile class provides methods to obtain information about the uploaded file, to access the contents of the file directly, and to facilitate loading the contents into an Oracle Multimedia object in a database.</span></p>
<p><span class="deprecationComment">Every input field of type <code>file</code> in an HTML form will produce a parameter of type OrdHttpUploadFile, whether or not a user enters a valid file name into such a field. Depending on the requirements, applications can test the length of the file name, the length of the content, or both, to determine if a valid file name was entered by a user and if the file was successfully uploaded by the browser. For example, if a user does not enter a file name, the <a href="oracle/ord/im/OrdHttpUploadFile.html#getOriginalFileName__"><code>OrdHttpUploadFile.getOriginalFileName()</code></a> method will return the file name whose length is zero. However, if a user enters either an invalid file name or the name of an empty (zero-length) file, the getOriginalFileName method will return the file name whose length is not zero, and the <a href="oracle/ord/im/OrdHttpUploadFile.html#getContentLength__"><code>OrdHttpUploadFile.getContentLength()</code></a> method will return the content length of the file as zero.</span></p>
<center><span class="deprecationComment"><b>Prerequisites</b></span></center>
<p><span class="deprecationComment">In order to run Oracle Multimedia methods for servlets and JSP, you will need to import classes from the oracle.ord.im package into your Java file.</span></p>
<p><span class="deprecationComment">You may also need to import classes from the following Java packages:</span></p>
<pre>
<span class="deprecationComment"> java.sql.
 java.io.
 javax.servlet.
 javax.servlet.http.
 oracle.jdbc.
 oracle.sql.
</span>
</pre></div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><a href="oracle/ord/im/OrdHttpUploadFormData.html" title="class in oracle.ord.im">oracle.ord.im.OrdHttpUploadFormData</a>
<div class="block"><span class="deprecationComment">The OrdHttpUploadFormData class facilitates the processing of POST requests using the multipart/form-data format. Form-based file uploading using HTML forms encodes form data and uploaded files in POST requests using this format. The OrdHttpUploadFormData class parses the POST data and makes the contents of regular form fields and uploaded files readily accessible to a Java servlet or JSP page.</span>
<p><span class="deprecationComment">The OrdHttpUploadFormData class provides methods to access text-based form field parameters that are identical to the getParameter, getParameterValues, and getParameterNames methods provided by the ServletRequest class. Access to uploaded files is provided by a similar set of methods, namely <a href="oracle/ord/im/OrdHttpUploadFormData.html#getFileParameter_java_lang_String_"><code>OrdHttpUploadFormData.getFileParameter(java.lang.String)</code></a>, <a href="oracle/ord/im/OrdHttpUploadFormData.html#getFileParameterValues_java_lang_String_"><code>OrdHttpUploadFormData.getFileParameterValues(java.lang.String)</code></a> and <a href="oracle/ord/im/OrdHttpUploadFormData.html#getFileParameterNames__"><code>OrdHttpUploadFormData.getFileParameterNames()</code></a>. The OrdHttpUploadFile objects returned by the getFileParameter and getFileParameterValues methods provide simple access to the MIME type, length, and contents of each uploaded file. For more information on OrdHttpUploadFile objects, see the <a href="oracle/ord/im/OrdHttpUploadFile.html" title="class in oracle.ord.im"><code>OrdHttpUploadFile</code></a> class.</span></p>
<p><span class="deprecationComment">The following is an example of how to use the OrdHttpUploadFormData class:</span></p>
<pre>
<span class="deprecationComment">  //
  // Create an OrdHttpUploadFormData object and use it to parse the
  // multipart/form-data message.
  //
  <b>OrdHttpUploadFormData formData = new OrdHttpUploadFormData( request );</b>
  <b>formData.parseFormData();</b>

  //
  // Get the description, location, and photograph.
  //
  String id = <b>formData</b>.getParameter( "id" );
  String description = <b>formData</b>.getParameter( "description" );
  String location = <b>formData</b>.getParameter( "location" );
  <b>OrdHttpUploadFile photo = formData.getFileParameter( "photo" );</b>

  //
  // Prepare and execute a SQL statement to insert a new row into
  // the table and return the sequence number for the new row.
  // Disable auto-commit to allow the LOB to be written correctly.
  //
  conn.setAutoCommit( false );
  PreparedStatement stmt = conn.prepareStatement(
      "insert into photo_album (id, description, location, photo) " +
      "    values (?, ?, ?, ORDSYS.ORDIMAGE.INIT() )" );
  stmt.setString( 1, id );
  stmt.setString( 2, description );
  stmt.setString( 3, location );
  stmt.executeUpdate();

  //
  // Prepare and execute a SQL statement to fetch the new OrdImage
  // object from the database.
  //
  stmt = conn.prepareStatement(
              "select photo from photo_album where id = ? for update" );
  stmt.setString( 1, id );
  OracleResultSet rset = (OracleResultSet)stmt.executeQuery();
  if ( !rset.next() )
  {
      throw new ServletException( "new row not found in table" );
  }
  OrdImage media = (OrdImage)rset.getORAData( 1, OrdImage.getORADataFactory());

  //
  // Load the photograph into the database and set the properties.
  //
  <b>photo.loadImage(media);</b>

  //
  // Prepare and execute a SQL statement to update the image object.
  //
  stmt = (OraclePreparedStatement)conn.prepareStatement(
                  "update photo_album set photo = ? where id = ?" );
  stmt.setORAData( 1, media );
  stmt.setString( 2 id );
  stmt.execute();
  stmt.close();

  //
  // Commit the changes.
  //
  conn.commit();
</span>
</pre>
<center><span class="deprecationComment"><b>A Note on the Handling of Query String Parameters and Text-Based HTML Form Field Parameters</b></span></center>
<ul style="list-style-type:none">
<li><span class="deprecationComment">Every parameter in the optional query string of a request produces a corresponding parameter of type String, whether or not any data is associated with the parameter name. Likewise, every text-based input field in an HTML form also produces a corresponding parameter of type String, whether or not any data is entered into a field. When processing query string parameters and text-based input fields, applications can test the length of the corresponding String object to determine if any data is present.</span></li>
<li><span class="deprecationComment">The parseFormData method merges all query string and form field parameters into a single set of ordered parameters, where the query string parameters are processed first, followed by the form field parameters. Thus, query string parameters take precedence over form field parameters. For example, if a request is made with a query string of <code>arg=hello&amp;arg=world</code> and the values <code>greetings</code> and <code>everyone</code> are entered into two HTML form fields named <code>arg</code>, then the resulting parameter set would include the following entry: <code>arg=(hello, world, greetings, everyone)</code>.</span></li>
</ul>
<center><span class="deprecationComment"><b>Note on the Handling of FILE-Type HTML Form Field Parameters</b></span></center>
<ul style="list-style-type:none">
<li><span class="deprecationComment">Every input field of type <code>file</code> in an HTML form produces a corresponding parameter of type <code>OrdHttpUploadFile</code>, whether or not a valid file name is entered into the field. When processing a field of type <code>FILE</code>, applications can test either the length of the file name, the length of the content, or a combination of the two to determine if a valid file name was entered by a user, and if the file was successfully uploaded by the browser. See the <a href="oracle/ord/im/OrdHttpUploadFile.html" title="class in oracle.ord.im"><code>OrdHttpUploadFile</code></a> class for more information.</span></li>
</ul>
<center><span class="deprecationComment"><b>A Note on the Use of Non-Western European Languages</b></span></center>
<ul style="list-style-type:none">
<li><span class="deprecationComment">The Microsoft Internet Explorer browser allows data to be entered into an HTML form using a character set encoding that is different from that being used to view the form. For example, it is possible to copy Japanese Shift_JIS character set data from one browser window and paste it into a form being viewed using the Western European (ISO) character set in a different browser window. In this situation, Internet Explorer can sometimes transmit the form data twice in such a way that the multipart/form-data parser cannot detect the duplicated data. Furthermore, the non-Western European language form data is sometimes sent as a Unicode escape sequence, sometimes in its raw binary form, and sometimes duplicated using both formats in different portions of the POST data.</span></li>
<li><span class="deprecationComment">Although this same problem does not exist with the Netscape browser, care must still be taken to ensure that the correct character set is being used. For example, although it is possible to copy Japanese Shift_JIS character set data from one browser window and paste it into a form being viewed using the Western European (ISO) character set in a different browser window, when the data is pasted into the form field, the two bytes that comprise each Japanese Shift_JIS chacter are stored as two individual Western European (ISO) characters.</span></li>
<li><span class="deprecationComment">Therefore, care must be taken to view an HTML form using the correct character set, no matter which Web browser is used. For example, the HTML META tag can be used to specify the character set as follows:</span>
<pre>
<span class="deprecationComment">  &lt;META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS "&gt;
</span>
</pre></li>
</ul>
<center><span class="deprecationComment"><b>Prerequisites</b></span></center>
<p><span class="deprecationComment">In order to run <i>inter</i>Media methods for servlets and JSP, you will need to import classes from the oracle.ord.im package into your Java file.</span></p>
<p><span class="deprecationComment">You may also need to import classes from the following Java packages:</span></p>
<pre>
<span class="deprecationComment"> java.sql.
 java.io.
 javax.servlet.
 javax.servlet.http.
 oracle.jdbc.
 oracle.sql.
</span>
</pre></div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><a href="oracle/ord/im/OrdMultipartFilter.html" title="class in oracle.ord.im">oracle.ord.im.OrdMultipartFilter</a>
<div class="block"><span class="deprecationComment">The OrdMultipartFilter class filters form-based, file-upload servlet requests whose contents are encoded in multipart/form-data format. This class wraps a request object with an OrdMultipartWrapper object that parses the request content.</span>
<p><span class="deprecationComment">The OrdMultipartFilter class implements the javax.servlet.Filter interface in servlet 2.3. For any servlet container that supports servlet 2.3, this filter combined with the OrdMultipartWrapper object, provides transparent access to the parameters and files in the servlet request with multipart/form-data encoding.</span></p>
<p><span class="deprecationComment">In order to use the OrdMultipartFilter class, you will need to specify the following in the web.xml file:</span></p>
<pre>
<span class="deprecationComment">  &lt;filter&gt;
  &lt;filter-name&gt;OrdMultipartFilter&lt;/filter-name&gt;
  &lt;filter-class&gt;oracle.ord.im.OrdMultipartFilter&lt;/filter-class&gt;
  &lt;!-- optional configuration parameters
  &lt;init-param&gt;
    &lt;param-name&gt;tempDir&lt;/param-name&gt;
    &lt;param-value&gt;/tmp&lt;/param-value&gt;
    &lt;param-name&gt;maxMemory&lt;/param-name&gt;
    &lt;param-value&gt;5000&lt;/param-value&gt;
  &lt;/init-param&gt;
  --&gt;
  &lt;/filter&gt;
  &lt;filter-mapping&gt;
  &lt;filter-name&gt;OrdMultipartFilter&lt;/filter-name&gt;
  &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
  &lt;/filter-mapping&gt;
</span>
</pre>
<p><span class="deprecationComment">And you will need to specify the following in the JSP file:</span></p>
<pre>
<span class="deprecationComment">   //
    // Get the description, location, and photograph.
    //
    String id = request.getParameter( "id" );
    String description = request.getParameter( "description" );
    String location = request.getParameter( "location" );
    OrdHttpUploadFile photo = request.getFileParameter( "photo" );

    //
    // Prepare and execute a SQL statement to insert a new row into
    // the table and return the sequence number for the new row.
    // Disable auto-commit to allow the LOB to be written correctly.
    //
    conn.setAutoCommit( false );
    PreparedStatement stmt = conn.prepareStatement(
        "insert into photo_album (id, description, location, photo) " 
        "    values (?, ?, ?, ORDSYS.ORDIMAGE.INIT() )" );
    stmt.setString( 1, id );
    stmt.setString( 2, description );
    stmt.setString( 3, location );
    stmt.executeUpdate();

    //
    // Prepare and execute a SQL statement to fetch the new OrdImage
    // object from the database.
    //
    stmt = conn.prepareStatement(
                "select photo from photo_album where id = ? for update" );
    stmt.setString( 1, id );
    OracleResultSet rset = (OracleResultSet)stmt.executeQuery();
    if ( !rset.next() )
    {
        throw new ServletException( "new row not found in table" );
    }
    OrdImage media = (OrdImage)rset.getORAData( 1, OrdImage.getORADataFactory());

    //
    // Load the photograph into the database and set the properties.
    //
    photo.loadImage(media);

    //
    // Prepare and execute a SQL statement to update the image object.
    //
    stmt = (OraclePreparedStatement)conn.prepareStatement(
                    "update photo_album set photo = ? where id = ?" );
    stmt.setORAData( 1, media );
    stmt.setString( 2 id );
    stmt.execute();
    stmt.close();

    //
    // Commit the changes.
    //
    conn.commit();
</span>
</pre>
<center><span class="deprecationComment"><b>Prerequisites</b></span></center>
<p><span class="deprecationComment">In order to run Oracle Multimedia methods for servlets and JSP, you will need to import classes from the oracle.ord.im package into your Java file.</span></p>
<p><span class="deprecationComment">You may also need to import classes from the following Java packages:</span></p>
<pre>
<span class="deprecationComment"> java.sql.
 java.io.
 javax.servlet.
 javax.servlet.http.
 oracle.jdbc.
 oracle.sql.
</span>
</pre></div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><a href="oracle/ord/im/OrdMultipartWrapper.html" title="class in oracle.ord.im">oracle.ord.im.OrdMultipartWrapper</a>
<div class="block"><span class="deprecationComment">The OrdMultipartWrapper class wraps the HttpServletRequest object and provides access to the contents in the HTTP request that are encoded using multipart/form-data encoding. This class overrides some of the methods in the HttpServletRequestWrapper class to provide access to the text-based form field parameters. This class also defines new methods to provide access to the uploaded files.</span>
<center><span class="deprecationComment"><b>Prerequisites</b></span></center>
<p><span class="deprecationComment">In order to run Oracle Multimedia methods for servlets and JSP, you will need to import classes from the oracle.ord.im package into your Java file.</span></p>
<p><span class="deprecationComment">You may also need to import classes from the following Java packages:</span></p>
<pre>
<span class="deprecationComment"> java.sql.
 java.io.
 javax.servlet.
 javax.servlet.http.
 oracle.jdbc.
 oracle.sql.
</span>
</pre></div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="exception" id="exception"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<table class="deprecatedSummary" border="0" cellpadding="3" cellspacing="0" summary="Deprecated Exceptions table, listing deprecated exceptions, and an explanation">
<caption><span>Deprecated Exceptions</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Exceptions and Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colOne"><a href="oracle/ord/im/OrdHttpResponseException.html" title="class in oracle.ord.im">oracle.ord.im.OrdHttpResponseException</a>
<div class="block"><span class="deprecationComment">The OrdHttpResponseException class extends ServletException to report errors encountered during the retrieval and delivery of multimedia data from a database to an HTTP client.</span></div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><a href="oracle/ord/im/OrdHttpUploadException.html" title="class in oracle.ord.im">oracle.ord.im.OrdHttpUploadException</a>
<div class="block"><span class="deprecationComment">The OrdHttpUploadException class extends IOException to report errors encountered during the uploading of multimedia data from an HTTP client to a database. Its primary purpose is to allow the localization of error message text.</span></div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom" id="navbar_bottom"><!--   --></a>
<div class="skipNav"><a href="#skip_navbar_bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_bottom_firstrow" id="navbar_bottom_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
<li><a href="overview-summary.html">Overview</a></li>
<li><a href="oracle/ord/im/package-summary.html">Package</a></li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li class="navBarCell1Rev">Deprecated</li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle® Multimedia Servlets and JSP Java API Reference<br>
12c Release 2 (12.2)</b><br>
E86002-01</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html" target="_top">Frames</a></li>
<li><a href="deprecated-list.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div><script type="text/javascript">
<!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></div>
<a name="skip_navbar_bottom" id="skip_navbar_bottom"><!--   --></a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"></p>
<center><small>Copyright © 1999, 2017, Oracle and/or its affiliates. All rights reserved.</small></center>
</body>
</html>
