<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Describes the data mining sample programs that ship with Oracle Database.">
      <meta name="description" content="Describes the data mining sample programs that ship with Oracle Database.">
      <title>The Data Mining Sample Programs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Guide">
      <meta property="og:description" content="Describes the data mining sample programs that ship with Oracle Database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-12T08:52:48-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85759-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="administrative-tasks.html" title="Previous" type="text/html">
      <link rel="next" href="data-mining-API-reference.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide">
    <meta name="dcterms.isVersionOf" content="DMAPI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="administrative-tasks.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="data-mining-API-reference.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-data-mining-API.html" property="item" typeof="WebPage"><span property="name">Using the Data Mining API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">The Data Mining Sample Programs</li>
            </ol>
            <a id="GUID-735101DC-CD55-4056-BDE4-F848CC9EF4C8" name="GUID-735101DC-CD55-4056-BDE4-F848CC9EF4C8"></a>
            
            <h2 id="DMAPI-GUID-735101DC-CD55-4056-BDE4-F848CC9EF4C8" class="sect2"><span class="enumeration_chapter">29 </span>The Data Mining Sample Programs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Describes the data mining sample programs that ship with Oracle Database.</p>
               <p><a id="d64486e18" class="indexterm-anchor"></a><a id="d64486e22" class="indexterm-anchor"></a></p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="the-data-mining-sample-programs.html#GUID-1F15B394-549B-4CE0-B658-2A9E15DFFBC8">About the Data Mining Sample Programs</a></p>
                  </li>
                  <li>
                     <p><a href="the-data-mining-sample-programs.html#GUID-7E1D837A-5C6F-462E-8909-2402D1670610" title="Learn how to install Data Mining sample programs.">Installing the Data Mining Sample Programs</a></p>
                  </li>
                  <li>
                     <p><a href="the-data-mining-sample-programs.html#GUID-8E1C8A2F-4135-4F08-BCA8-FD0B057609AB">The Data Mining Sample Data</a></p>
                  </li>
               </ul>
            </div><a id="DMPRG807"></a><a id="DMPRG808"></a><a id="DMPRG715"></a><div class="props_rev_3"><a id="GUID-1F15B394-549B-4CE0-B658-2A9E15DFFBC8" name="GUID-1F15B394-549B-4CE0-B658-2A9E15DFFBC8"></a><h3 id="DMAPI-GUID-1F15B394-549B-4CE0-B658-2A9E15DFFBC8" class="sect3"><span class="enumeration_section">29.1 </span>About the Data Mining Sample Programs
               </h3>
               <div>
                  <p>You can learn a great deal about the Oracle<a id="d64486e81" class="indexterm-anchor"></a> Data Mining application programming interface (API) from the data mining sample programs. The programs illustrate typical approaches to data preparation, algorithm selection, algorithm tuning, testing, and scoring. 
                  </p>
                  <p>The programs are easy to use. They include extensive inline comments to help you understand the code. They delete all temporary objects on exit; you can run the programs repeatedly without setup or cleanup.</p>
                  <p>The data mining sample programs are installed with Oracle Database Examples in the demo directory under Oracle Home. The demo directory contains sample programs that illustrate many features of Oracle Database. You can locate the data mining files by doing a directory listing of <code class="codeph">dm*.sql</code>. The following example shows this <a id="d64486e94" class="indexterm-anchor"></a>directory listing on a Linux system. 
                  </p>
                  <p>Note that the directory listing in the following example includes one file, <code class="codeph">dmhpdemo.sql</code>, that is <span class="italic">not</span> a data mining program.
                  </p>
                  <div class="example" id="GUID-1F15B394-549B-4CE0-B658-2A9E15DFFBC8__CHDBAEBH">
                     <p class="titleinexample">Example 29-1 Directory Listing of the Data Mining Sample Programs</p><pre class="oac_no_warn" dir="ltr">&gt; cd $ORACLE_HOME/rdbms/demo
&gt; ls dm*.sql
dmaidemo.sql      dmkmdemo.sql    dmsvddemo.sql              
dmardemo.sql      dmnbdemo.sql    dmsvodem.sql    
dmdtdemo.sql      dmnmdemo.sql    dmsvrdem.sql               
dmdtxvlddemo.sql  dmocdemo.sql    dmtxtnmf.sql                      
dmemdemo.sql      dmsh.sql        dmtxtsvm.sql
dmglcdem.sql      dmshgrants.sql                          
dmglrdem.sql      dmstardemo.sql                          
dmhpdemo.sql      dmsvcdem.sql
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>The data mining sample programs create a set of mining models in the user's schema. After executing the programs, you can list the models with a query like the one in the following example.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1F15B394-549B-4CE0-B658-2A9E15DFFBC8__CHDJJADJ">
                     <p class="titleinexample">Example 29-2 Models Created by the Sample Programs</p><pre class="oac_no_warn" dir="ltr">SELECT mining_function, algorithm, model_name FROM user_mining_models
    ORDER BY mining_function;
 
MINING_FUNCTION                ALGORITHM                      MODEL_NAME
------------------------------ ------------------------------ -------------------
ASSOCIATION_RULES              APRIORI_ASSOCIATION_RULES      AR_SH_SAMPLE
CLASSIFICATION                 GENERALIZED_LINEAR_MODEL       GLMC_SH_CLAS_SAMPLE
CLASSIFICATION                 SUPPORT_VECTOR_MACHINES        T_SVM_CLAS_SAMPLE
CLASSIFICATION                 SUPPORT_VECTOR_MACHINES        SVMC_SH_CLAS_SAMPLE
CLASSIFICATION                 SUPPORT_VECTOR_MACHINES        SVMO_SH_CLAS_SAMPLE
CLASSIFICATION                 NAIVE_BAYES                    NB_SH_CLAS_SAMPLE
CLASSIFICATION                 DECISION_TREE                  DT_SH_CLAS_SAMPLE
CLUSTERING                     EXPECTATION_MAXIMIZATION       EM_SH_CLUS_SAMPLE
CLUSTERING                     O_CLUSTER                      OC_SH_CLUS_SAMPLE
CLUSTERING                     KMEANS                         KM_SH_CLUS_SAMPLE
CLUSTERING                     KMEANS                         DM_STAR_CLUSTER
FEATURE_EXTRACTION             SINGULAR_VALUE_DECOMP          SVD_SH_SAMPLE
FEATURE_EXTRACTION             NONNEGATIVE_MATRIX_FACTOR      NMF_SH_SAMPLE
FEATURE_EXTRACTION             NONNEGATIVE_MATRIX_FACTOR      T_NMF_SAMPLE
REGRESSION                     SUPPORT_VECTOR_MACHINES        SVMR_SH_REGR_SAMPLE
REGRESSION                     GENERALIZED_LINEAR_MODEL       GLMR_SH_REGR_SAMPLE</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DMPRG809"></a><a id="DMPRG586"></a><div class="props_rev_3"><a id="GUID-7E1D837A-5C6F-462E-8909-2402D1670610" name="GUID-7E1D837A-5C6F-462E-8909-2402D1670610"></a><h3 id="DMAPI-GUID-7E1D837A-5C6F-462E-8909-2402D1670610" class="sect3"><span class="enumeration_section">29.2 </span>Installing the Data Mining Sample Programs
               </h3>
               <div>
                  <p>Learn how to install Data Mining sample programs. </p>
                  <div class="section">
                     <p><a id="d64486e148" class="indexterm-anchor"></a>The<a id="d64486e153" class="indexterm-anchor"></a> data mining sample programs <a id="d64486e158" class="indexterm-anchor"></a>require:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle Database Enterprise Edition with the <a id="d64486e168" class="indexterm-anchor"></a>Advanced Analytics option
                           </p>
                        </li>
                        <li>
                           <p>Oracle Database sample schemas</p>
                        </li>
                        <li>
                           <p>Oracle Database Examples</p>
                        </li>
                        <li>
                           <p>A data mining user account</p>
                        </li>
                        <li>
                           <p>Execution of <code class="codeph">dmshgrants.sql</code> by a system administrator
                           </p>
                        </li>
                        <li>
                           <p>Execution of <code class="codeph">dmsh.sql</code> by the data mining user
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Follow these steps to install the data mining sample programs:</p>
                     <ol>
                        <li>
                           <p>Install or obtain access to <a id="d64486e203" class="indexterm-anchor"></a>Oracle Database 12<span class="italic">c</span> Enterprise Edition with the Advanced Analytics option. To install the Database, see the installation instructions for your platform at <a href="../index.html"><code class="codeph">Oracle Database 12c Release 2</code></a>.
                           </p>
                        </li>
                        <li>
                           <p>Ensure that the <a id="d64486e219" class="indexterm-anchor"></a>sample schemas <a id="d64486e224" class="indexterm-anchor"></a>are installed in the database. The sample schemas are installed by default with Oracle Database. See <span><cite>Oracle Database Sample Schemas</cite></span>for details about the sample schemas.
                           </p>
                        </li>
                        <li>
                           <p>Verify that <a id="d64486e236" class="indexterm-anchor"></a>Oracle Database Examples has been installed with the database, or install it locally. <a id="d64486e241" class="indexterm-anchor"></a>Oracle Database Examples loads the Database sample programs into the <code class="codeph">rdbms/demo</code> directory under Oracle home. See <span><cite>Oracle Database Examples Installation Guide</cite></span>for installation instructions.
                           </p>
                        </li>
                        <li>
                           <p>Verify that a data mining <a id="d64486e256" class="indexterm-anchor"></a>user account has been created, or create it yourself if you have administrative privileges. See <span class="q">"Creating a Data Mining User"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Ask <a id="d64486e265" class="indexterm-anchor"></a>your system administrator to run <code class="codeph">dmshgrants.sql</code>, or run it yourself if you have administrative privileges. <code class="codeph">dmshgrants</code> grants the privileges that are required for running the sample programs. These include <code class="codeph">SELECT</code> access to tables in the <code class="codeph">SH</code> schema as described in <span class="q">"The Data Mining Sample Data"</span> and the system <a id="d64486e286" class="indexterm-anchor"></a>privileges listed in the following table.
                           </p>
                           <p>Pass the name of the data mining user to <code class="codeph">dmshgrants</code>. 
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT sys / as sysdba
Enter password: <span class="italic">sys_password</span>
Connected.
SQL&gt; @ $ORACLE_HOME/rdbms/demo/dmshgrants <span class="italic">dmuser</span></pre><div class="tblformal" id="GUID-7E1D837A-5C6F-462E-8909-2402D1670610__CHDBDEID">
                              <p class="titleintable">Table 29-1 System Privileges Granted by dmshgrants.sql to the Data Mining User</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="System Privileges Granted by dmshgrants.sql to the Data Mining User" summary="This table lists the system privileges required for running the data mining sample programs." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="33%" id="d64486e313">Privilege</th>
                                       <th align="left" valign="bottom" width="67%" id="d64486e316">Allows the data mining user to</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d64486e321" headers="d64486e313 ">
                                          <p><code class="codeph">CREATE SESSION</code></p>
                                       </td>
                                       <td align="left" valign="top" width="67%" headers="d64486e321 d64486e316 ">
                                          <p>log in to a database session</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d64486e329" headers="d64486e313 ">
                                          <p><code class="codeph">CREATE TABLE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="67%" headers="d64486e329 d64486e316 ">
                                          <p>create tables, such as the settings tables for <code class="codeph">CREATE_MODEL</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d64486e339" headers="d64486e313 ">
                                          <p><code class="codeph">CREATE VIEW</code></p>
                                       </td>
                                       <td align="left" valign="top" width="67%" headers="d64486e339 d64486e316 ">
                                          <p>create views, such as the views of tables in the <code class="codeph">SH</code> schema
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d64486e350" headers="d64486e313 ">
                                          <p><code class="codeph">CREATE MINING MODEL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="67%" headers="d64486e350 d64486e316 ">
                                          <p>create data mining models</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d64486e358" headers="d64486e313 ">
                                          <p><code class="codeph">EXECUTE ON ctxsys.ctx_ddl</code></p>
                                       </td>
                                       <td align="left" valign="top" width="67%" headers="d64486e358 d64486e316 ">
                                          <p>execute procedures in the <code class="codeph">ctxsys.ctx_ddl </code>PL/SQL package; required for text mining
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                        <li>
                           <p>Connect to the database as the data mining user and run <code class="codeph">dmsh.sql</code>. This script creates views of the sample data in the schema of the data mining user.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT dmuser
Enter password: <span class="italic">dmuser_password</span>
Connected.
SQL&gt; @ $ORACLE_HOME/rdbms/demo/dmsh</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../comsc/installing-sample-schemas.html#COMSC-GUID-1E645D09-F91F-4BA6-A286-57C5EC66321D"><span><cite>Oracle Database Sample Schemas</cite></span></a></li>
                        <li><a href="../exmpl/index.html#EXMPL-GUID-08474A8D-D3A5-4DF6-A920-3A17E87A1953"><span><cite>Oracle Database Examples Installation Guide</cite></span></a></li>
                        <li><a href="administrative-tasks.html#GUID-111C087D-1420-4AF4-BE53-E97DEFB95C14" title="Explains how to create a Data Mining user.">Creating a Data Mining User</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMPRG811"></a><a id="DMPRG810"></a><div class="props_rev_3"><a id="GUID-8E1C8A2F-4135-4F08-BCA8-FD0B057609AB" name="GUID-8E1C8A2F-4135-4F08-BCA8-FD0B057609AB"></a><h3 id="DMAPI-GUID-8E1C8A2F-4135-4F08-BCA8-FD0B057609AB" class="sect3"><span class="enumeration_section">29.3 </span>The Data Mining Sample Data
               </h3>
               <div>
                  <div class="section">
                     <p>The <a id="d64486e421" class="indexterm-anchor"></a>data used by the sample data mining programs is based on these tables in the <code class="codeph">SH</code> schema: 
                     </p><pre class="oac_no_warn" dir="ltr">SH.CUSTOMERS 
SH.SALES 
SH.PRODUCTS 
SH.SUPPLEMENTARY_DEMOGRAPHICS
SH.COUNTRIES 
</pre><p>The <code class="codeph">dmshgrants</code> script grants <code class="codeph">SELECT</code> access to the tables in <code class="codeph">SH</code>. The <code class="codeph">dmsh.sql</code> script <a id="d64486e445" class="indexterm-anchor"></a>creates views of the <code class="codeph">SH</code> tables in the schema of the data mining user. The views are described in the following table:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8E1C8A2F-4135-4F08-BCA8-FD0B057609AB__CHDBEGBI">
                     <p class="titleintable">Table 29-2 The Data Mining Sample Data</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="The Data Mining Sample Data" summary="This table lists the views created by dmsh.sql." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d64486e467">View Name</th>
                              <th align="left" valign="bottom" width="69%" id="d64486e470">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e475" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_DATA</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e475 d64486e470 ">
                                 <p>Joins and filters data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e483" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_DATA_BUILD_V</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e483 d64486e470 ">
                                 <p>Data for building models</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e491" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_DATA_TEST_V</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e491 d64486e470 ">
                                 <p>Data for testing models</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e499" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_DATA_APPLY_V</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e499 d64486e470 ">
                                 <p>Data to be scored</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e507" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_BUILD_TEXT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e507 d64486e470 ">
                                 <p>Data for building models that include text</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e515" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_TEST_TEXT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e515 d64486e470 ">
                                 <p>Data for testing models that include text</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e523" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_APPLY_TEXT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e523 d64486e470 ">
                                 <p>Data, including text columns, to be scored</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d64486e531" headers="d64486e467 ">
                                 <p><code class="codeph">MINING_DATA_ONE_CLASS_V</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d64486e531 d64486e470 ">
                                 <p>Data for anomaly detection</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The association rules program creates its own transactional data.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>