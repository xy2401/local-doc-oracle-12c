<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Learn how to create a table or view that can be used to build a model.">
      <meta name="description" content="Learn how to create a table or view that can be used to build a model.">
      <title>Preparing the Data</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Guide">
      <meta property="og:description" content="Learn how to create a table or view that can be used to build a model.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-12T08:52:48-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85759-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="data-mining-API.html" title="Previous" type="text/html">
      <link rel="next" href="transforming-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide">
    <meta name="dcterms.isVersionOf" content="DMAPI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-mining-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="transforming-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-data-mining-API.html" property="item" typeof="WebPage"><span property="name">Using the Data Mining API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Preparing the Data</li>
            </ol>
            <a id="GUID-E1AB599C-1921-4BD7-B06B-FC466180A460" name="GUID-E1AB599C-1921-4BD7-B06B-FC466180A460"></a><a id="DMPRG005"></a>
            
            <h2 id="DMAPI-GUID-E1AB599C-1921-4BD7-B06B-FC466180A460" class="sect2"><span class="enumeration_chapter">23 </span>Preparing the Data
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Learn how to create a table or view that can be used to build a model.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="preparing-data.html#GUID-4FFEFBBD-2785-48C8-8DBD-9127474B4431" title="Understand how data is stored and viewed for data mining.">Data Requirements</a></p>
                  </li>
                  <li>
                     <p><a href="preparing-data.html#GUID-7AAB55D5-6711-4BE5-A0CE-B2A6B68ED689" title="Data attributes are columns in the data set used to build, test, or score a model. Model attributes are the data representations used internally by the model. Understand what a target means in data mining and understand the different target data types.Explains numeric, categorical, and unstructured text attributes.">About Attributes</a></p>
                  </li>
                  <li>
                     <p><a href="preparing-data.html#GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" title="A join between the tables for one-to-many relationship is represented through nested columns.">Using Nested Data</a></p>
                  </li>
                  <li>
                     <p><a href="preparing-data.html#GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9" title="The example shows how to define a nested column for market basket analysis.">Using Market Basket Data</a></p>
                  </li>
                  <li>
                     <p><a href="preparing-data.html#GUID-DDB49C4B-B222-4F00-B00C-CA97B3057461" title="Retail analysis often makes use of Association Rules and Association models.">Using Retail Analysis Data</a></p>
                  </li>
                  <li>
                     <p><a href="preparing-data.html#GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B" title="Transform the missing data as sparse or missing at random.">Handling Missing Values</a></p>
                  </li>
               </ul>
            </div><a id="DMPRG148"></a><a id="DMPRG147"></a><div class="props_rev_3"><a id="GUID-4FFEFBBD-2785-48C8-8DBD-9127474B4431" name="GUID-4FFEFBBD-2785-48C8-8DBD-9127474B4431"></a><h3 id="DMAPI-GUID-4FFEFBBD-2785-48C8-8DBD-9127474B4431" class="sect3"><span class="enumeration_section">23.1 </span>Data Requirements
               </h3>
               <div>
                  <p>Understand how data is stored and viewed for data mining.</p>
                  <p>Data mining activities require data that is defined within a single table or view. The information for each record must be stored in a separate row. The data records are commonly called <strong class="term">cases</strong>. Each case can optionally be identified by a unique <a id="d26554e106" class="indexterm-anchor"></a><strong class="term">case ID</strong>. The table or view itself can be referred to as a <strong class="term">case table</strong>. 
                  </p>
                  <p>The <code class="codeph">CUSTOMERS</code> table in the <code class="codeph">SH</code> schema is an example of a table that could be used for mining. All the information for each customer is contained in a single row. The case ID is the <code class="codeph">CUST_ID</code> column. The rows listed in the following example are selected from <code class="codeph">SH.CUSTOMERS</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-4FFEFBBD-2785-48C8-8DBD-9127474B4431__GUID-04168881-A3CC-4AC5-8A5F-CB370B323F10">
                     <p class="notep1">Note:</p>
                     <p>Oracle Data Mining requires single-record <a id="d26554e134" class="indexterm-anchor"></a>case data for all types of models except association models, which can be built on native <a id="d26554e139" class="indexterm-anchor"></a>transactional data.
                     </p>
                  </div>
                  <div class="example" id="GUID-4FFEFBBD-2785-48C8-8DBD-9127474B4431__CHDCEGDA">
                     <p class="titleinexample">Example 23-1 Sample Case Table</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select cust_id, cust_gender, cust_year_of_birth, 
           cust_main_phone_number from sh.customers where cust_id &lt; 11;

CUST_ID CUST_GENDER CUST_YEAR_OF_BIRTH CUST_MAIN_PHONE_NUMBER
------- ----------- ---- ------------- -------------------------
1        M               1946          127-379-8954
2        F               1957          680-327-1419
3        M               1939          115-509-3391
4        M               1934          577-104-2792
5        M               1969          563-667-7731
6        F               1925          682-732-7260
7        F               1986          648-272-6181
8        F               1964          234-693-8728
9        F               1936          697-702-2618
10       F               1947          601-207-4099</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="preparing-data.html#GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9" title="The example shows how to define a nested column for market basket analysis.">Using Market Basket Data</a></li>
                     </ul>
                  </div>
               </div><a id="DMPRG149"></a><div class="props_rev_3"><a id="GUID-EF762287-DF15-4E65-8CDC-EF0BA002A550" name="GUID-EF762287-DF15-4E65-8CDC-EF0BA002A550"></a><h4 id="DMAPI-GUID-EF762287-DF15-4E65-8CDC-EF0BA002A550" class="sect4"><span class="enumeration_section">23.1.1 </span>Column Data Types
                  </h4>
                  <div>
                     <p>Understand the different types of column data in a case table.</p>
                     <div class="section">
                        <p>The columns of the case table hold the <a id="d26554e178" class="indexterm-anchor"></a>attributes that describe each case. In <a href="preparing-data.html#GUID-4FFEFBBD-2785-48C8-8DBD-9127474B4431__CHDCEGDA">Example 23-1</a>, the attributes are: <code class="codeph">CUST_GENDER</code>, <code class="codeph">CUST_YEAR_OF_BIRTH</code>, and <code class="codeph">CUST_MAIN_PHONE_NUMBER</code>. The attributes are the predictors in a supervised model or the descriptors in an unsupervised model. The <a id="d26554e195" class="indexterm-anchor"></a>case ID, <code class="codeph">CUST_ID</code>, can be viewed as a special attribute; it is not a predictor or a descriptor.
                        </p>
                        <p>Oracle Data Mining <a id="d26554e203" class="indexterm-anchor"></a>supports standard<a id="d26554e206" class="indexterm-anchor"></a> Oracle data type<a id="d26554e211" class="indexterm-anchor"></a>s as well as the following collection types:
                        </p>
                        <ul class="simple" style="list-style-type: none;padding-left:0;">
                           <li><code class="codeph">DM_NESTED_CATEGORICALS</code></li>
                           <li><code class="codeph">DM_NESTED_NUMERICALS</code></li>
                           <li><code class="codeph">DM_NESTED_BINARY_DOUBLES</code></li>
                           <li><code class="codeph">DM_NESTED_BINARY_FLOATS</code></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="preparing-data.html#GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" title="A join between the tables for one-to-many relationship is represented through nested columns.">Using Nested Data</a></li>
                           <li><a href="mining-unstructured-text.html#GUID-DC9371F7-B16A-43C7-A563-5C2016064E72" title="Explains how to use Oracle Data Mining to mine unstructured text.">Mining Unstructured Text</a></li>
                           <li><a href="../sqlrf/Data-Types.html#SQLRF30020"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG150"></a><div class="props_rev_3"><a id="GUID-BF9D9E25-0C81-4998-BD3D-163135364ACE" name="GUID-BF9D9E25-0C81-4998-BD3D-163135364ACE"></a><h4 id="DMAPI-GUID-BF9D9E25-0C81-4998-BD3D-163135364ACE" class="sect4"><span class="enumeration_section">23.1.2 </span>Data Sets for Classification and Regression
                  </h4>
                  <div>
                     <p>Understand how data sets are used for training and testing the model.</p>
                     <p>You need two case tables to build and validate <a id="d26554e273" class="indexterm-anchor"></a>classification and <a id="d26554e276" class="indexterm-anchor"></a>regression models. One set of rows is used for training the <a id="d26554e279" class="indexterm-anchor"></a>model, another set of rows is used for <a id="d26554e284" class="indexterm-anchor"></a>testing the model. It is often convenient to derive the <a id="d26554e289" class="indexterm-anchor"></a><a id="d26554e291" class="indexterm-anchor"></a><a id="d26554e294" class="indexterm-anchor"></a>build data and test data from the same data set. For example, you could randomly select 60% of the rows for training the model; the remaining 40% could be used for testing the model.
                     </p>
                     <p>Models that implement other mining functions, such as attribute importance, clustering, association, or feature extraction, do not use separate test data.</p>
                  </div>
               </div><a id="DMPRG749"></a><div class="props_rev_3"><a id="GUID-DA5FBB07-125D-4388-812D-AA1DE469FDE8" name="GUID-DA5FBB07-125D-4388-812D-AA1DE469FDE8"></a><h4 id="DMAPI-GUID-DA5FBB07-125D-4388-812D-AA1DE469FDE8" class="sect4"><span class="enumeration_section">23.1.3 </span>Scoring Requirements
                  </h4>
                  <div>
                     <p>Most data mining models can be applied to separate data in a process known as <strong class="term">scoring</strong>. Oracle Data Mining supports the scoring operation for <a id="d26554e330" class="indexterm-anchor"></a>classification, <a id="d26554e333" class="indexterm-anchor"></a>regression, <a id="d26554e336" class="indexterm-anchor"></a>anomaly detection, <a id="d26554e339" class="indexterm-anchor"></a>clustering, and <a id="d26554e343" class="indexterm-anchor"></a>feature extraction.
                     </p>
                     <p>The scoring process matches column names in the scoring data with the names of the columns that were used to build the model. The scoring process does not require all the columns to be present in the scoring data. If the data types do not match, Oracle Data Mining attempts to perform type coercion. For example, if a column called <code class="codeph">PRODUCT_RATING</code> is <code class="codeph">VARCHAR2</code> in the training data but <code class="codeph">NUMBER</code> in the scoring data, Oracle Data Mining effectively applies a <code class="codeph">TO_CHAR()</code> function to convert it.
                     </p>
                     <p>The column in the test or scoring data must undergo the same <a id="d26554e362" class="indexterm-anchor"></a>transformations as the corresponding column in the build data. For example, if the <code class="codeph">AGE</code> column in the build data was transformed from numbers to the values <code class="codeph">CHILD</code>, <code class="codeph">ADULT</code>, and <code class="codeph">SENIOR</code>, then the <code class="codeph">AGE</code> column in the scoring data must undergo the same transformation so that the model can properly evaluate it. 
                     </p>
                     <div class="infoboxnote" id="GUID-DA5FBB07-125D-4388-812D-AA1DE469FDE8__GUID-C48C48B8-3DBD-4CB1-9B3B-95E414B809D3">
                        <p class="notep1">Note:</p>
                        <p>Oracle Data Mining can embed user-specified <a id="d26554e384" class="indexterm-anchor"></a>transform<a id="d26554e389" class="indexterm-anchor"></a>ation instructions in the model and reapply them whenever the model is applied. When the transformation instructions are embedded in the model, you do not need to specify them for the test or scoring data sets.
                        </p>
                        <p>Oracle Data Mining also supports <a id="d26554e396" class="indexterm-anchor"></a>Automatic Data Preparation (ADP). When ADP is enabled, the transformations required by the algorithm are performed automatically and embedded in the model along with any user-specified transformations.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-DA5FBB07-125D-4388-812D-AA1DE469FDE8__GUID-0E895616-5F73-40D2-92D2-00DFBA513143">
                        <p class="notep1">See Also:</p>
                        <p><a href="transforming-data.html#GUID-C3FDDEC7-8CC9-4AC1-A6C3-75D91E26B703" title="Understand how to transform data for building a model or for scoring."> Transforming the Data</a> for more information on automatic and embedded data transformations
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DMPRG010"></a><div class="props_rev_3"><a id="GUID-7AAB55D5-6711-4BE5-A0CE-B2A6B68ED689" name="GUID-7AAB55D5-6711-4BE5-A0CE-B2A6B68ED689"></a><h3 id="DMAPI-GUID-7AAB55D5-6711-4BE5-A0CE-B2A6B68ED689" class="sect3"><span class="enumeration_section">23.2 </span>About Attributes
               </h3>
               <div>
                  <p>Attributes are the items of data that are used in data mining. In predictive models, <a id="d26554e431" class="indexterm-anchor"></a>attributes are the predictors that affect a given outcome. In descriptive models, attributes are the items of information being analyzed for natural groupings or associations. For example, a table of employee data that contains attributes such as job title, date of hire, salary, age, gender, and so on.
                  </p>
               </div><a id="DMPRG151"></a><div class="props_rev_3"><a id="GUID-8405FE39-5E03-4877-BA4F-90B040F9CAE4" name="GUID-8405FE39-5E03-4877-BA4F-90B040F9CAE4"></a><h4 id="DMAPI-GUID-8405FE39-5E03-4877-BA4F-90B040F9CAE4" class="sect4"><span class="enumeration_section">23.2.1 </span>Data Attributes and Model Attributes
                  </h4>
                  <div>
                     <p><strong class="term">Data attributes</strong> are columns in the data set used to build, test, or score a model. <strong class="term">Model attributes</strong> are the data representations used internally by the model. 
                     </p>
                     <p>Data attributes and model attributes can be the same. For example, a column called <code class="codeph">SIZE</code>, with values <code class="codeph">S</code>, <code class="codeph">M</code>, and <code class="codeph">L</code>, are attributes used by an algorithm to build a model. Internally, the model attribute <code class="codeph">SIZE</code> is most likely be the same as the data attribute from which it was derived. 
                     </p>
                     <p>On the other hand, a nested column <code class="codeph">SALES_PROD</code>, containing the sales figures for a group of products, does not correspond to a model attribute. The data attribute can be <code class="codeph">SALES_PROD</code>, but each product with its corresponding sales figure (each row in the nested column) is a model attribute.
                     </p>
                     <p>Transformations also cause a discrepancy between data attributes and model attributes. For example, a transformation can apply a calculation to two data attributes and store the result in a new attribute. The new attribute is a model attribute that has no corresponding data attribute. Other <a id="d26554e501" class="indexterm-anchor"></a>transformations such as binning, normalization, and outlier treatment, cause the model's representation of an attribute to be different from the data attribute in the case table.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="preparing-data.html#GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" title="A join between the tables for one-to-many relationship is represented through nested columns.">Using Nested Data</a></li>
                           <li><a href="transforming-data.html#GUID-C3FDDEC7-8CC9-4AC1-A6C3-75D91E26B703" title="Understand how to transform data for building a model or for scoring.">Transforming the Data</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-8405FE39-5E03-4877-BA4F-90B040F9CAE4__GUID-5BBE4E49-4E4D-45BE-AED3-EA17369460AE">
                        <p class="notep1">See Also:</p>
                     </div>
                  </div>
               </div><a id="DMPRG593"></a><a id="DMPRG152"></a><div class="props_rev_3"><a id="GUID-2070E844-B79E-464A-954B-A7401D773C07" name="GUID-2070E844-B79E-464A-954B-A7401D773C07"></a><h4 id="DMAPI-GUID-2070E844-B79E-464A-954B-A7401D773C07" class="sect4"><span class="enumeration_section">23.2.2 </span>Target Attribute
                  </h4>
                  <div>
                     <p>Understand what a <strong class="term">target</strong> means in data mining and understand the different target data types.
                     </p>
                     <p>The <strong class="term">target</strong> of a supervised model is a special kind of attribute. The <a id="d26554e553" class="indexterm-anchor"></a>target column in the training data contains the historical values used to train the model. The target column in the test data contains the historical values to which the predictions are compared. The act of scoring produces a prediction for the target.
                     </p>
                     <p>Clustering, Feature Extraction, Association, and Anomaly Detection models do not use a target. </p>
                     <p>Nested columns and columns of unstructured data (such as <code class="codeph">BFILE</code>, <code class="codeph">CLOB</code>, or <code class="codeph">BLOB</code>) cannot be used as targets. Target attributes must have a simple data type. 
                     </p>
                     <div class="tblformal" id="GUID-2070E844-B79E-464A-954B-A7401D773C07__CIHHHDBD">
                        <p class="titleintable">Table 23-1 Target Data Types</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Target Data Types" summary="Valid data types for target of Regression or Classification. Classification target can be varchar2, char, number, float, binary_double, binary_float. Regression can be number, float, binary_double, binary_float." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d26554e581">Mining Function</th>
                                 <th align="left" valign="bottom" width="69%" id="d26554e584">Target Data Types</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26554e589" headers="d26554e581 ">
                                    <p><a id="d26554e591" class="indexterm-anchor"></a>Classification
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26554e589 d26554e584 ">
                                    <p><code class="codeph">VARCHAR2</code>, <code class="codeph">CHAR</code></p>
                                    <p><code class="codeph">NUMBER</code>, <code class="codeph">FLOAT</code> 
                                    </p>
                                    <p><code class="codeph">BINARY_DOUBLE</code>, <code class="codeph">BINARY_FLOAT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d26554e615" headers="d26554e581 ">
                                    <p><a id="d26554e617" class="indexterm-anchor"></a>Regression
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d26554e615 d26554e584 ">
                                    <p><code class="codeph">NUMBER</code>, <code class="codeph">FLOAT</code></p>
                                    <p><code class="codeph">BINARY_DOUBLE</code>, <code class="codeph">BINARY_FLOAT</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>You can query the *<code class="codeph">_MINING_MODEL_ATTRIBUTES</code> view to find the target for a given model.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="data-mining-API.html#GUID-E18029D5-09BB-41CB-82BA-894A0528E5EF" title="Describes an example of ALL_MINING_MODEL_ATTRIBUTES and shows a sample query.">ALL_MINING_MODEL_ATTRIBUTES</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG153"></a><div class="props_rev_3"><a id="GUID-42A80070-F7BD-4FF2-972D-0C7AB7B14D82" name="GUID-42A80070-F7BD-4FF2-972D-0C7AB7B14D82"></a><h4 id="DMAPI-GUID-42A80070-F7BD-4FF2-972D-0C7AB7B14D82" class="sect4"><span class="enumeration_section">23.2.3 </span>Numericals, Categoricals, and Unstructured Text
                  </h4>
                  <div>
                     <p>Explains numeric, categorical, and unstructured text attributes. </p>
                     <p>Model <a id="d26554e672" class="indexterm-anchor"></a>attributes are <a id="d26554e677" class="indexterm-anchor"></a><a id="d26554e681" class="indexterm-anchor"></a>numerical, <a id="d26554e686" class="indexterm-anchor"></a><a id="d26554e690" class="indexterm-anchor"></a>categorical, or <a id="d26554e695" class="indexterm-anchor"></a>unstructured (<a id="d26554e701" class="indexterm-anchor"></a>text). Data attributes, which are columns in a case table, have Oracle data types, as described in <span class="q">"Column Data Types"</span>. 
                     </p>
                     <p>Numerical <a id="d26554e713" class="indexterm-anchor"></a>attributes can theoretically have an infinite number of values. The values have an implicit order, and the differences between them are also ordered. Oracle Data Mining interprets <code class="codeph">NUMBER</code>, <code class="codeph">FLOAT</code>, <code class="codeph">BINARY_DOUBLE</code>, <code class="codeph">BINARY_FLOAT</code>, <code class="codeph">DM_NESTED_NUMERICALS</code>, <code class="codeph">DM_NESTED_BINARY_DOUBLES</code>, and <code class="codeph">DM_NESTED_BINARY_FLOATS</code> as numerical. 
                     </p>
                     <p>Categorical <a id="d26554e742" class="indexterm-anchor"></a>attributes have values that identify a finite number of discrete categories or classes. There is no implicit order associated with the values. Some categoricals are binary: they have only two possible values, such as yes or no, or male or female. Other categoricals are multi-class: they have more than two values, such as small, medium, and large. 
                     </p>
                     <p>Oracle Data Mining interprets <code class="codeph">CHAR</code> and <code class="codeph">VARCHAR2</code> as categorical by default, however these columns may also be identified as columns of unstructured data (<a id="d26554e755" class="indexterm-anchor"></a>text). Oracle Data Mining interprets columns of <code class="codeph">DM_NESTED_CATEGORICALS</code> as categorical. Columns of <code class="codeph">CLOB</code>, <code class="codeph">BLOB</code>, and <code class="codeph">BFILE</code> always contain unstructured data. 
                     </p>
                     <p>The <a id="d26554e775" class="indexterm-anchor"></a>target of a classification model is categorical. (If the target of a classification model is numeric, it is interpreted as categorical.) The target of a regression model is numerical. The target of an attribute importance model is either categorical or numerical.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="preparing-data.html#GUID-EF762287-DF15-4E65-8CDC-EF0BA002A550" title="Understand the different types of column data in a case table.">Column Data Types</a></li>
                           <li><a href="mining-unstructured-text.html#GUID-DC9371F7-B16A-43C7-A563-5C2016064E72" title="Explains how to use Oracle Data Mining to mine unstructured text.">Mining Unstructured Text</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG154"></a><div class="props_rev_3"><a id="GUID-E7409D6B-83CA-4B01-A3FA-7740D25626E0" name="GUID-E7409D6B-83CA-4B01-A3FA-7740D25626E0"></a><h4 id="DMAPI-GUID-E7409D6B-83CA-4B01-A3FA-7740D25626E0" class="sect4"><span class="enumeration_section">23.2.4 </span>Model Signature
                  </h4>
                  <div>
                     <p>The <a id="d26554e813" class="indexterm-anchor"></a>model signature is the set of data attributes that are used to build a model. Some or all of the attributes in the signature must be present for scoring. The model accounts for any missing columns on a best-effort basis. If columns with the same names but different data types are present, the model attempts to convert the data type. If extra, unused columns are present, they are disregarded.
                     </p>
                     <p>The model signature does not necessarily include all the columns in the build data. Algorithm-specific criteria can cause the model to ignore certain columns. Other columns can be eliminated by transformations. Only the data attributes actually used to build the model are included in the signature.</p>
                     <p>The <a id="d26554e823" class="indexterm-anchor"></a>target and <a id="d26554e826" class="indexterm-anchor"></a>case ID columns are not included in the signature.
                     </p>
                  </div>
               </div><a id="DMPRG158"></a><a id="DMPRG157"></a><div class="props_rev_3"><a id="GUID-EF2FD24E-81A0-48A9-8AF9-391543373E57" name="GUID-EF2FD24E-81A0-48A9-8AF9-391543373E57"></a><h4 id="DMAPI-GUID-EF2FD24E-81A0-48A9-8AF9-391543373E57" class="sect4"><span class="enumeration_section">23.2.5 </span>Scoping of Model Attribute Name
                  </h4>
                  <div>
                     <p>The model <a id="d26554e850" class="indexterm-anchor"></a><a id="d26554e854" class="indexterm-anchor"></a>attribute name consists of two parts: a column name, and a subcolumn name.
                     </p><pre class="oac_no_warn" dir="ltr">column_name[.subcolumn_name]
</pre><p>The <code class="codeph">column_name</code> component is the name of the data attribute. It is present in all model attribute names. Nested attributes and text attributes also have a <code class="codeph">subcolumn_name</code> component as shown in the following example.
                     </p>
                     <div class="example" id="GUID-EF2FD24E-81A0-48A9-8AF9-391543373E57__BJEIGHIH">
                        <p class="titleinexample">Example 23-2 Model Attributes Derived from a Nested Column</p>
                        <p>The <a id="d26554e877" class="indexterm-anchor"></a>nested column <code class="codeph">SALESPROD</code> has three rows.
                        </p><pre class="oac_no_warn" dir="ltr">SALESPROD(ATTRIBUTE_NAME, VALUE)
--------------------------------
((PROD1, 300),
 (PROD2, 245),
 (PROD3, 679))
</pre><p>The name of the data attribute is <code class="codeph">SALESPROD</code>. Its associated model attributes are: 
                        </p><pre class="oac_no_warn" dir="ltr">SALESPROD.PROD1
SALESPROD.PROD2
SALESPROD.PROD3</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DMPRG160"></a><a id="DMPRG159"></a><div class="props_rev_3"><a id="GUID-B9F4ABD7-13B7-4CD3-8936-6B2AF7700155" name="GUID-B9F4ABD7-13B7-4CD3-8936-6B2AF7700155"></a><h4 id="DMAPI-GUID-B9F4ABD7-13B7-4CD3-8936-6B2AF7700155" class="sect4"><span class="enumeration_section">23.2.6 </span>Model Details
                  </h4>
                  <div>
                     <p><a id="d26554e915" class="indexterm-anchor"></a>Model details reveal information about model attributes and their treatment by the algorithm. There is a separate <code class="codeph">GET_MODEL_DETAILS</code> routine for each algorithm. Oracle recommends that users leverage the model detail views instead.
                     </p>
                     <p><a id="d26554e922" class="indexterm-anchor"></a><a id="d26554e924" class="indexterm-anchor"></a>Transformation and <a id="d26554e927" class="indexterm-anchor"></a>reverse transformation expressions are associated with model attributes. Transformations are applied to the data attributes before the algorithmic processing that creates the model. Reverse transformations are applied to the model attributes after the model has been built, so that the model details are expressed in the form of the original data attributes, or as close to it as possible.
                     </p>
                     <p>Reverse transformations support model <a id="d26554e932" class="indexterm-anchor"></a>transparency. They provide a view of the data that the algorithm is working with internally but in a format that is meaningful to a user. 
                     </p>
                     <p><a href="preparing-data.html#GUID-B9F4ABD7-13B7-4CD3-8936-6B2AF7700155__BJECAGCG">Example 23-3</a> shows the definition of the <code class="codeph">GET_MODEL_DETAILS</code> function for an Attribute Importance model.
                     </p>
                     <div class="example" id="GUID-B9F4ABD7-13B7-4CD3-8936-6B2AF7700155__BJECAGCG">
                        <p class="titleinexample">Example 23-3 Model Details for an Attribute Importance Model</p>
                        <p>The syntax of the <code class="codeph">GET_MODEL_DETAILS</code> function for <a id="d26554e949" class="indexterm-anchor"></a>Attribute Importance models is shown as follows.
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_DATA_MINING.GET_MODEL_DETAILS_AI (
             model_name             VARCHAR2)
RETURN DM_RANKED_ATTRIBUTES PIPELINED;
</pre><p>The function returns <code class="codeph">DM_RANKED_ATTRIBUTES</code>, a virtual table. The columns are the model details. There is one row for each model attribute in the specified model. The columns are described as follows.
                        </p><pre class="oac_no_warn" dir="ltr">attribute_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARCHAR2(4000)
attribute_subname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(4000)
importance_value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER
rank&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER(38)</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DMPRG006"></a><div class="props_rev_3"><a id="GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" name="GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44"></a><h3 id="DMAPI-GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" class="sect3"><span class="enumeration_section">23.3 </span>Using Nested Data
               </h3>
               <div>
                  <p>A join between the tables for one-to-many relationship is represented through nested columns.</p>
                  <div class="section">
                     <p><a id="d26554e983" class="indexterm-anchor"></a>Oracle Data Mining <a id="d26554e986" class="indexterm-anchor"></a>requires a case table in single-record case format, with each record in a separate row. What if some or all of your data is in multi-record case format, with each record in several rows? What if you want one attribute to represent a series or collection of values, such as a student's test scores or the products purchased by a customer?
                     </p>
                     <p>This kind of one-to-many relationship is usually implemented as a join between tables. For example, you can join your customer table to a sales table and thus associate a list of products purchased with each customer. </p>
                     <p>Oracle Data Mining supports dimensioned data through nested columns. To include dimensioned data in your case table, create a view and cast the joined data to one of the Data Mining nested table types. Each row in the nested column consists of an attribute name/value pair. Oracle Data Mining internally processes each nested row as a separate attribute. </p>
                     <div class="infoboxnote" id="GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44__GUID-5AAFC8C6-3D2B-4A7B-AD96-5306CC843D16">
                        <p class="notep1">Note:</p>
                        <p><a id="d26554e997" class="indexterm-anchor"></a>O-Cluster is the only algorithm that does not support nested data.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="preparing-data.html#GUID-F157D6D3-52E2-48BF-AABA-1226339DF510" title="The example shows how to define a nested column for market basket analysis.">Example: Creating a Nested Column for Market Basket Analysis</a></li>
                     </ul>
                  </div>
               </div><a id="DMPRG750"></a><a id="DMPRG162"></a><div class="props_rev_3"><a id="GUID-EE26B994-34FE-469F-934E-6989416F33FF" name="GUID-EE26B994-34FE-469F-934E-6989416F33FF"></a><h4 id="DMAPI-GUID-EE26B994-34FE-469F-934E-6989416F33FF" class="sect4"><span class="enumeration_section">23.3.1 </span>Nested Object Types
                  </h4>
                  <div>
                     <p>Nested tables are object data types that can be used in place of other data types.</p>
                     <div class="section">
                        <p>Oracle Database supports user-defined data types that make it possible to model real-world entities as objects in the database. <strong class="term">Collection types</strong> are object data types for modeling multi-valued attributes. Nested tables are collection types. Nested tables can be used anywhere that other data types can be used. 
                        </p>
                        <p>Oracle Data Mining supports the following nested object types: </p>
                        <ul class="simple" style="list-style-type: none;padding-left:0;">
                           <li><code class="codeph">DM_NESTED_BINARY_DOUBLES</code></li>
                           <li><code class="codeph">DM_NESTED_BINARY_FLOATS</code></li>
                           <li><code class="codeph">DM_NESTED_NUMERICALS</code></li>
                           <li><code class="codeph">DM_NESTED_CATEGORICALS</code></li>
                        </ul>
                        <p>Descriptions of the nested types are provided in this example.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EE26B994-34FE-469F-934E-6989416F33FF__CIHHCECA">
                        <p class="titleinexample">Example 23-4 Oracle Data Mining Nested Data Types</p><pre class="oac_no_warn" dir="ltr">
describe <span class="bold">dm_nested_binary_double</span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              BINARY_DOUBLE

describe <span class="bold">dm_nested_binary_doubles</span>
 DM_NESTED_BINARY_DOUBLES TABLE OF SYS.DM_NESTED_BINARY_DOUBLE
 Name                                       Null?    Type
 ------------------------------------------ -------- ---------------------------
 ATTRIBUTE_NAME                                      VARCHAR2(4000)
 VALUE                                               BINARY_DOUBLE

describe <span class="bold"><code class="codeph">dm_nested_binary_float</code></span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ---------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              BINARY_FLOAT
 
describe <span class="bold"><code class="codeph">dm_nested_binary_floats</code></span>
 DM_NESTED_BINARY_FLOATS TABLE OF SYS.DM_NESTED_BINARY_FLOAT
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              BINARY_FLOAT

describe <span class="bold"><code class="codeph">dm_nested_numerical</code></span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              NUMBER
 
describe <span class="bold"><code class="codeph">dm_nested_numericals</code></span>
 DM_NESTED_NUMERICALS TABLE OF SYS.DM_NESTED_NUMERICAL
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              NUMBER

describe <span class="bold"><code class="codeph">dm_nested_categorical</code></span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              VARCHAR2(4000)
 
describe <span class="bold"><code class="codeph">dm_nested_categoricals</code></span>
 DM_NESTED_CATEGORICALS TABLE OF SYS.DM_NESTED_CATEGORICAL
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              VARCHAR2(4000)</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../adobj/support-for-collection-data-types.html#ADOBJ00204"><span><cite>Oracle Database Object-Relational Developer's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG166"></a><a id="DMPRG167"></a><a id="DMPRG168"></a><a id="DMPRG165"></a><div class="props_rev_3"><a id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA" name="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA"></a><h4 id="DMAPI-GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA" class="sect4"><span class="enumeration_section">23.3.2 </span>Example: Transforming Transactional Data for Mining
                  </h4>
                  <div>
                     <div class="section">
                        <p><a href="preparing-data.html#GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBHBDBD">Example 23-5</a> shows data from a view of a sales table. <a id="d26554e1131" class="indexterm-anchor"></a>It <a id="d26554e1134" class="indexterm-anchor"></a>includes <a id="d26554e1137" class="indexterm-anchor"></a>sales for three of the many products sold in four regions. This data is not suitable for mining at the product level because sales for each case (product), is stored in <a id="d26554e1142" class="indexterm-anchor"></a>several rows.
                        </p>
                        <p><a href="preparing-data.html#GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBDHCDI">Example 23-6</a> shows how this data can be transformed for mining. The case ID column is <code class="codeph">PRODUCT</code>. <code class="codeph">SALES_PER_REGION</code>, a nested column of type <code class="codeph">DM_NESTED_NUMERICALS</code>, is a data attribute. This table is suitable for mining at the product case level, because the information for each case is stored in a single row.
                        </p>
                        <div class="p">Oracle Data Mining treats each nested row as a separate model attribute, as shown in <a href="preparing-data.html#GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BABHHCFF">Example 23-7</a>. 
                           <div class="infoboxnote" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__GUID-561E491A-EF7D-4D80-BDF8-386292D9905A">
                              <p class="notep1">Note:</p>
                              <p>The presentation in this example is conceptual only. The data is not actually pivoted before being processed.</p>
                           </div>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBHBDBD">
                        <p class="titleinexample">Example 23-5 Product Sales per Region in Multi-Record Case Format</p><pre class="oac_no_warn" dir="ltr">PRODUCT   REGION         SALES
-------   --------   ----------
Prod1       NE           556432
Prod2       NE           670155
Prod3       NE             3111
.
.
Prod1       NW            90887
Prod2       NW           100999
Prod3       NW           750437
.
.
Prod1       SE            82153
Prod2       SE            57322
Prod3       SE            28938
.
.
Prod1       SW          3297551
Prod2       SW          4972019
Prod3       SW           884923
.
.
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBDHCDI">
                        <p class="titleinexample">Example 23-6 Product Sales per Region in Single-Record Case Format</p><pre class="oac_no_warn" dir="ltr">PRODUCT      SALES_PER_REGION
          (ATTRIBUTE_NAME, VALUE)
------    --------------------------
Prod1      ('NE' ,     556432)
           ('NW' ,      90887)
           ('SE' ,      82153)
           ('SW' ,    3297551)
Prod2      ('NE' ,     670155)
           ('NW' ,     100999)
           ('SE' ,      57322)
           ('SW' ,    4972019)
Prod3      ('NE' ,       3111)
           ('NW' ,     750437)
           ('SE' ,      28938)
           ('SW' ,     884923)
.
.
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BABHHCFF">
                        <p class="titleinexample">Example 23-7 Model Attributes Derived From SALES_PER_REGION</p><pre class="oac_no_warn" dir="ltr">PRODUCT    SALES_PER_REGION.NE    SALES_PER_REGION.NW    SALES_PER_REGION.SE    SALES_PER_REGION.SW   
-------    ------------------    -------------------    ------------------    -------------------
Prod1                 556432                 90887                  82153                3297551
Prod2                 670155                100999                  57322                4972019
Prod3                   3111                 750437                 28938                 884923
.
.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DMPRG171"></a><div class="props_rev_3"><a id="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9" name="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9"></a><h3 id="DMAPI-GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9" class="sect3"><span class="enumeration_section">23.4 </span>Using Market Basket Data
               </h3>
               <div>
                  <p>Mark<a id="d26554e1203" class="indexterm-anchor"></a>et <a id="d26554e1208" class="indexterm-anchor"></a>basket data identifies the items sold in a set of baskets or transactions. Oracle Data Mining provides the association mining function for market basket analysis. 
                  </p>
                  <p>Association models use the <a id="d26554e1213" class="indexterm-anchor"></a>Apriori algorithm to generate association rules that describe how items tend to be purchased in groups. For example, an association rule can assert that people who buy peanut butter are 80% likely to also buy jelly.
                  </p>
                  <p>Market basket data is usually <strong class="term">transactional</strong>. In transactional <a id="d26554e1221" class="indexterm-anchor"></a>data, a case is a transaction and the data for a transaction is stored in multiple rows. Oracle Data Mining association models can be built on transactional data or on single-record case data. The <code class="codeph">ODMS_ITEM_ID_COLUMN_NAME</code> and <code class="codeph">ODMS_ITEM_VALUE_COLUMN_NAME</code> settings specify whether the data for association rules is in transactional format.
                  </p>
                  <div class="infoboxnote" id="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9__GUID-D4FC1943-78CA-4EFC-B6FC-177A8FA9912A">
                     <p class="notep1">Note:</p>
                     <p>Association models are the only type of model that can be built on native transactional data. For all other types of models, Oracle Data Mining requires that the data be presented in single-record case format.</p>
                  </div>
                  <p>The Apriori algorithm assumes that the data is transactional and that it has many missing values. Apriori interprets all missing values as sparse data, and it has its own native mechanisms for handling sparse data.</p>
                  <div class="infoboxnotealso" id="GUID-3F224CB0-5550-4E9D-B90F-3BB71C43FAE9__GUID-ED76BA0D-574C-4BD8-A046-FB8F5D714C82">
                     <p class="notep1">See Also:</p>
                     <p><a href="DBMS_DATA_MINING.html#ARPLS617"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the <code class="codeph">ODMS_ITEM_ID_COLUMN_NAME</code> and <code class="codeph">ODMS_ITEM_VALUE_COLUMN_NAME</code> settings.
                     </p>
                  </div>
               </div><a id="DMPRG170"></a><a id="DMPRG169"></a><div class="props_rev_3"><a id="GUID-F157D6D3-52E2-48BF-AABA-1226339DF510" name="GUID-F157D6D3-52E2-48BF-AABA-1226339DF510"></a><h4 id="DMAPI-GUID-F157D6D3-52E2-48BF-AABA-1226339DF510" class="sect4"><span class="enumeration_section">23.4.1 </span>Example: Creating a Nested Column for Market Basket Analysis
                  </h4>
                  <div>
                     <p>The example shows how to define a nested column for market basket analysis.</p>
                     <div class="section">
                        <p>Association models can be built on native transactional data or on nested data. The following example shows how to define a nested column for market basket analysis.</p>
                        <p>The following SQL statement transforms this data to a column of type <code class="codeph">DM_NESTED_NUMERICALS</code> in a view called <code class="codeph">SALES_TRANS_CUST_NESTED</code>. This view can be used as a case table for mining. 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW sales_trans_cust_nested AS
             SELECT trans_id,
                     CAST(COLLECT(<span class="bold"><code class="codeph">DM_NESTED_NUMERICAL</code></span>(
                     prod_name, 1))
                     AS <span class="bold"><code class="codeph">DM_NESTED_NUMERICALS</code></span>) custprods
                  FROM sales_trans_cust
             GROUP BY trans_id;
</pre><p>This query returns two rows from the transformed data.</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales_trans_cust_nested 
               WHERE trans_id &lt; 101000
               AND trans_id &gt; 100997;
 
TRANS_ID  CUSTPRODS(ATTRIBUTE_NAME, VALUE)
-------  ------------------------------------------------
100998   DM_NESTED_NUMERICALS
          (DM_NESTED_NUMERICAL('O/S Documentation Set - English', 1)
100999   DM_NESTED_NUMERICALS
          (DM_NESTED_NUMERICAL('CD-RW, High Speed Pack of 5', 1),
           DM_NESTED_NUMERICAL('External 8X CD-ROM', 1), 
           DM_NESTED_NUMERICAL('SIMM- 16MB PCMCIAII card', 1))</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F157D6D3-52E2-48BF-AABA-1226339DF510__BJECGFEB">
                        <p class="titleinexample">Example 23-8 Convert to a Nested Column</p>
                        <p>The view <code class="codeph">SALES_TRANS_CUST</code> provides a list of transaction IDs to identify each market basket and a list of the products in each basket.
                        </p><pre class="oac_no_warn" dir="ltr">describe sales_trans_cust
 Name                                                  Null?    Type
 ----------------------------------------------------- -------- ----------------
 TRANS_ID                                              NOT NULL NUMBER
 PROD_NAME                                             NOT NULL VARCHAR2(50)
 QUANTITY                                                       NUMBER
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="preparing-data.html#GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B" title="Transform the missing data as sparse or missing at random.">Handling Missing Values</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-DDB49C4B-B222-4F00-B00C-CA97B3057461" name="GUID-DDB49C4B-B222-4F00-B00C-CA97B3057461"></a><h3 id="DMAPI-GUID-DDB49C4B-B222-4F00-B00C-CA97B3057461" class="sect3"><span class="enumeration_section">23.5 </span>Using Retail Analysis Data
               </h3>
               <div>
                  <p>Retail analysis often makes use of Association Rules and Association models.</p>
                  <p>The Association Rules are enhanced to calculate aggregates along with rules or itemsets. </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../dmcon/apriori.html#DMCON-GUID-306942EA-B80E-44C4-B060-AD9C2B024984"><span><cite>Oracle Data Mining Concepts</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMPRG015"></a><div class="props_rev_3"><a id="GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B" name="GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B"></a><h3 id="DMAPI-GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B" class="sect3"><span class="enumeration_section">23.6 </span>Handling Missing Values
               </h3>
               <div>
                  <div class="section">
                     <p>Oracle Data Mining distinguishes between <a id="d26554e1377" class="indexterm-anchor"></a><strong class="term">sparse data</strong> and <a id="d26554e1382" class="indexterm-anchor"></a>data that contains <a id="d26554e1385" class="indexterm-anchor"></a><strong class="term">random missing values</strong>. The latter means that some attribute values are unknown. <a id="d26554e1392" class="indexterm-anchor"></a>Sparse <a id="d26554e1398" class="indexterm-anchor"></a>data, on the other hand, contains values that are assumed to be known, although they are not represented in the data. 
                     </p>
                     <p>A typical example of sparse data is market basket data. Out of hundreds or thousands of available items, only a few are present in an individual case (the basket or transaction). All the item values are known, but they are not all included in the basket. Present values have a quantity, while the items that are not represented are sparse (with a known quantity of zero).</p>
                     <p>Oracle Data Mining interprets missing data as follows:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Missing at random: Missing values in columns with a simple data type (not nested) are assumed to be missing at random.</p>
                        </li>
                        <li>
                           <p>Sparse: Missing values in nested columns indicate sparsity.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DMPRG173"></a><div class="props_rev_3"><a id="GUID-0F6601BB-2F67-43CF-A46D-38C52D189D12" name="GUID-0F6601BB-2F67-43CF-A46D-38C52D189D12"></a><h4 id="DMAPI-GUID-0F6601BB-2F67-43CF-A46D-38C52D189D12" class="sect4"><span class="enumeration_section">23.6.1 </span>Examples: Missing Values or Sparse Data?
                  </h4>
                  <div>
                     <p>The examples in this section illustrate how Oracle Data Mining identifies data as either sparse or missing at random.</p>
                  </div><a id="DMPRG174"></a><div class="props_rev_3"><a id="GUID-4DD89AED-B0F0-4D7D-A22C-730D55446AFF" name="GUID-4DD89AED-B0F0-4D7D-A22C-730D55446AFF"></a><h5 id="DMAPI-GUID-4DD89AED-B0F0-4D7D-A22C-730D55446AFF" class="sect5"><span class="enumeration_section">23.6.1.1 </span>Sparsity in a Sales Table
                     </h5>
                     <div>
                        <p>A sales table contains point-of-sale data for a group of products that are sold in several stores to different customers over a period of time. A particular customer buys only a few of the products. The products that the customer does not buy do not appear as rows in the sales table. </p>
                        <p>If you were to figure out the amount of money a customer has spent for each product, the unpurchased products have an inferred amount of zero. The value is not random or unknown; it is zero, even though no row appears in the table.</p>
                        <p>Note that the sales data is dimensioned (by product, stores, customers, and time) and are often represented as nested data for mining.</p>
                        <p>Since missing values in a nested column always indicate sparsity, you must ensure that this interpretation is appropriate for the data that you want to mine. For example, when trying to mine a multi-record case data set containing movie ratings from users of a large movie database, the missing ratings are unknown (missing at random), but Oracle Data Mining treats the data as sparse and infer a rating of zero for the missing value.</p>
                     </div>
                  </div><a id="DMPRG175"></a><div class="props_rev_3"><a id="GUID-DD86A557-4E44-40F7-97AD-14A0B87BE5E9" name="GUID-DD86A557-4E44-40F7-97AD-14A0B87BE5E9"></a><h5 id="DMAPI-GUID-DD86A557-4E44-40F7-97AD-14A0B87BE5E9" class="sect5"><span class="enumeration_section">23.6.1.2 </span>Missing Values in a Table of Customer Data
                     </h5>
                     <div>
                        <p>A table of customer data contains demographic data about customers. The case ID column is the customer ID. The attributes are age, education, profession, gender, house-hold size, and so on. Not all the data is available for each customer. Any missing values are considered to be missing at random. For example, if the age of customer 1 and the profession of customer 2 are not present in the data, that information is simply unknown. It does not indicate sparsity.</p>
                        <p>Note that the customer data is not dimensioned. There is a one-to-one mapping between the case and each of its attributes. None of the attributes are nested.</p>
                     </div>
                  </div>
               </div><a id="DMPRG177"></a><a id="DMPRG176"></a><div class="props_rev_3"><a id="GUID-EA58C334-854F-443C-BFAA-154598ECD6C2" name="GUID-EA58C334-854F-443C-BFAA-154598ECD6C2"></a><h4 id="DMAPI-GUID-EA58C334-854F-443C-BFAA-154598ECD6C2" class="sect4"><span class="enumeration_section">23.6.2 </span>Missing Value Treatment in Oracle Data Mining
                  </h4>
                  <div>
                     <p>Missing value treatment depends on the algorithm and on the nature of the data (categorical or numerical, sparse or missing at random). Missing value treatment is summarized in the following table.</p>
                     <div class="infoboxnote" id="GUID-EA58C334-854F-443C-BFAA-154598ECD6C2__GUID-821A23B2-06FD-4A2A-BA86-D4E8EEEFE9F7">
                        <p class="notep1">Note:</p>
                        <p>Oracle Data Mining performs the same missing value treatment whether or not Automatic Data Preparation is being used. </p>
                     </div>
                     <div class="tblformal" id="GUID-EA58C334-854F-443C-BFAA-154598ECD6C2__BABIGEII">
                        <p class="titleintable">Table 23-2 Missing Value Treatment by Algorithm</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Missing Value Treatment by Algorithm" summary="ODM treatment of sparse data and missing values." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d26554e1523">Missing Data </th>
                                 <th align="left" valign="bottom" width="36%" id="d26554e1526">EM, GLM, NMF, k-Means, SVD, SVM </th>
                                 <th align="left" valign="bottom" width="28%" id="d26554e1529">DT, MDL, NB, OC</th>
                                 <th align="left" valign="bottom" width="20%" id="d26554e1532">Apriori</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d26554e1537" headers="d26554e1523 ">
                                    <p>NUMERICAL missing at random</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d26554e1537 d26554e1526 ">
                                    <p>The algorithm replaces missing numerical values with the mean. </p>
                                    <p>For Expectation Maximization (EM), the replacement only occurs in columns that are modeled with Gaussian distributions.</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d26554e1537 d26554e1529 ">
                                    <p>The algorith<a id="d26554e1548" class="indexterm-anchor"></a>m handles missing values naturally as missing at random. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d26554e1537 d26554e1532 ">
                                    <p>The algorithm interprets all missing data as sparse.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d26554e1555" headers="d26554e1523 ">
                                    <p>CATEGORICAL missing at random</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d26554e1555 d26554e1526 ">
                                    <p>Genelized Linear Models (GLM), Non-Negative Matrix Factorization (NMF), <span class="italic">k</span>-Means, and Support Vector Machine (SVM) replaces missing categorical values with the mode. 
                                    </p>
                                    <p>Singular Value Decomposition (SVD) does not support categorical data.</p>
                                    <p>EM does not replace missing categorical values. EM treats NULLs as a distinct value with its own frequency count.</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d26554e1555 d26554e1529 ">
                                    <p>The algorithm handles missing values naturally as missing random.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d26554e1555 d26554e1532 ">
                                    <p>The algorithm interprets all missing data as sparse.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d26554e1575" headers="d26554e1523 ">
                                    <p>NUMERICAL sparse</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d26554e1575 d26554e1526 ">
                                    <p>The algorithm replaces sparse numerical data with zeros.</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d26554e1575 d26554e1529 ">
                                    <p>O-Cluster does not support nested data and therefore does not support sparse data. Decision Tree (DT), Minimum Description Length (MDL), and Naive Bayes (NB) and replace sparse numerical data with zeros.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d26554e1575 d26554e1532 ">
                                    <p>The algorithm handles sparse data.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d26554e1588" headers="d26554e1523 ">
                                    <p>CATEGORICAL sparse</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d26554e1588 d26554e1526 ">
                                    <p>All algorithms except SVD replace sparse categorical data with zero vectors. SVD does not support categorical data.</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d26554e1588 d26554e1529 ">
                                    <p>O-Cluster does not support nested data and therefore does not support sparse data. DT, MDL, and NB replace sparse categorical data with the special value <code class="codeph">DM$SPARSE</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d26554e1588 d26554e1532 ">
                                    <p>The algorithm handles sparse data.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DMPRG178"></a><div class="props_rev_3"><a id="GUID-6606FF81-78CB-4C06-B698-C97CE85B1EE0" name="GUID-6606FF81-78CB-4C06-B698-C97CE85B1EE0"></a><h4 id="DMAPI-GUID-6606FF81-78CB-4C06-B698-C97CE85B1EE0" class="sect4"><span class="enumeration_section">23.6.3 </span>Changing the Missing Value Treatment
                  </h4>
                  <div>
                     <p>Transform the missing data as sparse or missing at random. </p>
                     <div class="section">
                        <p>If you want Oracle Data Mining to treat missing data as sparse instead of missing at random or missing at random instead of sparse, transform it before building the model. </p>
                        <p>If you want missing values to be treated as sparse, but Oracle Data Mining interprets them as missing at random, you can use a SQL function like <code class="codeph">NVL</code> to replace the nulls with a value such as "NA". Oracle Data Mining does not perform missing value treatment when there is a specified value. 
                        </p>
                        <p>If you want missing nested attributes to be treated as missing at random, you can transform the nested rows into physical attributes in separate columns  as long as the case table stays within the 1000 column limitation imposed by the Database. Fill in all of the possible attribute names, and specify them as null. Alternatively, insert rows in the nested column for all the items that are not present and assign a value such as the mean or mode to each one.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../sqlrf/NVL.html#SQLRF00684"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>