<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Lists and describes OCI messaging functions.">
      <meta name="description" content="Lists and describes OCI messaging functions.">
      <title>OCI Messaging Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Lists and describes OCI messaging functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-09T15:29:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85621-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="oci-character-set-conversion-functions.html" title="Previous" type="text/html">
      <link rel="next" href="oci-xml-databse-functions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-character-set-conversion-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oci-xml-databse-functions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-globalization-support-functions.html" property="item" typeof="WebPage"><span property="name"> OCI Globalization Support Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI Messaging Functions</li>
            </ol>
            <a id="GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE" name="GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE"></a>
            
            <h2 id="LNOCI-GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE" class="sect2"><span class="enumeration_section">23.7 </span>OCI Messaging Functions
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Lists and describes OCI messaging functions.</p>
               <div class="section">
                  <p>The user message API provides a simple interface for cartridge developers to retrieve their own messages and Oracle Database messages.</p>
                  <div class="infoboxnotealso" id="GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE__GUID-726D1B60-FF88-4224-994A-E09D49749D13">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=ADDCI4272"><span><cite>Oracle Database Data Cartridge Developer's Guide</cite></span></a></p>
                  </div>
                  <p> <a href="oci-messaging-functions.html#GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE__G568734" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 23-7</a> lists the OCI messaging functions that are described in this section.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE__G568734">
                  <p class="titleintable">Table 23-7 OCI Messaging Functions </p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI Messaging Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="59%" id="d305111e34">Function</th>
                           <th align="left" valign="bottom" width="41%" id="d305111e37">Purpose</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="59%" id="d305111e42" headers="d305111e34 ">
                              <p><a href="oci-messaging-functions.html#GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C" title="Closes a message handle and frees any memory associated with this handle.">OCIMessageClose()</a></p>
                           </td>
                           <td align="left" valign="top" width="41%" headers="d305111e42 d305111e37 ">
                              <p>Close a message handle and free any memory associated with the handle</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="59%" id="d305111e54" headers="d305111e34 ">
                              <p><a href="oci-messaging-functions.html#GUID-50AE92D5-A410-4E39-B87E-E816F24204CE" title="Gets a message with the given message number.">OCIMessageGet()</a></p>
                           </td>
                           <td align="left" valign="top" width="41%" headers="d305111e54 d305111e37 ">
                              <p>Retrieve a message. If the buffer is not zero, then the function copies the message into the buffer</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="59%" id="d305111e66" headers="d305111e34 ">
                              <p><a href="oci-messaging-functions.html#GUID-94320321-ABD7-4FF1-9387-398490AE91C8" title="Opens a message-handling facility in a specified language.">OCIMessageOpen()</a></p>
                           </td>
                           <td align="left" valign="top" width="41%" headers="d305111e66 d305111e37 ">
                              <p>Open a message handle in a specified language</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17691"></a><div class="props_rev_3"><a id="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C" name="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C"></a><h3 id="LNOCI-GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C" class="sect3"><span class="enumeration_section">23.7.1 </span>OCIMessageClose()
               </h3>
               <div>
                  <p>Closes a message handle and frees any memory associated with this handle.</p>
                  <div class="section">
                     <p class="subhead2">Purpose</p>
                     <p>Closes a message handle and frees any memory associated with this handle.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIMessageClose ( void      *hndl, 
                        OCIError  *errhp, 
                        OCIMsg    *msgh );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C__GUID-5D0F9A09-8D86-47B1-A501-504E33BE8662">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>Pointer to an OCI environment or user session handle for the message language.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C__GUID-B72C0F47-5899-4E73-8080-9BEF44D0AF87">
                              <!-- --></a>errhp (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, then it is recorded in <code class="codeph">errhp</code>, and the function returns a <code class="codeph">NULL</code> pointer. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C__GUID-3E86A0D7-23A0-4B3C-BA1B-B531B10D74A0">
                              <!-- --></a>msgh (IN/OUT)
                        </dt>
                        <dd>
                           <p>A pointer to a message handle that was previously opened by <code class="codeph">OCIMessageOpen()</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-messaging-functions.html#GUID-94320321-ABD7-4FF1-9387-398490AE91C8" title="Opens a message-handling facility in a specified language.">OCIMessageOpen()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17692"></a><div class="props_rev_3"><a id="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE" name="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE"></a><h3 id="LNOCI-GUID-50AE92D5-A410-4E39-B87E-E816F24204CE" class="sect3"><span class="enumeration_section">23.7.2 </span>OCIMessageGet()
               </h3>
               <div>
                  <p>Gets a message with the given message number. </p>
                  <div class="section">
                     <p class="subhead2">Purpose</p>
                     <p>Gets a message with the given message number. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p><pre class="oac_no_warn" dir="ltr">OraText *OCIMessageGet ( OCIMsg      *msgh, 
                         ub4          msgno, 
                         OraText     *msgbuf, 
                         size_t       buflen );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-1DC6D5D8-08C2-4D3A-9FF5-32A45D4B6ED0">
                              <!-- --></a>msgh (IN/OUT)
                        </dt>
                        <dd>
                           <p>Pointer to a message handle that was previously opened by <code class="codeph">OCIMessageOpen()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-A85F747C-0962-41E4-AA33-AC2F1BED3614">
                              <!-- --></a>msgno (IN)
                        </dt>
                        <dd>
                           <p>The message number.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-50FB8620-2E1F-4FCF-A85B-F1704CE38E27">
                              <!-- --></a>msgbuf (OUT)
                        </dt>
                        <dd>
                           <p>Pointer to a destination buffer for the retrieved message. If <code class="codeph">buflen</code> is zero, then it can be a <code class="codeph">NULL</code> pointer.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-A782126A-13D5-4AFF-A98C-4A74C25338C7">
                              <!-- --></a>buflen (IN)
                        </dt>
                        <dd>
                           <p>The size of the destination buffer.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Comments</p>
                     <p>If <code class="codeph">buflen</code> is not zero, then the function copies the message into the buffer pointed to by <code class="codeph">msgbuf</code>. If <code class="codeph">buflen</code> is zero, then the message is copied into a message buffer inside the message handle pointed to by <code class="codeph">msgh</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Returns</p>
                     <p>It returns the pointer to the <code class="codeph">NULL</code>-terminated message string. If the translated message cannot be found, then it tries to return the equivalent English message. If the equivalent English message cannot be found, then it returns a <code class="codeph">NULL</code> pointer.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-messaging-functions.html#GUID-94320321-ABD7-4FF1-9387-398490AE91C8" title="Opens a message-handling facility in a specified language.">OCIMessageOpen()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17693"></a><div class="props_rev_3"><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8" name="GUID-94320321-ABD7-4FF1-9387-398490AE91C8"></a><h3 id="LNOCI-GUID-94320321-ABD7-4FF1-9387-398490AE91C8" class="sect3"><span class="enumeration_section">23.7.3 </span>OCIMessageOpen()
               </h3>
               <div>
                  <p>Opens a message-handling facility in a specified language. </p>
                  <div class="section">
                     <p class="subhead2">Purpose</p>
                     <p>Opens a message-handling facility in a specified language. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIMessageOpen ( void             *hndl, 
                       OCIError         *errhp, 
                       OCIMsg           *msghp, 
                       const OraText    *product, 
                       const OraText    *facility, 
                       OCIDuration       dur );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-F91F7F61-863E-4D3F-87F4-3BA64B41F589">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>Pointer to an OCI environment or user session handle for the message language.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-F21055AF-D116-4A76-A81D-EF6D090207E0">
                              <!-- --></a>errhp (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, then it is recorded in <code class="codeph">errhp</code>, and the function returns a <code class="codeph">NULL</code> pointer. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-A8DFE542-AB65-4349-AC92-0700C06B257B">
                              <!-- --></a>msghp (OUT)
                        </dt>
                        <dd>
                           <p>A message handle for return.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-2BAB9D05-6929-452D-82D9-0B8947C7D601">
                              <!-- --></a>product (IN)
                        </dt>
                        <dd>
                           <p>A pointer to a product name. The product name is used to locate the directory for messages. Its location depends on the operating system. For example, in Solaris, the directory of message files for the <code class="codeph">rdbms</code> product is <code class="codeph">$ORACLE_HOME/rdbms</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-DDC8C598-2B10-42DE-9B2B-F7FB088EDEC1">
                              <!-- --></a>facility (IN)
                        </dt>
                        <dd>
                           <p>A pointer to a facility name in the product. It is used to construct a message file name. A message file name follows the conversion with <code class="codeph">facility</code> as prefix. For example, the message file name for the <code class="codeph">img</code> facility in the American language is <code class="codeph">imgus.msb</code>, where <code class="codeph">us</code> is the abbreviation for the American language and <code class="codeph">msb</code> is the message binary file extension.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-3B93D572-9FE6-40EE-8A49-A7CBA2629DCD">
                              <!-- --></a>dur (IN)
                        </dt>
                        <dd>
                           <p>The duration for memory allocation for the return message handle. It can have the following values:</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_DURATION_PROCESS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_SESSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_STATEMENT</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Comments</p>
                     <p><code class="codeph">OCIMessageOpen()</code> first tries to open the message file corresponding to <code class="codeph">hndl</code>. If it succeeds, then it uses that file to initialize a message handle. If it cannot find the message file that corresponds to the language, then it looks for a primary language file as a fallback. For example, if the Latin American Spanish file is not found, then it tries to open the Spanish file. If the fallback fails, then it uses the default message file, whose language is <code class="codeph">AMERICAN</code>. The function returns a pointer to a message handle into the <code class="codeph">msghp</code> parameter.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>