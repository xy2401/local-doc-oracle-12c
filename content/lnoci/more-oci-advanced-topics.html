<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes more advanced topics related to OCI.">
      <meta name="description" content="This chapter describes more advanced topics related to OCI.">
      <title>More OCI Advanced Topics</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter describes more advanced topics related to OCI.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-09T15:29:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85621-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="oci-programming-advanced-topics.html" title="Previous" type="text/html">
      <link rel="next" href="oci-object-relational-programming.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-programming-advanced-topics.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oci-object-relational-programming.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">   More OCI Advanced Topics</li>
            </ol>
            <a id="GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2" name="GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2"></a><a id="LNOCI73039"></a><a id="LNOCI092"></a>
            
            <h2 id="LNOCI-GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2" class="sect2"><span class="enumeration_chapter">11 </span>   More OCI Advanced Topics
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='more-oci-advanced-topics'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>This chapter describes more advanced topics related to OCI.</p>
               <p>You can use OCI to access Oracle TimesTen In-Memory Database and Oracle TimesTen Application-Tier Database Cache.</p>
               <div class="section">
                  <div class="p">This chapter includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529" title="Continuous Query Notification (CQN) enables client applications to register queries with the database and receive notifications in response to DML or DDL changes on the objects or in response to result set changes associated with the queries.">About Continuous Query Notification</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-67B6BF3A-780A-49A9-857C-19DB008FFAB6" title="Describes topics about database startup and shutdown.">Database Startup and Shutdown</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" title="This section describes the following topics:">Implicit Fetching of ROWIDs</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" title="Beginning with Oracle Database 12c Release 1 (12.1) , PL/SQL can return results (cursors) implicitly from stored procedures and anonymous PL/SQL blocks. OCIStmtGetNextResult() is provided to retrieve and process the implicit results.">OCI Support for Implicit Results</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-F8BAB50F-7D21-43C0-846D-416D34429117" title="OCI applications can use client memory to take advantage of the OCI result cache to improve response times of repeated queries.">Client Result Cache</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" title="Describes topics about client statement cache auto-tuning.">Client Statement Cache Auto-Tuning</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" title="Describes the OCI client-side deployment parameters using oraaccess.xml.">OCI Client-Side Deployment Parameters Using oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" title="Fault diagnosability was introduced into OCI in Oracle Database 11g Release 1 (11.1). Describes how the location of the ADR base is determined.ADRCI is a command-line tool that enables you to view diagnostic data within the ADR and to package incident and problem information into a zip file for Oracle Support to use.Describes how to control ADR creation and disabling fault diagnosability using sqlnet.ora.">Fault Diagnosability in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-AB481881-FE50-4617-BB45-0C817815EAA9" title="In Oracle Database Release 11.2 (or later) you can use different versions of the time zone file on the client and server; this mode of operation was not supported before Oracle database Release 11.2.">Client and Server Operating with Different Versions of Time Zone Files</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE" title="The multitenant architecture enables an Oracle database to contain a portable collection of schemas, schema objects, and nonschema objects that appear to an Oracle client as a separate database.">Support for Pluggable Databases</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-C64136C2-CF65-4507-8811-9A03946CC817" title="Describes the OCI interface for using Oracle Sharding.">About the OCI Interface for Using Shards</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22" title="XStream Out allows a remote client to attach to an outbound server (a Streams apply process) and extract row changes in the form of Logical Change Records (LCRs).Describes characteristics of an LCR stream.If the outbound server or the client aborts abnormally, the connection between the two is automatically broken. The client needs to maintain the processed low position to properly recover after a restart.To replicate non-Oracle data into Oracle databases use XStream In which allows a remote client to attach to an inbound server (a Streams apply process) and send row and DDL changes in the form of LCRs.The processed low position is the position below which the inbound server no longer requires any LCRs.Stream position refers to the position of an LCR in a given LCR stream.Describes the security characteristics of XStreams.">About Using the XStream Interface</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2__GUID-7798D87B-22B4-47FE-BA91-3A137A9D0C4A">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=TTCDV190"><span><cite>Oracle TimesTen In-Memory Database C Developers Guide</cite></span></a> for information about Times Ten support for Oracle Call Interface.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529" name="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529"></a><h3 id="LNOCI-GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529" class="sect3"><span class="enumeration_section">11.1 </span>About Continuous Query Notification
               </h3>
               <div>
                  <p>Continuous Query Notification (CQN) enables client applications to register queries with the database and receive notifications in response to DML or DDL changes on the objects or in response to result set changes associated with the queries.</p>
                  <p>The notifications are published by the database when the DML or DDL transaction commits.</p>
                  <p>During registration, the application specifies a notification handler and associates a set of interesting queries with the notification handler. A notification handler can be either a server-side PL/SQL procedure or a client-side C callback. Registrations are created at either the object level or the query level. If registration is at the object level, then whenever a transaction changes any of the registered objects and commits, the notification handler is invoked. If registration is at the query level, then whenever a transaction commits changes such that the result set of the query is modified, the notification handler is invoked, but if the changes do not affect the result set of the query, the notification handler is not invoked.</p>
                  <p>Query change notification can be registered for the following types of statements: <code class="codeph">OCI_STMT_SELECT</code>, <code class="codeph">OCI_STMT_BEGIN</code>, <code class="codeph">OCI_STMT_DECLARE</code>, and <code class="codeph">OCI_STMT_CALL</code>.
                  </p>
                  <p>Query change notification assumes that the PLSQL code performs only <code class="codeph">SELECT</code> statements and registers for every <code class="codeph">SELECT</code> statement. Otherwise, it raises an error if there are any non SELECT statements in the PLSQL code.
                  </p>
                  <p>One use of continuous query notification is in middle-tier applications that must have cached data and keep the cache as recent as possible for the back-end database.</p>
                  <p>The notification includes the following information:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Query IDs of queries whose result sets have changed. This is if the registration was at query granularity.</p>
                     </li>
                     <li>
                        <p>Names of the modified objects or changed rows.</p>
                     </li>
                     <li>
                        <p>Operation type (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>, <code class="codeph">DROP</code> <code class="codeph">TABLE</code>).
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ROWID</code>s of the changed rows and the associated DML operation (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>).
                        </p>
                     </li>
                     <li>
                        <p>Global database events (<code class="codeph">STARTUP</code>, <code class="codeph">SHUTDOWN</code>). In Oracle Real Application Cluster (Oracle RAC) the database delivers a notification when the first instance starts or the last instance shuts down.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529__GUID-D148FB06-37BA-4030-86FA-F7D719B3AC7F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=ADFNS018"><span><cite>Oracle Database Development Guide</cite></span></a>, the section about using continuous query notification for a complete discussion of the concepts of this feature and using OCI and PL/SQL interfaces to create CQN registrations
                           </p>
                        </li>
                        <li>
                           <p><a href="oci-programming-advanced-topics.html#GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" title="The publish-subscribe notification feature allows an OCI application to receive client notifications directly, register an email address to which notifications can be sent, register an HTTP URL to which notifications can be posted, or register a PL/SQL procedure to be invoked on a notification.">Publish-Subscribe Notification in OCI</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI73042"></a><a id="LNOCI096"></a><div class="props_rev_3"><a id="GUID-67B6BF3A-780A-49A9-857C-19DB008FFAB6" name="GUID-67B6BF3A-780A-49A9-857C-19DB008FFAB6"></a><h3 id="LNOCI-GUID-67B6BF3A-780A-49A9-857C-19DB008FFAB6" class="sect3"><span class="enumeration_section">11.2 </span>Database Startup and Shutdown
               </h3>
               <div>
                  <p>Describes topics about database startup and shutdown.</p>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0" title="The OCI functions OCIDBStartup() and OCIDBShutdown() provide the minimal interface needed to start and shut down an Oracle database.">About OCI Database Startup and Shutdown</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3" title="To perform a startup, you must be connected to the database as SYSOPER or SYSDBA in OCI_PRELIM_AUTH mode. You cannot be connected to a shared server through a dispatcher.">Examples of Startup and Shutdown in OCI</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73043"></a><div class="props_rev_3"><a id="GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0" name="GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0"></a><h4 id="LNOCI-GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0" class="sect4"><span class="enumeration_section">11.2.1 </span>About OCI Database Startup and Shutdown
                  </h4>
                  <div>
                     <p>The OCI functions <code class="codeph">OCIDBStartup()</code> and <code class="codeph">OCIDBShutdown()</code> provide the minimal interface needed to start and shut down an Oracle database.
                     </p>
                     <p> Before calling <code class="codeph">OCIDBStartup()</code>, the C program must connect to the server and start a <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> session in the preliminary authentication mode. This mode is the only one permitted when the instance is not up, and it is used only to start the instance. A call to <code class="codeph">OCIDBStartup()</code> starts one server instance without mounting or opening the database. To mount and open the database, end the preliminary authentication session and start a regular <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> session to execute the appropriate <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements. 
                     </p>
                     <p>An active <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> session is needed to shut down the database. For all modes other than <code class="codeph">OCI_DBSHUTDOWN_ABORT</code>, make two calls to <code class="codeph">OCIDBShutdown()</code>: one to initiate shutdown by prohibiting further connections to the database, followed by the appropriate <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> commands to dismount and close it; and the other call to finish shutdown by bringing the instance down. In special circumstances, to shut down the database as fast as possible, call <code class="codeph">OCIDBShutdown()</code> in the <code class="codeph">OCI_DBSHUTDOWN_ABORT</code> mode, which is equivalent to <code class="codeph">SHUTDOWN </code><code class="codeph">ABORT</code> in SQL*Plus.
                     </p>
                     <p>Both of these functions require a dedicated connection to the server. <code class="codeph">ORA-106</code> is signaled if an attempt is made to start or shut down the database when it is connected to a shared server through a dispatcher.
                     </p>
                     <p>The <code class="codeph">OCIAdmin</code> administration handle C data type is used to make the interface extensible. <code class="codeph">OCIAdmin</code> is associated with the handle type <code class="codeph">OCI_HTYPE_ADMIN</code>. Passing a value for the   <code class="codeph">OCIAdmin</code> parameter, <code class="codeph">admhp</code>, is optional for <code class="codeph">OCIDBStartup()</code> and is not needed by <code class="codeph">OCIDBShutdown()</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0__GUID-A2A13FA8-5748-4134-BE94-E04A880A5013">
                        <p class="notep1">See Also:</p>
                        <p> </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-8E4CB0D4-DC77-4AA1-A3F8-9C05DE595353" title="Starts an Oracle Database instance.">OCIDBStartup()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-01C4FDCA-2719-4C5C-9348-B9909D178F4F" title="Shuts down an Oracle Database instance.">OCIDBShutdown()</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-C671AC60-A6E4-4F6F-A41D-057DC3CE6E0F" title="Lists and describes administration handle attributes.">Administration Handle Attributes</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=ADMIN004"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI72692"></a><a id="LNOCI72693"></a><a id="LNOCI72694"></a><a id="LNOCI16737"></a><div class="props_rev_3"><a id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3" name="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3"></a><h4 id="LNOCI-GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3" class="sect4"><span class="enumeration_section">11.2.2 </span>Examples of Startup and Shutdown in OCI
                  </h4>
                  <div>
                     <p>To perform a startup, you must be connected to the database as <code class="codeph">SYSOPER</code> or <code class="codeph">SYSDBA</code> in <code class="codeph">OCI_PRELIM_AUTH</code> mode. You cannot be connected to a shared server through a dispatcher. 
                     </p>
                     <div class="section">
                        <p>To use a client-side parameter file (<code class="codeph">pfile</code>), the attribute <code class="codeph">OCI_ATTR_ADMIN_PFILE</code> must be set in the administration handle using <code class="codeph">OCIAttrSet()</code>; otherwise, a server-side parameter file (<code class="codeph">spfile</code>) is used. In the latter case, pass <code class="codeph">(OCIAdmin *)0</code>. A call to <code class="codeph">OCIDBStartup()</code> starts one instance on the server.
                        </p>
                        <p><a href="more-oci-advanced-topics.html#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGJIADH">Example 11-1</a> shows sample code that uses a client-side parameter file (<code class="codeph">pfile</code>) that is set in the administration handle and performs a database startup operation.
                        </p>
                        <p>To perform a shutdown, you must be connected to the database as <code class="codeph">SYSOPER</code> or <code class="codeph">SYSDBA</code>. You cannot be connected to a shared server through a dispatcher. When shutting down in any mode other than <code class="codeph">OCI_DBSHUTDOWN_ABORT</code>, use the following procedure:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Call <code class="codeph">OCIDBShutdown()</code> in <code class="codeph">OCI_DEFAULT</code>, <code class="codeph">OCI_DBSHUTDOWN_TRANSACTIONAL</code>, <code class="codeph">OCI_DBSHUTDOWN_TRANSACTIONAL_LOCAL</code>, or <code class="codeph">OCI_DBSHUTDOWN_IMMEDIATE</code> mode to prohibit further connections.</span></li>
                        <li><span>Use the necessary <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> commands to close and dismount the database.</span></li>
                        <li><span>Call <code class="codeph">OCIDBShutdown()</code> in <code class="codeph">OCI_DBSHUTDOWN_FINAL</code> mode to shut down the instance.</span></li>
                     </ol>
                     <div class="example" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGJIADH">
                        <p class="titleinexample">Example 11-1 Calling OCIDBStartup() to Perform a Database Startup Operation</p><pre class="oac_no_warn" dir="ltr">...

/*  Example 0 - Startup:  */
OCIAdmin *admhp;
text *mount_stmt = (text *)"ALTER DATABASE MOUNT";
text *open_stmt = (text *)"ALTER DATABASE OPEN";
text *pfile = (text *)"/ade/viewname/oracle/work/t_init1.ora";

/* Start the authentication session */
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp,
         OCI_CRED_RDBMS, OCI_SYSDBA|OCI_PRELIM_AUTH));

/* Allocate admin handle for OCIDBStartup */
checkerr(errhp, OCIHandleAlloc((void *) envhp, (void **) &amp;admhp,
         (ub4) OCI_HTYPE_ADMIN, (size_t) 0, (void **) 0));

/* Set attribute pfile in the admin handle 
(do not do this if you want to use the spfile) */
checkerr (errhp, OCIAttrSet( (void *) admhp, (ub4) OCI_HTYPE_ADMIN,
          (void *) pfile, (ub4) strlen(pfile),
          (ub4) OCI_ATTR_ADMIN_PFILE, (OCIError *) errhp));

/* Start up in NOMOUNT mode */
  checkerr(errhp, OCIDBStartup(svchp, errhp, admhp, OCI_DEFAULT, 0));
   checkerr(errhp, OCIHandleFree((void *) admhp, (ub4) OCI_HTYPE_ADMIN));

/* End the authentication session */
OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT);

/* Start the sysdba session */
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp, OCI_CRED_RDBMS,
         OCI_SYSDBA));

/* Mount the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, mount_stmt, (ub4)
         strlen((char*) mount_stmt),
         (CONST OraText *) 0, (ub4) 0, (ub4) OCI_NTV_SYNTAX, (ub4)
         OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
         (OCISnapshot *) NULL, (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* Open the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, open_stmt, (ub4)
         strlen((char*) open_stmt),
         (CONST OraText *)0, (ub4)0, (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
         (OCISnapshot *) NULL, (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* End the sysdba session */
OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT);
...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGCGHGJ">
                        <p class="titleinexample">Example 11-2 Calling OCIDBShutdown() in OCI_DBSHUTDOWN_FINAL Mode</p><pre class="oac_no_warn" dir="ltr">/*  Example 1 - Orderly shutdown:  */
...
text *close_stmt = (text *)"ALTER DATABASE CLOSE NORMAL";
text *dismount_stmt = (text *)"ALTER DATABASE DISMOUNT";

/* Start the sysdba session */
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp, OCI_CRED_RDBMS,
         OCI_SYSDBA));

/* Shutdown in the default mode (transactional, transactional-local,
  immediate would be fine too) */
checkerr(errhp, OCIDBShutdown(svchp, errhp, (OCIAdmin *)0, OCI_DEFAULT));

/* Close the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, close_stmt, (ub4)
         strlen((char*) close_stmt),
         (CONST OraText *)0, (ub4)0, (ub4) OCI_NTV_SYNTAX,
         (ub4) OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
        (OCISnapshot *) NULL,
        (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* Dismount the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, dismount_stmt,
         (ub4) strlen((char*) dismount_stmt), (CONST OraText *)0, (ub4)0,
         (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
         (OCISnapshot *) NULL,
         (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* Final shutdown */
checkerr(errhp, OCIDBShutdown(svchp, errhp, (OCIAdmin *)0,
         OCI_DBSHUTDOWN_FINAL));

/* End the sysdba session */
checkerr(errhp, OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT));
...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGHIFGA">
                        <p class="titleinexample">Example 11-3 Calling OCIDBShutdown() in OCI_DBSHUTDOWN_ABORT Mode</p><pre class="oac_no_warn" dir="ltr">/*  Example 2 - Shutdown using abort:  */
...
/* Start the sysdba session */
...
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp, OCI_CRED_RDBMS,
         OCI_SYSDBA));

/* Shutdown in the abort mode */
checkerr(errhp, OCIDBShutdown(svchp, errhp, (OCIAdmin *)0,
         OCI_DBSHUTDOWN_ABORT));

/* End the sysdba session */
checkerr(errhp, OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT));
...
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p><a href="more-oci-advanced-topics.html#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGCGHGJ">Example 11-2</a> shows sample code that uses a client-side parameter file (<code class="codeph">pfile</code>) that is set in the administration handle that performs an orderly database shutdown operation.
                        </p>
                        <p><a href="more-oci-advanced-topics.html#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGHIFGA">Example 11-3</a> shows a shutdown example that uses <code class="codeph">OCI_DBSHUTDOWN_ABORT</code> mode.
                        </p>
                        <div class="infoboxnotealso" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__GUID-3B854F8A-A059-4E47-BDA5-1C6CD5EB9776">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-8E4CB0D4-DC77-4AA1-A3F8-9C05DE595353" title="Starts an Oracle Database instance.">OCIDBStartup()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-01C4FDCA-2719-4C5C-9348-B9909D178F4F" title="Shuts down an Oracle Database instance.">OCIDBShutdown()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI73044"></a><a id="LNOCI10100"></a><div class="props_rev_3"><a id="GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" name="GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B"></a><h3 id="LNOCI-GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" class="sect3"><span class="enumeration_section">11.3 </span>Implicit Fetching of ROWIDs
               </h3>
               <div>
                  <p>This section describes the following topics:</p>
                  <div class="p">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064" title="ROWID is a globally unique identifier for a row in a database. It is created at the time the row is inserted into the table, and destroyed when it is removed.">About Implicit Fetching of ROWIDs</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993" title="Shows an example of implicit fetching of ROWIDs.">Example of Implicit Fetching of ROWIDs</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73045"></a><div class="props_rev_3"><a id="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064" name="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064"></a><h4 id="LNOCI-GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064" class="sect4"><span class="enumeration_section">11.3.1 </span>About Implicit Fetching of ROWIDs
                  </h4>
                  <div>
                     <p><code class="codeph">ROWID</code> is a globally unique identifier for a row in a database. It is created at the time the row is inserted into the table, and destroyed when it is removed. 
                     </p>
                     <p><code class="codeph">ROWID</code> values have several important uses. They are unique identifiers for rows in a table. They are the fastest way to access a single row and can show how the rows in the table are stored. 
                     </p>
                     <p>Implicit fetching of <code class="codeph">ROWID</code>s in <code class="codeph">SELECT</code> <code class="codeph">...</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statements means that the <code class="codeph">ROWID</code> is retrieved at the client side, even if it is not one of the columns named in the select statement. The <code class="codeph">position</code> parameter of <code class="codeph">OCIDefineByPos()</code> is set to zero (0). These host variables can be specified for retrieving the <code class="codeph">ROWID</code> pseudocolumn values:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">SQLT_CHR</code> (<code class="codeph">VARCHAR2</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_VCS</code> (<code class="codeph">VARCHAR</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_STR</code> (<code class="codeph">NULL</code>-terminated string)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_LVC</code> (<code class="codeph">LONG</code> <code class="codeph">VARCHAR</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_AFC</code> (<code class="codeph">CHAR</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_AVC</code> (<code class="codeph">CHARZ</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_VST</code> (<span>OCI String</span>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_RDD</code> (<code class="codeph">ROWID</code> descriptor)
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">SELECT</code> <code class="codeph">...</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement identifies the rows that are to be updated and then locks each row in the result set. This is useful when you want to base an update on the existing values in a row. In that case, you must ensure that another user does not change the row.
                     </p>
                     <p>When you specify character buffers for storing the values of the <code class="codeph">ROWID</code>s (for example, if getting it in <code class="codeph">SQLT_STR</code> format), allocate enough memory for storing <code class="codeph">ROWID</code>s. Remember the differences between the <code class="codeph">ROWID</code> data type and the <code class="codeph">UROWID</code> data type. The <code class="codeph">ROWID</code> data type can only store physical <code class="codeph">ROWID</code>s, but <code class="codeph">UROWID</code> can store logical <code class="codeph">ROWID</code>s (identifiers for the rows of index-organized tables) as well. The maximum internal length for the <code class="codeph">ROWID</code> type is 10 bytes; it is 3950 bytes for the <code class="codeph">UROWID</code> data type.
                     </p>
                     <p>Dynamic define is equivalent to calling <code class="codeph">OCIDefineByPos()</code> or <code class="codeph">OCIDefineByPos2()</code> with <code class="codeph">mode</code> set as <code class="codeph">OCI_DYNAMIC_FETCH</code>. Dynamic defines enable you to set up additional attributes for a particular define handle. It specifies a callback function that is invoked at runtime to get a pointer to the buffer into which the fetched data or a piece of it is to be retrieved.
                     </p>
                     <p>The attribute <code class="codeph">OCI_ATTR_FETCH_ROWID</code> must be set on the statement handle before you can use implicit fetching of <code class="codeph">ROWID</code>s, in this way:
                     </p><pre class="oac_no_warn" dir="ltr">OCIAttrSet(stmthp, OCI_HTYPE_STMT, 0, 0 , OCI_ATTR_FETCH_ROWID, errhp);
</pre><p>Dynamic define is not compatible with implicit fetching of <code class="codeph">ROWID</code>s. In normal scenarios this mode allows the application to provide buffers for a column, for each row; that is, a callback is invoked every time a column value is fetched.
                     </p>
                     <p>This feature, using <code class="codeph">OCIDefineByPos()</code> or <code class="codeph">OCIDefineByPos2()</code> for position 0, is for fetching an array of data simultaneously into the user buffers and getting their respective <code class="codeph">ROWID</code>s at the same time. It allows for fetching of <code class="codeph">ROWID</code>s with <code class="codeph">SELECT....FOR UPDATE</code> statements even when <code class="codeph">ROWID</code> is not one of the columns in the <code class="codeph">SELECT</code> query. When fetching the data one by one into the user buffers, you can use the existing attribute <code class="codeph">OCI_ATTR_ROWID</code>.
                     </p>
                     <p>If you use this feature to fetch the <code class="codeph">ROWID</code>s, the attribute <code class="codeph">OCI_ATTR_ROWID</code> on the statement handle cannot be used simultaneously to get the <code class="codeph">ROWID</code>s. You can only use one of them at a time for a particular statement handle.
                     </p>
                     <div class="infoboxnotealso" id="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064__GUID-7BE90B21-8615-42AF-9D5D-8753E726B2FA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE__CHDEJDEE">OCI_ATTR_FETCH_ROWID</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="Associates an item in a select list with the type and output data buffer.">OCIDefineByPos()</a> or <a href="bind-define-describe-functions.html#GUID-74939FB5-919E-4D24-B327-AFB532435061" title="Associates an item in a select list with the type and output data buffer. Use this call when working with data types when actual lengths exceed UB2MAXVAL on the client.">OCIDefineByPos2()</a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div><a id="LNOCI72695"></a><a id="LNOCI16738"></a><div class="props_rev_3"><a id="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993" name="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993"></a><h4 id="LNOCI-GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993" class="sect4"><span class="enumeration_section">11.3.2 </span>Example of Implicit Fetching of ROWIDs
                  </h4>
                  <div>
                     <p>Shows an example of implicit fetching of ROWIDs.</p>
                     <div class="section">
                        <p>Use the fragment of a C program in <a href="more-oci-advanced-topics.html#GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993__CEGFFICH">Example 11-4</a> to build upon.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993__CEGFFICH">
                        <p class="titleinexample">Example 11-4 Implicit Fetching of ROWIDs</p><pre class="oac_no_warn" dir="ltr">#include &lt;oci.h&gt;
 
int main()
{
 ...
 text *mySql = (text *) "SELECT emp_name FROM emp FOR UPDATE";
 text rowid[100][15] = {0};
 text empName[100][15] = {0};
 ...
 
 /* Set up the environment, error handle, etc. */
 ...
 
 /* Prepare the statement -  select ... for update. */
 
 
  if (OCIStmtPrepare (select_p, errhp,
                      mySql, strlen(mySql), OCI_NTV_SYNTAX, OCI_DEFAULT))
  {
    printf ("Prepare failed \n");
    return (OCI_ERROR);
  }
 
 /* Set attribute for implicit fetching of ROWIDs on the statement handle. */
 if (OCIAttrSet(select_p, OCI_HTYPE_STMT, 0, 0, OCI_ATTR_FETCH_ROWID, errhp))
 {
   printf ("Unable to set the attribute - OCI_ATTR_FETCH_ROWID \n");
   return OCI_ERROR;
 }
  /* 
   * Define the positions: 0 for getting ROWIDs and other positions 
   * to fetch other columns.
   * Also, get the define conversion done implicitly by fetching 
   * the ROWIDs in the string format. 
   */
 
  if (OCIDefineByPos ( select_p,
                       &amp;defnp0,
                       errhp,
                       0,
                       rowid[0],
                       15,
                       SQLT_STR,
                       (void *) ind,
                       (void *) 0,
                       (void *) 0,
                       OCI_DEFAULT) ||
       OCIDefineByPos(select_p,
                       &amp;defnp1,
                       errhp,
                       1,
                       empName[0],
                       15,
                       SQLT_STR,
                       (void *) 0,
                       (void *) 0,
                       (void *) 0,
                       OCI_DEFAULT)
                       )
  {
    printf ("Failed to define\n");
    return (OCI_ERROR);
  }
 
 
  /* Execute the statement. */
 
 if (errr = OCIStmtExecute(svchp,
                            select_p,
                            errhp,
                            (ub4) 5,
                            (ub4) 0,
                            (OCISnapshot *) NULL,
                            (OCISnapshot *) NULL,
                            (ub4) OCI_DEFAULT))
  {
    if (errr != OCI_NO_DATA) 
       return errr;
  }
 
  printf ("Column 0  \t Column 1\n");
  printf ("_________ \t ________\n");
 
  for (i =0 ;i&lt;5 i++)
   {
     printf("%s \t %s \n", rowid[i], empName[i]);
   }
 
 return OCI_SUCCESS;  
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNOCI73046"></a><a id="LNOCI73047"></a><a id="LNOCI73048"></a><a id="LNOCI73049"></a><a id="LNOCI73008"></a><div class="props_rev_3"><a id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" name="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F"></a><h3 id="LNOCI-GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" class="sect3"><span class="enumeration_section">11.4 </span>OCI Support for Implicit Results
               </h3>
               <div>
                  <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 1 (12.1) , PL/SQL can return results (cursors) implicitly from stored procedures and anonymous PL/SQL blocks. <code class="codeph">OCIStmtGetNextResult()</code> is provided to retrieve and process the implicit results. 
                  </p>
                  <div class="section">
                     <p>PL/SQL provides a subprogram <code class="codeph">RETURN_RESULT</code> in the <code class="codeph">DBMS_SQL</code> package to return the result of an executed statement as shown in <a href="more-oci-advanced-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGBHFGH">Example 11-5</a>.  In the current release, only <code class="codeph">SELECT</code> query result-sets can be implicitly returned by a PL/SQL procedure block. <code class="codeph">OCIStmtGetNextResult()</code> returns an OCI statement handle on which the usual OCI define and fetch calls are done to retrieve the rows.
                     </p>
                     <p><a href="more-oci-advanced-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">Example 11-6</a> shows a PL/SQL stored procedure to implicitly return result-sets (cursors) to the client. 
                     </p>
                     <p><a href="more-oci-advanced-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">Example 11-7</a> shows the same approach using an anonymous PL/SQL block sent by the client. This example shows how applications can use the implicit results feature to implement batching of SQL statements from an OCI application. An OCI application can dynamically form a PL/SQL anonymous block to execute multiple and variable <code class="codeph">SELECT</code> statements and return the corresponding cursors using <code class="codeph">DBMS_SQL.RETURN_RESULT</code>. 
                     </p>
                     <p><a href="more-oci-advanced-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGIHJDF">Example 11-8</a> lists an OCI program showing how to use the <code class="codeph">OCIStmtGetNextResult()</code> call to retrieve and process the implicit results returned by a PL/SQL stored procedure (see <a href="more-oci-advanced-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">Example 11-6</a>) or an anonymous PL/SQL block (see <a href="more-oci-advanced-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">Example 11-7</a>). 
                     </p>
                     <p><code class="codeph">OCIStmtGetNextResult()</code> can be called iteratively by the application to retrieve each implicit result from an executed PL/SQL statement. Applications retrieve each result-set sequentially but can fetch rows from any result-set independently. The top-level OCI statement handle tracks all the associated result-set statement handles. Freeing or releasing the top-level OCI statement handle automatically closes and frees all the implicit result-sets. 
                     </p>
                     <p>The attribute <code class="codeph">OCI_ATTR_IMPLICIT_RESULT_COUNT</code> is provided on the OCI statement handle to determine the number of implicit results available. 
                     </p>
                     <p>The <code class="codeph">rtype</code> parameter of <code class="codeph">OCIStmtGetNextResult()</code> returns the type of the result. In this release only the type: <code class="codeph">OCI_RESULT_TYPE_SELECT</code> is supported. The describe metadata of the returned result set can be accessed similar to any <code class="codeph">SELECT</code> ResultSet.
                     </p>
                     <div class="infoboxnote" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__GUID-3C5A3433-15B7-4882-B34E-8BE7EA95CFA6">
                        <p class="notep1">Note:</p>
                        <p>The following OCI code can be used in external procedures too, to fetch from the implicit results. In that case, <code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code> should be passed as the mode to the <code class="codeph">OCIStmtPrepare2()</code> call.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGBHFGH">
                     <p class="titleinexample">Example 11-5 DBMS_SQL RETURN_RESULT Subprogram</p><pre class="oac_no_warn" dir="ltr">procedure return_result(rc        in out sys_refcursor,
                        to_client in boolean default true);

procedure return_result(rc        in out integer,
                        to_client in boolean default true);
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">
                     <p class="titleinexample">Example 11-6 A PL/SQL Stored Procedure to Implicitly Return Result-Sets (Cursors) to the Client</p><pre class="oac_no_warn" dir="ltr">CREATE PROCEDURE foo AS
  c1 sys_refcursor;
  c2 sys_refcursor;
begin
  open c1 for select * from emp;
  dbms_sql.return_result(c1); --return to client
  -- open 1 more cursor
  open c2 for select * from dept;
  dbms_sql.return_result (c2); --return to client
end;
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">
                     <p class="titleinexample">Example 11-7 An Anonymous PL/SQL Block to Implicitly Return Result-Sets (Cursors) to the Client</p><pre class="oac_no_warn" dir="ltr">declare
  c1 sys_refcursor;
  c2 sys_refcursor;
begin
  open c1 for select * from emp;
  dbms_sql.return_result (c1); --return to client
  -- open 1 more cursor
  open c2 for select * from dept;
  dbms_sql.return_result (c2); --return to client
end;
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGIHJDF">
                     <p class="titleinexample">Example 11-8 Using OCIStmtGetNextResult() to Retrieve and Process the Implicit Results Returned by Either a PL/SQL Stored Procedure or Anonymous Block</p><pre class="oac_no_warn" dir="ltr">  OCIStmt *stmthp;
  ub4      rsetcnt;
  void    *result;
  ub4      rtype;
  char    *sql = "begin foo; end;";
  
  /* Prepare and execute the PL/SQL procedure. */
  OCIStmtPrepare2(svchp, &amp;stmthp, errhp, (oratext *)sql, strlen(sql),
                 NULL, 0, OCI_NTV_SYNTAX, OCI_DEFAULT);
  OCIStmtExecute(svchp, stmthp, errhp, 1, 0,
                 (const OCISnapshot *)0,
                 (OCISnapshot *)0, OCI_DEFAULT);
 
  /* Now check if any implicit results are available. */
  OCIAttrGet((void *)stmthp, OCI_HTYPE_STMT, &amp;rsetcnt, 0,
             OCI_ATTR_IMPLICIT_RESULT_COUNT, errhp);
 
  /* Loop and retrieve the implicit result-sets.
   * ResultSets are returned in the same order as in the PL/SQL
   * procedure/block.
   */
  while (OCIStmtGetNextResult(stmthp, errhp, &amp;result, &amp;rtype,
                              OCI_DEFAULT) == OCI_SUCCESS)
  {
    /* Check the type of implicit ResultSet, currently
     * only supported type is OCI_RESULT_TYPE_SELECT
     */
    if (rtype == OCI_RESULT_TYPE_SELECT)
    {
      OCIStmt *rsethp = (OCIStmt *)result;
 
      /* Perform normal OCI actions to define and fetch rows. */
    }
    else
      printf("unknown result type %d\n", rtype);
 
    /* The result set handle should not be freed by the user. */
  }
 
  OCIStmtRelease(stmthp, errhp, NULL, 0, OCI_DEFAULT); /* Releases the statement handle. */
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__GUID-3AAA3F6E-229F-41A2-931E-ECD008CF3B6D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="statement-functions.html#GUID-60B998F9-F213-43BA-AB84-76F1EC6A6687" title="Returns the implicit results from an executed PL/SQL statement handle.">OCIStmtGetNextResult()</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE" title="Lists and describes statement handle attributes.">Statement Handle Attributes</a> for more information about the attribute <code class="codeph">OCI_ATTR_IMPLICIT_RESULT_COUNT</code>.
                              </p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI10103"></a><div class="props_rev_3"><a id="GUID-F8BAB50F-7D21-43C0-846D-416D34429117" name="GUID-F8BAB50F-7D21-43C0-846D-416D34429117"></a><h3 id="LNOCI-GUID-F8BAB50F-7D21-43C0-846D-416D34429117" class="sect3"><span class="enumeration_section">11.5 </span>Client Result Cache
               </h3>
               <div>
                  <p>OCI applications can use client memory to take advantage of the OCI result cache to improve response times of repeated queries.</p>
                  <div class="infoboxnotealso" id="GUID-F8BAB50F-7D21-43C0-846D-416D34429117__GUID-BAC8F6A3-FA60-4DF2-901F-48EE88AC27D0">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=ADFNS213"><span><cite>Oracle Database Development Guide</cite></span></a> for complete information about using the OCI client result cache 
                     </p>
                  </div>
               </div>
            </div><a id="LNOCI73050"></a><a id="LNOCI73009"></a><div class="props_rev_3"><a id="GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" name="GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360"></a><h3 id="LNOCI-GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" class="sect3"><span class="enumeration_section">11.6 </span>Client Statement Cache Auto-Tuning
               </h3>
               <div>
                  <p>Describes topics about client statement cache auto-tuning.</p>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4" title="Auto-tuning optimizes OCI client session features of mid-tier applications to gain higher performance without the need to reprogram your OCI application.">About Auto-Tuning Client Statement Cache</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-5FA63226-6372-4A36-B36E-47141A73D036" title="The more specific benefit of auto-tuning client statement cache is to transparently detect, monitor, and adjust the statement cache size to improve performance or decrease memory usage.">Benefit of Auto-Tuning Client Statement Cache</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-C7D627E2-E210-4234-AF42-648E7295DA13" title="The following connection specific parameters in oraccess.xml can be set per configuration alias or across all connect strings using default connection specific parameters.">Client Statement Cache Auto-Tuning Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0" title="The following are some usage examples showing use and interaction of client statement cache auto-tuning parameters that are also connection specific parameters.">Usage Examples of Client Statement Cache Auto Tuning</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" title="Describes conditions that enable and disable OCI client auto-tuning.">Enabling and Disabling OCI Client Auto-Tuning</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63" title="Describes guidelines to use when setting the auto-tuning parameters.">Usage Guidelines for Auto-Tuning Client Statement Cache</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73051"></a><div class="props_rev_3"><a id="GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4" name="GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4"></a><h4 id="LNOCI-GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4" class="sect4"><span class="enumeration_section">11.6.1 </span>About Auto-Tuning Client Statement Cache
                  </h4>
                  <div>
                     <p>Auto-tuning optimizes OCI client session features of mid-tier applications to gain higher performance without the need to reprogram your OCI application. </p>
                     <p>Auto tuning operations like increasing or decreasing cache memory happens implicitly during <code class="codeph">OCIStmtPrepare2()</code> and <code class="codeph">OCIStmtRelease()</code> calls on a periodic basis. Calling <code class="codeph">OCIAttrGet()</code> with <code class="codeph">OCI_ATTR_STMTCACHESIZE</code> on the service handle gives the current cache size being used, if you need to check.
                     </p>
                     <p>It is possible for the coded OCI client statement cache size setting to be sub optimal. This can happen, for example, with changing the workload causing a different working set of SQL statements. If the size is too low, it will cause excess network activity and more parses at the server. If the size is too high, there will be excess memory used. It can be difficult for the client side application to always keep this cache size optimal.</p>
                     <p>Auto-tuning automatically reconfigures the OCI statement cache size on a periodic basis. Auto-tuning is achieved by providing a deployment time setting that provides an option to reconfigure OCI statement caching to resolve this potential performance issue.</p>
                     <p>These settings are provided as connect string based deployment settings in the client <code class="codeph">oraaccess.xml</code> file that overrides manual settings to the user configuration of OCI features.
                     </p>
                     <div class="infoboxnotealso" id="GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4__GUID-60C0F818-4FCE-42E7-AA5A-82EBA05C4168">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="Releases the statement handle obtained by a call to OCIStmtPrepare2().">OCIStmtRelease()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI73010"></a><div class="props_rev_3"><a id="GUID-5FA63226-6372-4A36-B36E-47141A73D036" name="GUID-5FA63226-6372-4A36-B36E-47141A73D036"></a><h4 id="LNOCI-GUID-5FA63226-6372-4A36-B36E-47141A73D036" class="sect4"><span class="enumeration_section">11.6.2 </span>Benefit of Auto-Tuning Client Statement Cache
                  </h4>
                  <div>
                     <p>The more specific benefit of auto-tuning client statement cache is to transparently detect, monitor, and adjust the statement cache size to improve performance or decrease memory usage.</p>
                     <p>Developers and DBAs can expect to see the following benefits of using auto-tuning for their OCI client applications:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Reduced time and effort in diagnosing and fixing performance problems with each part of their system, such as statement caching </p>
                        </li>
                        <li>
                           <p>Minimized manual modifications needed to configurations of this OCI feature to improve performance. Usually, this manual correction requires applications to restart more than once with different configuration parameters, thus further reducing the high availability of the client</p>
                        </li>
                        <li>
                           <p>One solution that can be used by all OCI applications to improve performance right out-of-the-box without having to make any application changes</p>
                        </li>
                        <li>
                           <p>OCI applications are freed from making custom implementations (that can be error prone) to auto-tune their OCI application to optimize performance and memory usage. Here auto-tuning is limited to internal automatic tuning of OCI Client-side statement cache size only.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73011"></a><div class="props_rev_3"><a id="GUID-C7D627E2-E210-4234-AF42-648E7295DA13" name="GUID-C7D627E2-E210-4234-AF42-648E7295DA13"></a><h4 id="LNOCI-GUID-C7D627E2-E210-4234-AF42-648E7295DA13" class="sect4"><span class="enumeration_section">11.6.3 </span>Client Statement Cache Auto-Tuning Parameters
                  </h4>
                  <div>
                     <p>The following connection specific parameters in <code class="codeph">oraccess.xml</code> can be set per configuration alias or across all connect strings using default connection specific parameters.
                     </p>
                     <p>Values specified in the client <code class="codeph">oraaccess.xml</code> configuration file override programmatic settings.
                     </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="This parameter is optional and sets the limit for the statement caching tunable component.">&lt;statement_cache&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" title="This section specifies auto tune parameters.">&lt;auto_tune&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" title="Lists and describes a comparison of all auto-tuning parameters.">Comparison of the Connection Specific Auto-Tuning Parameters</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C7D627E2-E210-4234-AF42-648E7295DA13__GUID-72B2DFC5-E5BA-4D68-BE39-716A87B8FF14">
                        <p class="notep1">See Also:</p>
                        <p><a href="more-oci-advanced-topics.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a> for more information about setting per configuration alias or across all connect strings using default connection specific parameters
                        </p>
                     </div>
                  </div><a id="LNOCI73013"></a><div class="props_rev_3"><a id="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" name="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2"></a><h5 id="LNOCI-GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" class="sect5"><span class="enumeration_section">11.6.3.1 </span>&lt;statement_cache&gt;
                     </h5>
                     <div>
                        <p>This parameter is optional and sets the limit for the statement caching tunable component. </p>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
</pre><p>The limit is the maximum number of statements that can be cached per session. If auto-tuning is enabled or not, this setting in <code class="codeph">oraaccess.xml</code> overrides the programmatic setting of OCI statement cache size. 
                           </p>
                           <p>If auto-tuning is enabled, this setting will be the upper bound on statement cache size while its being dynamically tuned.</p>
                           <p>If the session is not using statement caching APIs as in <code class="codeph">OCIStmtPrepare2()</code> and <code class="codeph">OCIStmtRelease()</code>, this setting is ignored.
                           </p>
                           <p>Default values are as follows:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If auto-tuning is enabled, statement caching is dynamically tuned and the initial statement cache size is set to 100 statements.</p>
                              </li>
                              <li>
                                 <p>If auto-tuning is disabled, this setting serves as the deployment setting of statement caching size, overriding any programmatic setting.</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2__GUID-56565C29-4873-4D32-82E5-A6001ABBB805">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="Releases the statement handle obtained by a call to OCIStmtPrepare2().">OCIStmtRelease()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="more-oci-advanced-topics.html#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" title="Describes conditions that enable and disable OCI client auto-tuning.">Enabling and Disabling OCI Client Auto-Tuning</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI73012"></a><div class="props_rev_3"><a id="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" name="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4"></a><h5 id="LNOCI-GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" class="sect5"><span class="enumeration_section">11.6.3.2 </span>&lt;auto_tune&gt;
                     </h5>
                     <div>
                        <p>This section specifies auto tune parameters.</p>
                        <div class="section">
                           <p>If the OCI session is not using statement caching APIs as in <code class="codeph">OCIStmtPrepare2()</code> or <code class="codeph">OCIStmtRelease()</code>, auto tuning parameters are ignored for that session. It is possible in a process that some sessions or connections can have auto-tuning enabled and some disabled.
                           </p>
                           <div class="p">This section includes the following topics:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="more-oci-advanced-topics.html#GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B" title="This parameter turns auto tuning on or off.">&lt;enable&gt;true&lt;/enable&gt;</a></p>
                                 </li>
                                 <li>
                                    <p><a href="more-oci-advanced-topics.html#GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" title="This parameter is optional.">&lt;ram_threshold&gt;</a></p>
                                 </li>
                                 <li>
                                    <p><a href="more-oci-advanced-topics.html#GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" title="This parameter is optional.">&lt;memory_target&gt;</a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnotealso" id="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4__GUID-1A20E822-01D1-45FE-9890-18293AD02F03">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="Releases the statement handle obtained by a call to OCIStmtPrepare2().">OCIStmtRelease()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div class="props_rev_3"><a id="GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B" name="GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B"></a><h6 id="LNOCI-GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B" class="sect6"><span class="enumeration_section">11.6.3.2.1 </span>&lt;enable&gt;true&lt;/enable&gt;
                        </h6>
                        <div>
                           <p>This parameter turns auto tuning on or off.</p>
                           <div class="section">
                              <p>The default is auto tuning off <code class="codeph">(FALSE)</code> or disabled.
                              </p><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
&lt;/auto_tune&gt;
</pre><p>Auto-tuning is enabled along with internal default settings.</p>
                              <div class="infoboxnotealso" id="GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B__GUID-6B0FCBAB-4D02-4440-AF48-9A0DAC8EB40F">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="more-oci-advanced-topics.html#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="This parameter is optional and sets the limit for the statement caching tunable component.">&lt;statement_cache&gt;</a> for more information about auto-tuning is enabled along with internal default settings
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="LNOCI73058"></a><div class="props_rev_3"><a id="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" name="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33"></a><h6 id="LNOCI-GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" class="sect6"><span class="enumeration_section">11.6.3.2.2 </span>&lt;ram_threshold&gt;
                        </h6>
                        <div>
                           <p>This parameter is optional. </p>
                           <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt;
   &lt;enable&gt;true&lt;/enable&gt;
   &lt;ram_threshold&gt;0.1&lt;/ram_threshold&gt;
&lt;/auto_tune&gt;</pre><p>The default value is 0.01%. It is specified as percentage of installed RAM. This specifies the total memory available across the auto tuning sessions in a process sharing this setting. This setting can be specified per process or per connect string alias.</p>
                              <p>Note that if specified per connect string alias, the total auto tuning memory used by a client process can add up.</p>
                              <p>Therefore, it may be preferable to specify auto tuning limits in the <code class="codeph">&lt;default_parameters&gt;</code> section of <code class="codeph">oraaccess.xml</code> file. This way you have a common pool of memory for all sessions in a client process.
                              </p>
                              <p>A smaller limit uses less RAM for auto tuning, but minimizes the chance other programs running on the system do not degrade in performance.</p>
                              <p>This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting.
                              </p>
                              <div class="infoboxnotealso" id="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33__GUID-D9D4A61A-66CC-476E-AABF-DC489C9FD8F9">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="more-oci-advanced-topics.html#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" title="Starting with Oracle Database Release 12c Release 1 (12.1), Oracle provides an oraaccess.xml file, a client-side configuration file.">About oraaccess.xml</a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="LNOCI73057"></a><div class="props_rev_3"><a id="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" name="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F"></a><h6 id="LNOCI-GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" class="sect6"><span class="enumeration_section">11.6.3.2.3 </span>&lt;memory_target&gt;
                        </h6>
                        <div>
                           <p>This parameter is optional.</p>
                           <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;memory_target&gt;40M&lt;/memory_target&gt;
&lt;/auto_tune&gt;
</pre><p>Specified in bytes. Default is undefined. It specifies the total memory available across the auto tuning sessions in a process sharing this setting. This setting can be specified per process or per connect string alias.</p>
                              <p>Note that if specified per connect string alias, the total auto tuning memory used by a client process can add up.</p>
                              <p>Therefore, it may be preferable to specify auto tuning limits in the <code class="codeph">&lt;default_parameters&gt;</code> section of <code class="codeph">oraaccess.xml</code> file. This way you have a common pool of memory for all sessions in a client process.
                              </p>
                              <p>This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting.
                              </p>
                              <p>Using this parameter ensures the use of a consistent memory limit for auto tuning irrespective of installed RAM on that system.</p>
                              <p>If not specified, the auto tuning memory limit is based on the <code class="codeph">&lt;ram_threshold&gt;</code> parameter setting.
                              </p>
                              <p>If both <code class="codeph">&lt;ram_threshold&gt;</code> and <code class="codeph">&lt;memory_target&gt;</code> parameters are specified, the effective limit is the minimum of the two parameters.
                              </p>
                              <div class="infoboxnotealso" id="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F__GUID-5B2CC834-9233-4AC8-90A2-6CD14889A4CC">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="more-oci-advanced-topics.html#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" title="Starting with Oracle Database Release 12c Release 1 (12.1), Oracle provides an oraaccess.xml file, a client-side configuration file.">About oraaccess.xml</a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="LNOCI73019"></a><div class="props_rev_3"><a id="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" name="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A"></a><h5 id="LNOCI-GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" class="sect5"><span class="enumeration_section">11.6.3.3 </span>Comparison of the Connection Specific Auto-Tuning Parameters
                     </h5>
                     <div>
                        <p>Lists and describes  a comparison of all auto-tuning parameters.</p>
                        <div class="section">
                           <p><a href="more-oci-advanced-topics.html#GUID-53634FE6-85C0-4C37-92FF-FB711676F82A__CEGJIEJE" title="Describes a comparison of all auto-tuning parameters. The table consists of 3 columns. Column 1 is the auto-tuning parameter name, column 2 is the setting information and its semantics, and column 3 indicates whether the parameter is for auto-tuning or deployment setting.">Table 11-1</a> shows a comparison of the connection specific auto-tuning parameters.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A__CEGJIEJE">
                           <p class="titleintable">Table 11-1 Comparison of Some Connection Specific Auto-Tuning Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Comparison of Some Connection Specific Auto-Tuning Parameters" summary="Describes a comparison of all auto-tuning parameters. The table consists of 3 columns. Column 1 is the auto-tuning parameter name, column 2 is the setting information and its semantics, and column 3 indicates whether the parameter is for auto-tuning or deployment setting." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d125461e4931">Parameter</th>
                                    <th align="left" valign="bottom" width="27%" id="d125461e4934">Setting and Semantics</th>
                                    <th align="left" valign="bottom" width="36%" id="d125461e4937">For Auto-Tuning or Deployment Setting</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d125461e4942" headers="d125461e4931 ">
                                       <p><code class="codeph">&lt;statement_cache&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d125461e4942 d125461e4934 ">
                                       <p>Optional setting.</p>
                                       <p>Per session cache size.</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d125461e4942 d125461e4937 ">
                                       <p>If auto-tuning is enabled (see <span class="q">"<a href="more-oci-advanced-topics.html#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" title="Describes conditions that enable and disable OCI client auto-tuning.">Enabling and Disabling OCI Client Auto-Tuning</a>"</span>), this is the upper bound of each sessions statement cache size while its tuned by auto tuning.
                                       </p>
                                       <p>Or else it refers to the deployment setting for statement caching. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d125461e4964" headers="d125461e4931 ">
                                       <p><code class="codeph">&lt;auto_tune&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d125461e4964 d125461e4934 ">
                                       <p>Optional setting.</p>
                                       <p>Specify this parameter to use auto-tuning. Applies to all connections using this connect string or all connections if null connect string is specified.</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d125461e4964 d125461e4937 ">
                                       <p>Only auto-tuning related</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d125461e4977" headers="d125461e4931 ">
                                       <p><code class="codeph">&lt;ram_threshold&gt;</code><code class="codeph">0.1&lt;/ram_threshold&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d125461e4977 d125461e4934 ">
                                       <p>Optional setting.</p>
                                       <p>Converts the percentage setting to a memory value based on installed RAM on that client or mid-tier system.</p>
                                       <p>This is the upper limit of memory used for auto tuning within a client process.</p>
                                       <p>For installed RAM of 8GB, not specifying this parameter gives 800 KB of memory among the sessions.</p>
                                       <p>Note each connection can potentially have its own setting of auto tuning parameters so these values can add up for the whole process based on configuration settings. It is preferable to use this parameter hence in the <code class="codeph">&lt;default_parameters&gt;</code> section of the  <code class="codeph">oraaccess.xml</code> file. See <span class="q">"<a href="more-oci-advanced-topics.html#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" title="Lists some high level rules with regards to the oraaccess.xml file syntax stated here for simplicity.">File (oraaccess.xml) Properties</a>"</span> for a description of the syntax. 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d125461e4977 d125461e4937 ">
                                       <p>Only auto-tuning related. If auto-tuning is disabled, this parameter setting is ignored. This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d125461e5018" headers="d125461e4931 ">
                                       <p><code class="codeph">&lt;memory_target&gt;1048576&lt;/memory_target&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d125461e5018 d125461e4934 ">
                                       <p>Optional setting.</p>
                                       <p>This is the upper limit of memory used for auto tuning within a client process.</p>
                                       <p>Note each connection can potentially have its own setting of auto tuning parameters so these values can add up for the whole process based on configuration settings. It is preferable to use this parameter hence in the <code class="codeph">&lt;default_parameters&gt;</code> section of the  <code class="codeph">oraaccess.xml</code> file. 
                                       </p>
                                       <p>See <span class="q">"<a href="more-oci-advanced-topics.html#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" title="Lists some high level rules with regards to the oraaccess.xml file syntax stated here for simplicity.">File (oraaccess.xml) Properties</a>"</span> for a description of the syntax.
                                       </p>
                                       <p>Value is in bytes. 1,048,576 bytes is 1 MB.</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d125461e5018 d125461e4937 ">
                                       <p>Only auto-tuning related. If auto-tuning is disabled, this parameter setting is ignored. This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting. 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="LNOCI73020"></a><div class="props_rev_3"><a id="GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0" name="GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0"></a><h4 id="LNOCI-GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0" class="sect4"><span class="enumeration_section">11.6.4 </span>Usage Examples of Client Statement Cache Auto Tuning
                  </h4>
                  <div>
                     <p>The following are some usage examples showing use and interaction of client statement cache auto-tuning parameters that are also connection specific parameters.</p><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
</pre><p>The programmatic statement cache size will be replaced by this setting. Auto-tuning is disabled and cache is managed per LRU. In this case, the application developer believes the OCI application statement prefetching programmatic settings do not need to be overridden.</p><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
&lt;/auto_tune&gt;
</pre><p>Auto-tuning is enabled along with internal default settings.</p><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;memory_target&gt;40M&lt;/memory_target&gt;
&lt;/auto_tune&gt;
</pre><p>This statement caching deployment setting of 100 will replace the programmatic statement cache size and because auto-tuning is enabled, statement caching will be auto-tuned. The memory target setting is in effect because auto-tuning is enabled.</p>
                     <p>Auto tuning will always try to limit total statement cache memory used around a memory target. If a memory target is not specified, it is based on the percentage of total installed RAM.</p>
                     <p>In this case, the memory limit is the specified memory target.</p>
                     <div class="infoboxnotealso" id="GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0__GUID-3C52903D-1A11-4326-B93E-4F5381BA5114">
                        <p class="notep1">See Also:</p>
                        <p><a href="more-oci-advanced-topics.html#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="This parameter is optional and sets the limit for the statement caching tunable component.">&lt;statement_cache&gt;</a> for more information about auto-tuning is enabled along with internal default settings
                        </p>
                     </div>
                  </div>
               </div><a id="LNOCI73025"></a><div class="props_rev_3"><a id="GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" name="GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289"></a><h4 id="LNOCI-GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" class="sect4"><span class="enumeration_section">11.6.5 </span>Enabling and Disabling OCI Client Auto-Tuning
                  </h4>
                  <div>
                     <p>Describes conditions that enable and disable OCI client auto-tuning.</p>
                     <p>The following conditions enable and disable OCI client auto-tuning:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Auto-tuning is enabled when the client <code class="codeph">oraaccess.xml</code> <code class="codeph">&lt;auto_tune&gt;</code> section is added with enable specified as true, <code class="codeph">&lt;enable&gt;true&lt;/enable&gt;</code></p>
                        </li>
                        <li>
                           <p>Auto-tuning is disabled by default or when enable is set to false, &lt;enable&gt;false&lt;/enable&gt; in <code class="codeph">oraaccess.xml</code> under the <code class="codeph">&lt;auto_tune&gt;</code> section. 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73022"></a><div class="props_rev_3"><a id="GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63" name="GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63"></a><h4 id="LNOCI-GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63" class="sect4"><span class="enumeration_section">11.6.6 </span>Usage Guidelines for Auto-Tuning Client Statement Cache
                  </h4>
                  <div>
                     <p>Describes guidelines to use when setting the auto-tuning parameters.</p>
                     <p>The following are some guidelines to use when setting the auto-tuning parameters:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When either client response, memory allocation, or client CPU is high and you want to gain performance without rebuilding the OCI application, you can use <code class="codeph">&lt;auto_tune&gt;</code> settings or deployment <code class="codeph">&lt;statement_cache&gt;</code> settings. Auto tuning may also decrease the network bytes transferred between client and server.
                           </p>
                        </li>
                        <li>
                           <p>When AWR or ADDM reports lots of parses and you cannot or you may prefer not to programmatically modify the statement cache size, you can specify auto-tuning for statement cache or use the deployment statement cache setting <code class="codeph">&lt;statement_cache&gt;</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI73053"></a><a id="LNOCI73052"></a><div class="props_rev_3"><a id="GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" name="GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2"></a><h3 id="LNOCI-GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" class="sect3"><span class="enumeration_section">11.7 </span>OCI Client-Side Deployment Parameters Using oraaccess.xml
               </h3>
               <div>
                  <p>Describes the OCI client-side deployment parameters using oraaccess.xml.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" title="Starting with Oracle Database Release 12c Release 1 (12.1), Oracle provides an oraaccess.xml file, a client-side configuration file.">About oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" title="When equivalent parameters are set both in the sqlnet.ora and oraaccess.xml files, the oraaccess.xml file setting takes precedence over the corresponding sqlnet.ora file setting.">About Client-Side Deployment Parameters Specified in oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" title="Describes the high-level structure of the oraaccess.xml file.">High Level Structure of oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" title="As described, the <default_parameters&gt; tag allows specifying default values for various OCI parameters.">About Specifying Global Parameters in oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" title="Using the oraaccess.xml file also allows you to override the very same set of connection-specific parameters at the connection-string level as well.">Overriding Connection Parameters at the Connection-String Level</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" title="Lists some high level rules with regards to the oraaccess.xml file syntax stated here for simplicity.">File (oraaccess.xml) Properties</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" name="GUID-CD599644-135A-4116-8B3B-40A9BA172E5C"></a><h4 id="LNOCI-GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" class="sect4"><span class="enumeration_section">11.7.1 </span>About oraaccess.xml
                  </h4>
                  <div>
                     <p>Starting with Oracle Database Release 12<span class="italic">c</span> Release 1 (12.1), Oracle provides an <code class="codeph">oraaccess.xml</code> file, a client-side configuration file. 
                     </p>
                     <p>You can use the <code class="codeph">oraaccess.xml</code> file to configure selected OCI parameters (some of which are accepted programatically in various OCI API calls), thereby allowing OCI behavior to be changed during deployment without modifying the source code that calls OCI.
                     </p>
                     <p>Updates to the <code class="codeph">oraaccess.xml</code> file will not affect already running clients. In order to pick up any updates to the <code class="codeph">oraaccess.xml</code> file, already running clients need to be restarted.
                     </p>
                     <p>The <code class="codeph">oraaccess.xml</code> file is read from the directory specified by the <code class="codeph">TNS_ADMIN</code> environment variable in regular and instant client installations. This is the <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/network/admin</code> directory on UNIX operating systems and the <span class="italic"><code class="codeph">%ORACLE_HOME%</code></span><code class="codeph">\NETWORK\ADMIN</code> directory on Microsoft Windows operating systems, if <code class="codeph">TNS_ADMIN</code> is not set in regular client installations.
                     </p>
                  </div>
               </div><a id="LNOCI73054"></a><div class="props_rev_3"><a id="GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" name="GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B"></a><h4 id="LNOCI-GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" class="sect4"><span class="enumeration_section">11.7.2 </span>About Client-Side Deployment Parameters Specified in oraaccess.xml
                  </h4>
                  <div>
                     <p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.
                     </p>
                     <p></p>
                     <p>In such cases, Oracle recommends using the <code class="codeph">oraaccess.xml</code> file settings moving forward. For any network configuration, the <code class="codeph">sqlnet.ora</code> file continues to be the primary file as network level settings are not supported in the <code class="codeph">oraaccess.xml</code> file.
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" name="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06"></a><h4 id="LNOCI-GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" class="sect4"><span class="enumeration_section">11.7.3 </span>High Level Structure of oraaccess.xml
                  </h4>
                  <div>
                     <p>Describes the high-level structure of the <code class="codeph">oraaccess.xml</code> file.
                     </p>
                     <p>The <code class="codeph">oraaccess.xml</code> file has a top-level node <code class="codeph">&lt;oraaccess&gt;</code> with the following three elements:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">&lt;default_parameters&gt;</code> - This element describes any default parameter settings shared across connections. These default parameters include:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Defaults for global parameters - These global parameters can only be specified once and hence are applicable to all connections and cannot be overridden at the connection level. These parameters are specified using the following tags:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">&lt;events&gt;</code> - Creates the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode, which is required for Fast Application Notification (FAN) and runtime connection load balancing
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;result_cache&gt;</code> - Sets OCI client result cache parameters
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;diag&gt;</code> - Sets OCI fault diagnosability parameters
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Defaults for connection-specific parameters - Connection parameters can be set to different values for specific connections. However, they too can be defaulted, and overridden on a per connection string basis as needed. These defaults are shared across all connections (unless overridden at the connection level, which is described in the <code class="codeph">&lt;config_descriptions&gt;</code> list item) that follows. These defaults are specified by the following tags:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">&lt;prefetch&gt;</code> - Sets the number of prefetch rows for all queries; specified using the <code class="codeph">&lt;rows&gt;</code> parameter.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;statement_cache&gt;</code> - Sets the maximum number of statements that can be cached per session; specified using the <code class="codeph">&lt;size&gt;</code> parameter.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;auto tune&gt;</code> - Consists of: <code class="codeph">&lt;enable&gt;</code> to turn auto tuning on or off; <code class="codeph">&lt;ram_threshold&gt;</code>, which sets the memory threshold for auto-tuning to stop using more memory when available physical memory on the client system has reached this threshold; and <code class="codeph">&lt;memory_target&gt;</code>, which sets the memory limit that OCI auto-tuning can use per client process.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - Sets the action upon subscription failure to be either the value <code class="codeph">trace</code> or <code class="codeph">error</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;ons&gt;</code> - Sets a variety of ONS client-side deployment configuration parameters used for FAN notifications.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;config_descriptions&gt;</code> - This element associates a configuration alias element (<code class="codeph">&lt;config_alias&gt;</code>), which is basically a name, with a specific set of parameters (<code class="codeph">&lt;parameters&gt;</code>) that contain one or more connection parameters. These connection parameters are the same connection parameters within the element <code class="codeph">&lt;default_parameters&gt;</code> described previously, namely: <code class="codeph">&lt;prefetch&gt;</code>, <code class="codeph">&lt;statement_cache&gt;</code>, <code class="codeph">&lt;auto_tune&gt;</code>, <code class="codeph">&lt;fan_subscription_failure_action&gt; </code>and <code class="codeph">&lt;ons&gt;</code>. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;connection_configs&gt;</code> - This element associates one or more connection strings used by an application with a config alias, thus allowing multiple connection string elements to share the same set of parameters.
                           </p>
                           <p>A connection configuration element (<code class="codeph">&lt;connection_config&gt;</code>) associates a connection string element (<code class="codeph">&lt;connection_string&gt;</code>) with a configuration alias element (<code class="codeph">&lt;config_alias&gt;</code>).
                           </p>
                           <p>A connection string is indirectly associated with a set of parameters through the configuration alias, which allows multiple connection string elements to share the same set of parameters. </p>
                        </li>
                     </ul>
                     <p>The sections that follow describe these client-side deployment parameters in more detail. </p>
                     <div class="infoboxnotealso" id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06__GUID-4BA6A0B8-C4EE-4F12-8CAA-966EED83E479">
                        <p class="notep1">See Also:</p>
                        <p><a href="more-oci-advanced-topics.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a></p>
                     </div>
                  </div>
               </div><a id="LNOCI80678"></a><div class="props_rev_3"><a id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" name="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8"></a><h4 id="LNOCI-GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" class="sect4"><span class="enumeration_section">11.7.4 </span>About Specifying Global Parameters in oraaccess.xml
                  </h4>
                  <div>
                     <p>As described, the <code class="codeph">&lt;default_parameters&gt;</code> tag allows specifying default values for various OCI parameters.
                     </p>
                     <p>Of these, some parameters can only be specified once and hence apply to all connections. These global parameters are described using the following tags:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">&lt;events&gt;</code></p>
                           <p>This creates the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode, which is required for Fast Application Notification (FAN) and runtime connection load balancing.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;events&gt;
  true &lt;!--value could be false also --&gt;
&lt;/events&gt; 
</pre></li>
                        <li>
                           <p><code class="codeph">&lt;result_cache&gt;</code></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">&lt;max_rset_rows&gt;</code> - Maximum size of any result set in rows in the per-process query cache. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code> in the  <code class="codeph">sqlnet.ora</code> file.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_rset_size&gt;</code> - Maximum client result cache size. Set the size to 32,768 bytes (32 Kilobytes (KB)) or greater. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code> in the <code class="codeph">sqlnet.ora</code> file.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_size&gt;</code> - Maximum size in bytes for the per-process query cache. Specifying a size less than 32,768 in the client disables the client result cache feature. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code> in the <code class="codeph">sqlnet.ora</code> file.
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;result_cache&gt;
      &lt;max_rset_rows&gt;10&lt;/max_rset_rows&gt;
      &lt;max_rset_size&gt;65535&lt;/max_rset_size&gt;
      &lt;max_size&gt;65535&lt;/max_size&gt;
&lt;/result_cache&gt;
</pre><p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.
                           </p>
                           <p>See <a href="more-oci-advanced-topics.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting.">Table 11-2</a> for a listing of equivalent OCI parameter settings.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;diag&gt;</code></p>
                           <p>You can specify the following elements: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">&lt;adr_enabled&gt;</code> - Enables or disables diagnosability. Equivalent to <code class="codeph">DIAG_ADR_ENABLED</code> in the <code class="codeph">sqlnet.ora</code> file. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;dde_enabled&gt;</code> - Enables or disables DDE. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;adr_base&gt;</code> - Sets the ADR base directory, which is a system-dependent directory path string to designate the location of the ADR base to use in the current ADRCI session. Equivalent to <code class="codeph">ADR_BASE</code> in the <code class="codeph">sqlnet.ora</code> file. Value: directory path for ADR base directory.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;sighandler_enabled&gt;</code> - Enables or disables OCI signal handler. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;restricted&gt;</code> - Enables or disables full dump files. Oracle Database client contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information, to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended to turn on full dumps; this can greatly speed resolution of issues. Full dumps can be enabled by specifying a value of false. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;trace_events&gt;</code> - Indicates the trace event number and the level of tracing to be in effect. Currently only event 10883 is supported. The available levels are 5 and 10.
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;diag&gt;
   &lt;adr_enabled&gt;false&lt;/adr_enabled&gt;
   &lt;dde_enabled&gt;false&lt;/dde_enabled&gt;
   &lt;adr_base&gt;/foo/adr&lt;/adr_base&gt;
   &lt;sighandler_enabled&gt;false&lt;/sighandler_enabled&gt;
   &lt;restricted&gt;true&lt;/restricted&gt;
   &lt;trace_events&gt;
     &lt;trace_event&gt;
       &lt;number&gt;10883&lt;/number&gt;
       &lt;level&gt;5&lt;/level&gt;
     &lt;/trace_event&gt;
   &lt;/trace_events&gt;
&lt;/diag&gt;
</pre><p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.
                           </p>
                           <p>See <a href="more-oci-advanced-topics.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting.">Table 11-2</a> for a listing of equivalent OCI parameter settings.
                           </p>
                           <div class="tblformal" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB">
                              <p class="titleintable">Table 11-2 Equivalent OCI Parameter Settings in oraaccess.xml and sqlnet.ora</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Equivalent OCI Parameter Settings in oraaccess.xml and sqlnet.ora" summary="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting. " width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d125461e7003">Parameter Group</th>
                                       <th align="left" valign="bottom" width="25%" id="d125461e7006">oraaccess.xml Parameters</th>
                                       <th align="left" valign="bottom" width="50%" id="d125461e7009">sqlnet.ora Parameters</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d125461e7014" headers="d125461e7003 ">
                                          <p>OCI client result cache</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d125461e7014 d125461e7006 ">
                                          <p><code class="codeph">&lt;max_rset_rows&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d125461e7014 d125461e7009 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d125461e7026" headers="d125461e7003 ">
                                          <p>OCI client result cache</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d125461e7026 d125461e7006 ">
                                          <p><code class="codeph">&lt;max_rset_size&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d125461e7026 d125461e7009 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d125461e7038" headers="d125461e7003 ">
                                          <p>OCI client result cache</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d125461e7038 d125461e7006 ">
                                          <p><code class="codeph">&lt;max_size&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d125461e7038 d125461e7009 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d125461e7050" headers="d125461e7003 ">
                                          <p>OCI fault diagnosability</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d125461e7050 d125461e7006 ">
                                          <p><code class="codeph">&lt;adr_enabled&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d125461e7050 d125461e7009 ">
                                          <p><code class="codeph">DIAG_ADR_ENABLED</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d125461e7062" headers="d125461e7003 ">
                                          <p>OCI fault diagnosability</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d125461e7062 d125461e7006 ">
                                          <p><code class="codeph">&lt;dde_enabled&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d125461e7062 d125461e7009 ">
                                          <p><code class="codeph">DIAG_DDE_ENABLED</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d125461e7074" headers="d125461e7003 ">
                                          <p>OCI fault diagnosability</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d125461e7074 d125461e7006 ">
                                          <p><code class="codeph">&lt;adr_base&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d125461e7074 d125461e7009 ">
                                          <p><code class="codeph">ADR_BASE</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__GUID-AE7680E8-9D18-484B-B6FE-0892A5F3709E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=ADFNS213"><span><cite>Oracle Database Development Guide</cite></span></a> for information about deployment time settings for client result cache and client configuration file parameters
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=NETRF397"><span><cite>Oracle Database Net Services Reference</cite></span></a> for more information about ADR diagnostic parameters in the <code class="codeph">sqlnet.ora</code> file
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI73064"></a><div class="props_rev_3"><a id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" name="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0"></a><h4 id="LNOCI-GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" class="sect4"><span class="enumeration_section">11.7.5 </span>About Specifying Defaults for Connection Parameters
                  </h4>
                  <div>
                     <p>Describes the default values you can set for connection parameters shared across connections.</p>
                     <p>You can specify the following connection parameters that are shared across connections:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">&lt;prefetch&gt;</code> - Specifies prefetch row count for <code class="codeph">SELECT</code> statements.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;prefetch&gt;
  &lt;rows&gt;100&lt;/rows&gt;
&lt;/prefetch&gt;
</pre><p>Setting this parameter appropriately can help reduce round-trips to the database, thereby improving application performance.</p>
                           <p>Note that this only overrides the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> parameter (whether explicitly specified by the application or not). If the application has specified <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> explicitly, then the actual prefetch row count will be determined by using both constraints. The <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> constraint equivalent cannot be specified in the <code class="codeph">oraaccess.xml</code> file.
                           </p>
                           <p>Also note that OCI prefetching may still get disabled if the <code class="codeph">SELECT</code> statement fetches columns of specific data types. For more details, see <a href="using-sql_statements-in-oci.html#GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6" title="If an OCI application has processed a query, it is typically necessary to fetch the results with OCIStmtFetch2() after the statement has completed execution.">About Fetching Results</a> for information about limitations of OCI prefetch.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;statement_cache&gt;</code> - Specifies the number of OCI Statement handles that can be cached per session.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
</pre><p>Caching statement handles improves repeat execute performance by reducing client side and server side CPU consumption and network traffic. </p>
                           <p>Note that for this parameter to take effect, the application must be programmed to use <code class="codeph">OCIStatementPrepare2()</code> and <code class="codeph">OCIStatementRelease()</code> calls (and not the older <code class="codeph">OCISatementPrepare()</code> and <code class="codeph">OCIHandleFree()</code> equivalents for getting and disposing of statement handles.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;auto_tune&gt;</code> - Used to enable OCI Auto tuning.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;ram_threshold&gt;0.1&lt;/ram_threshold&gt;&lt;!--percentage --&gt;
  &lt;memory target&gt;2M&lt;/memory_target&gt;
&lt;/auto_tune&gt;
</pre><p>Enabling auto-tuning can help OCI automatically tune the statement-cache size based on specified memory constraints. This can help dynamically tune the statement cache size to an appropriate value based on runtime application characteristics and available memory resources.</p>
                           <p>Note that for auto tuning OCI Statement Cache, the application must be programmed to use <code class="codeph">OCIStatementPrepare2()</code> and <code class="codeph">OCIStatementRelease()</code> calls (and not the older <code class="codeph">OCISatementPrepare()</code> and <code class="codeph">OCIHandleFree()</code> equivalents for getting and disposing of statement handles.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - Used to determine how OCI responds to a failure to subscribe for FAN notifications.
                           </p>
                           <p>A value of <code class="codeph">trace</code> records any failure to subscribe for FAN notifications (if FAN is enabled) in the trace file and OCI proceeds ignoring the failure. A value of <code class="codeph">error</code> makes OCI return an error if an attempt to subscribe for FAN notifications fails.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;fan&gt;
  &lt;!--only possible values are "trace" and "error" --&gt;
  &lt;subscription_failure_action&gt;
    trace
  &lt;/subscription_failure_action&gt;
&lt;/fan&gt;
</pre></li>
                        <li>
                           <p><code class="codeph">&lt;ons&gt;</code> - Sets up Oracle Notification Service (ONS) parameters.
                           </p>
                           <p>You can specify the following connection parameters:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">&lt;subscription_wait_timeout&gt;</code> - Length of time in seconds the client waits for its subscription to the ONS server. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;auto_config&gt;</code> - true or false. If true, the configuration specified in this section will augment the auto configuration information that the client receives from the database. If false, it will override the same.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;thread_stack_size&gt;</code> - Size in bytes of the event notification thread stack.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;debug&gt;</code> - true or false. Whether debug mode is on (true) or off (false).
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;wallet_location&gt;</code> - Directory that contains an auto logon wallet file for a secure ONS subscription. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;servers&gt;</code> - Host list with ports and connection distribution.
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;ons&gt; 
  &lt;!--values or in seconds --&gt;
  &lt;subscription_wait_timeout&gt;
    5
  &lt;/subscription_wait_timeout&gt;
  &lt;auto_config&gt;true&lt;/auto_config&gt; &lt;!--boolean --&gt;
  &lt;threadstacksize&gt;100k&lt;/threadstacksize&gt;
  &lt;debug&gt;true&lt;/debug&gt;
  &lt;wallet_location&gt;/etc/oracle/wallets/&lt;/wallet_location&gt;
  &lt;servers&gt;
    &lt;address_list&gt;
       &lt;name&gt;pacific&lt;/name&gt;
       &lt;max_connections&gt; 3 &lt;\max_connections&gt;
       &lt;hosts&gt;
         10.228.215.121:25293,
         10.228.215.122:25293
       &lt;/hosts&gt;
    &lt;/address_list&gt;
    &lt;address_list&gt;
       &lt;name&gt;Europe&lt;/name&gt;
       &lt;max_connections&gt;3&lt;\max_connections&gt;
       &lt;hosts&gt;
         myhost1.mydomain.com:25273,
         myhost2.mydomain.com:25298,
         myhost3.mydomain.com:30004
       &lt;/hosts&gt;
    &lt;/address_list&gt;
  &lt;/servers&gt;
&lt;/ons&gt;
</pre></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0__GUID-50D0D8A4-F91E-493E-865E-69ED39355E31">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" title="This section specifies auto tune parameters.">&lt;auto_tune&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" title="This parameter is optional.">&lt;ram_threshold&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" title="This parameter is optional.">&lt;memory_target&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=JJUCP8275"><span><cite>Oracle Universal Connection Pool Developer’s Guide</cite></span></a> for information about ONS configuration parameters
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" name="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528"></a><h4 id="LNOCI-GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" class="sect4"><span class="enumeration_section">11.7.6 </span>Overriding Connection Parameters at the Connection-String Level
                  </h4>
                  <div>
                     <p>Using the <code class="codeph">oraaccess.xml</code> file also allows you to override the very same set of connection-specific parameters at the connection-string level as well. 
                     </p>
                     <div class="section">
                        <p>This allows for overriding those connection-specific parameters based on requirements of individual applications.</p>
                        <p>Using the <code class="codeph">&lt;config_descriptions&gt;</code> tag, you can specify a set of connection-specific parameters (<code class="codeph">&lt;parameters&gt;</code>) to be associated with a configuration alias (<code class="codeph">&lt;config_alias&gt;</code>, which creates a named group of connection-specific parameters). Thereafter, using the <code class="codeph">&lt;connection_configs&gt;</code> tag, you can associate one or more connection-strings (specified using the <code class="codeph">&lt;connection-string&gt;</code> tag) with a <code class="codeph">&lt;config_alias&gt;</code>. This permits a level of indirection that allows multiple <code class="codeph">&lt;connection_string&gt;</code> elements to share the same set of <code class="codeph">&lt;parameters&gt;</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example 1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example shows a very simple <code class="codeph">oraaccess.xml</code> file configuration that highlights defaulting of global and connection parameters applicable across all connections.
                        </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="ASCII" ?&gt; 
&lt;!--
     Here is a sample oraaccess.xml.
     This shows defaulting of global and connection parameters 
     across all connections. 
--&gt;
 &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
  xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
  schemaLocation="http://xmlns.oracle.com/oci/oraaccess
  http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
  &lt;default_parameters&gt;
    &lt;prefetch&gt;
      &lt;rows&gt;50&lt;/rows&gt; 
    &lt;/prefetch&gt;
    &lt;statement_cache&gt;
      &lt;size&gt;100&lt;/size&gt; 
    &lt;/statement_cache&gt;
    &lt;result_cache&gt;
      &lt;max_rset_rows&gt;100&lt;/max_rset_rows&gt; 
      &lt;max_rset_size&gt;10K&lt;/max_rset_size&gt; 
      &lt;max_size&gt;64M&lt;/max_size&gt; 
    &lt;/result_cache&gt;
  &lt;/default_parameters&gt;
&lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example 2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example shows connection parameters being overridden at the connection level.</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="ASCII" ?&gt; 
&lt;!-- 
        Here is a sample oraaccess.xml. 
        This highlights some connection parameters being
        overridden at the connection level
     --&gt; 
 &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
  xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
  schemaLocation="http://xmlns.oracle.com/oci/oraaccess
  http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
  &lt;default_parameters&gt;
    &lt;prefetch&gt;
      &lt;rows&gt;50&lt;/rows&gt; 
    &lt;/prefetch&gt;
    &lt;statement_cache&gt;
      &lt;size&gt;100&lt;/size&gt; 
    &lt;/statement_cache&gt;
    &lt;auto_tune&gt;
      &lt;enable&gt;true&lt;/enable&gt; 
      &lt;ram_threshold&gt;2.67&lt;/ram_threshold&gt; 
      &lt;memory_target&gt;204800&lt;/memory_target&gt; 
    &lt;/auto_tune&gt;
    &lt;result_cache&gt;
      &lt;max_rset_rows&gt;100&lt;/max_rset_rows&gt; 
      &lt;max_rset_size&gt;10K&lt;/max_rset_size&gt; 
      &lt;max_size&gt;64M&lt;/max_size&gt; 
    &lt;/result_cache&gt;
  &lt;/default_parameters&gt;
    &lt;!-- 
         Create configuration descriptions, which are  
         groups of connection parameters associated with
         a config_alias. 
    --&gt; 
  &lt;config_descriptions&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt;bar&lt;/config_alias&gt; 
      &lt;parameters&gt;
        &lt;prefetch&gt;
          &lt;rows&gt;20&lt;/rows&gt; 
        &lt;/prefetch&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt;foo&lt;/config_alias&gt; 
      &lt;parameters&gt;
        &lt;statement_cache&gt;
          &lt;size&gt;15&lt;/size&gt; 
        &lt;/statement_cache&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
  &lt;/config_descriptions&gt;
  &lt;!--   
         Now map the connection string used by the application 
         with a config_alias.  
  --&gt; 
  &lt;connection_configs&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;hr_db&lt;/connection_string&gt; 
      &lt;config_alias&gt;foo&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;finance_db&lt;/connection_string&gt; 
      &lt;config_alias&gt;bar&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
  &lt;/connection_configs&gt;
&lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example 3</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example highlights setup for FAN notifications. </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="ASCII" ?&gt; 
   &lt;!--
    Here is a sample for oraaccess.xml for 
    setting up for FAN notifications.
   --&gt; 
  &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
    xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
    schemaLocation="http://xmlns.oracle.com/oci/oraaccess
    http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
    &lt;default_parameters&gt;
      &lt;fan&gt;
        &lt;!-- only possible values are "trace" or "error" --&gt; 
        &lt;subscription_failure_action&gt;
          error
        &lt;/subscription_failure_action&gt; 
      &lt;/fan&gt;
      &lt;ons&gt;
        &lt;subscription_wait_timeout&gt;
          5
        &lt;/subscription_wait_timeout&gt; 
        &lt;auto_config&gt;true&lt;/auto_config&gt;  
      &lt;/ons&gt;
    &lt;events&gt;true&lt;/events&gt; 
    &lt;/default_parameters&gt;
  &lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example 4</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example highlights an advanced <code class="codeph">oraaccess.xml</code> file configuration usage with manual ONS settings. Manual ONS settings should be used rarely.
                        </p><pre class="oac_no_warn" dir="ltr">  &lt;?xml version="1.0" encoding="ASCII" ?&gt; 
    &lt;!-- 
       Here is a sample for oraaccess.xml that highlights
       manual ONS settings.
    --&gt; 
  &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
    xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
    schemaLocation="http://xmlns.oracle.com/oci/oraaccess
    http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
    &lt;default_parameters&gt;
      &lt;fan&gt;
       &lt;!-- only possible values are "trace" or "error"  --&gt; 
        &lt;subscription_failure_action&gt;
          error
        &lt;/subscription_failure_action&gt; 
      &lt;/fan&gt;
      &lt;ons&gt;
        &lt;subscription_wait_timeout&gt;
          5
        &lt;/subscription_wait_timeout&gt; 
        &lt;auto_config&gt;true&lt;/auto_config&gt;  
        &lt;!--This provides the manual configuration for ONS.
            Note that this functionality should not need to be used
            as auto_config can normally discover this 
            information. --&gt; 
        &lt;servers&gt;
          &lt;address_list&gt;
            &lt;name&gt;pacific&lt;/name&gt; 
            &lt;max_connections&gt;3&lt;/max_connections&gt; 
            &lt;hosts&gt;10.228.215.121:25293, 10.228.215.122:25293&lt;/hosts&gt; 
          &lt;/address_list&gt;
          &lt;address_list&gt;
            &lt;name&gt;Europe&lt;/name&gt; 
            &lt;max_connections&gt;3&lt;/max_connections&gt; 
            &lt;hosts&gt;myhost1.mydomain.com:25273, 
              myhost2.mydomain.com:25298, 
              myhost3.mydomain.com:30004&lt;/hosts&gt; 
          &lt;/address_list&gt;
        &lt;/servers&gt;
      &lt;/ons&gt;
      &lt;events&gt;true&lt;/events&gt; 
    &lt;/default_parameters&gt;
  &lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-F506AE50-2ADE-4582-8CC8-7289925F3AD8">
                           <p class="notep1">See Also:</p>
                           <p><a href="more-oci-advanced-topics.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a> about overriding the very same set of connection-specific parameters at the connection-string level
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI73068"></a><div class="props_rev_3"><a id="GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" name="GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691"></a><h4 id="LNOCI-GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" class="sect4"><span class="enumeration_section">11.7.7 </span>File (oraaccess.xml) Properties
                  </h4>
                  <div>
                     <p>Lists some high level rules with regards to the <code class="codeph">oraaccess.xml</code> file syntax stated here for simplicity. 
                     </p>
                     <p>The XML schema specified in the <code class="codeph">oraaccess.xsd</code> file is the ultimate formal reference for oraaccess syntax:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The contents of the file are case sensitive, and all elements (tags, parameter names) are in lower case.</p>
                        </li>
                        <li>
                           <p>Comments are allowed between parameters (nodes); for example, Comment "&lt;!-- comments --&gt;".</p>
                        </li>
                        <li>
                           <p>For the syntax with respect to the order of the parameters, see the XML Schema: <code class="codeph">oraaccess.xsd</code> file (see information about the <code class="codeph">oraaccess.xsd</code> file later in this list).
                           </p>
                        </li>
                        <li>
                           <p>For memory size, valid values and formats are 100, 100k, 100K, 1000M, and 1121m. This means only suffixes 'M', 'm', 'K', 'k', or no suffix are allowed. 'K' or 'k' means kilobytes and 'M' or 'm' means megabytes. No suffix means the size is in bytes.</p>
                        </li>
                        <li>
                           <p>&lt;ram_threshold&gt; should be a decimal number between 0 and 100 and indicates a percentage value. </p>
                        </li>
                        <li>
                           <p>Where a number is expected, only positive unsigned integers are allowed; no sign is allowed. An example of a valid number usage is <code class="codeph">&lt;statement_cache&gt; &lt;size&gt;100&lt;/size&gt; &lt;/statement_cache&gt;</code>).
                           </p>
                        </li>
                        <li>
                           <p>Configuration alias names (<code class="codeph">&lt;config_alias&gt;foo&lt;/config_alias&gt;</code>) are not case-sensitive
                           </p>
                        </li>
                        <li>
                           <p>String parameters (such as <code class="codeph">&lt;config_alias&gt;</code>) are not expected to be quoted.
                           </p>
                        </li>
                        <li>
                           <p>These rules are all encapsulated in the schema definition. </p>
                        </li>
                        <li>
                           <p>OCI will report an error if OCI is provided an invalid <code class="codeph">oraaccess.xml</code> file. 
                           </p>
                        </li>
                        <li>
                           <p>Before deploying an <code class="codeph">oraaccess.xml</code> file, Oracle recommends that you validate it with the Oracle supplied XML schema file: <code class="codeph">oraaccess.xsd</code>. The schema file is installed under <code class="codeph">ORACLE_HOME/rdbms/admin</code> in a regular client and under <code class="codeph">instantclient_12_2/sdk/admin</code> in an instant client SDK. Customers can use their own favorite XML validation tools to perform the validation after modifying the <code class="codeph">oraaccess.xml</code> file. 
                           </p>
                        </li>
                        <li>
                           <p>Sample <code class="codeph">oraaccess.xml</code> files can be found in the <code class="codeph">ORACLE_HOME/rdbms/demo</code> directory in a regular client and in the <code class="codeph">instantclient_12_2/sdk/demo</code> in an instant client. The parameters in these files are for demonstration purpose only and should be modified and tested as per the application's requirement before deploying it.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI73070"></a><a id="LNOCI1020"></a><div class="props_rev_3"><a id="GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" name="GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1"></a><h3 id="LNOCI-GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" class="sect3"><span class="enumeration_section">11.8 </span>Fault Diagnosability in OCI
               </h3>
               <div>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" title="Fault diagnosability was introduced into OCI in Oracle Database 11g Release 1 (11.1).">About Fault Diagnosability in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-6C60D154-9576-4C84-80F3-04DE75063C00" title="Describes how the location of the ADR base is determined.">ADR Base Location</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" title="ADRCI is a command-line tool that enables you to view diagnostic data within the ADR and to package incident and problem information into a zip file for Oracle Support to use.">Using ADRCI</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" title="Describes how to control ADR creation and disabling fault diagnosability using sqlnet.ora.">Controlling ADR Creation and Disabling Fault Diagnosability Using sqlnet.ora</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73071"></a><div class="props_rev_3"><a id="GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" name="GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176"></a><h4 id="LNOCI-GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" class="sect4"><span class="enumeration_section">11.8.1 </span>About Fault Diagnosability in OCI
                  </h4>
                  <div>
                     <p>Fault diagnosability was introduced into OCI in Oracle Database 11<span class="italic">g</span> Release 1 (11.1). 
                     </p>
                     <p>An incident (an occurrence of a problem) on the OCI client is captured without user intervention in the form of diagnostic data: dump files or core dump files. Up to Release 11.2.0.1, the diagnostic data was stored in an Automatic Diagnostic Repository (ADR) subdirectory created for the incident. For example, if a Linux or UNIX application fails with a <code class="codeph">NULL</code> pointer reference, then the core file is written in the ADR home directory (if it exists) instead of the operating system directory. The ADR subdirectory structure and a utility to deal with the output, ADR Command Interpreter (ADRCI), are discussed in the following sections. However, beginning with Release 11.2.0.2, the diagnostic data is stored in the current directory.
                     </p>
                     <p>An ADR home is the root directory for all diagnostic data for an instance of a particular product such as OCI and a particular operating system user. ADR homes are grouped under the same root directory, the ADR base. </p>
                     <p>Fault diagnosability and the ADR structure for Oracle Database are described in detail in the discussion of managing diagnostic data in Oracle Database Administrator's Guide.</p>
                  </div>
               </div><a id="LNOCI16758"></a><div class="props_rev_3"><a id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00" name="GUID-6C60D154-9576-4C84-80F3-04DE75063C00"></a><h4 id="LNOCI-GUID-6C60D154-9576-4C84-80F3-04DE75063C00" class="sect4"><span class="enumeration_section">11.8.2 </span>ADR Base Location
                  </h4>
                  <div>
                     <p>Describes how the location of the ADR base is determined.</p>
                     <p>The location of the ADR base is determined by OCI in the following order:</p>
                     <ol>
                        <li>
                           <p>For all diagnosability parameters, OCI first looks in the file <code class="codeph">oraaccess.xml</code>. If these parameters are not set there, then OCI looks next in <code class="codeph">sqlnet.ora</code> (if it exists) for a statement such as (Linux or UNIX):
                           </p><pre class="oac_no_warn" dir="ltr">ADR_BASE=<span class="italic">/foo/adr</span>
</pre><p><code class="codeph">adr</code> (the name of a directory) must exist and be writable by all operating system users who execute OCI applications and want to share the same ADR base. <code class="codeph">foo</code> stands for a path name. The location of <code class="codeph">sqlnet.ora</code> is given in the directory <code class="codeph">$TNS_ADMIN</code> (<code class="codeph">%TNS_ADMIN%</code> on Windows). If there is no <code class="codeph">$TNS_ADMIN</code> then the current directory is used. If <code class="codeph">ADR_BASE</code> is set and one <code class="codeph">sqlnet.ora</code> is shared by all users, then OCI stops searching when directory <code class="codeph">adr</code> does not exist or is not writable by the user. If <code class="codeph">ADR_BASE</code> is not set, then OCI continues the search, testing for the existence of certain directories.
                           </p>
                           <p>For example, if <code class="codeph">sqlnet.ora</code> contains the entry <code class="codeph">ADR_BASE=/home/chuck/test</code> then the ADR base is <code class="codeph">/home/chuck/test/oradiag_chuck</code> and the ADR home could be something like <code class="codeph">/home/chuck/test/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">$ORACLE_BASE</code></span> (<span class="italic"><code class="codeph">%ORACLE_BASE%</code></span> on Windows) exists. In this case, the client subdirectory exists because it was created during installation of the database using Oracle Universal Installer.
                           </p>
                           <p>For example, if <span class="italic"><code class="codeph">$ORACLE_BASE</code></span> is <code class="codeph">/home/chuck/obase</code> then the ADR base is <code class="codeph">/home/chuck/obase</code> and the ADR home could be similar to <code class="codeph">/home/chuck/obase/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <span class="italic"><code class="codeph">(%ORACLE_BASE%</code></span> on Windows) exists. In this case, the client subdirectory exists because it was created during installation of the database using Oracle Universal Installer.
                           </p>
                           <p>For example, if <span class="italic"><code class="codeph">$ORACLE_HOME</code></span> is <code class="codeph">/ade/chuck_l1/oracle</code> then the ADR base is <code class="codeph">/ade/chuck_l1/oracle/log</code> and the ADR home could be similar to <code class="codeph">/ade/chuck_l1/oracle/log/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p>Operating system home directory: <span class="italic"><code class="codeph">$HOME</code></span> on Linux or UNIX, or <span class="italic"><code class="codeph">%USERPROFILE%</code></span> on Windows. On Linux or UNIX the location could be something like this for user <code class="codeph">chuck</code>: <code class="codeph">/home/chuck/oradiag_chuck</code>. On Windows, a folder named <code class="codeph">Oracle</code> is created under <code class="codeph">C:\Documents and Settings\chuck</code>. 
                           </p>
                           <p>For example, in an Instant Client, if <span class="italic"><code class="codeph">$HOME</code></span> is <code class="codeph">/home/chuck</code> then the ADR base is <code class="codeph">/home/chuck/oradiag_chuck</code> and the ADR home could be <code class="codeph">/home/chuck/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p>On Windows, if the application is run as a service, the home directory option is skipped.</p>
                        </li>
                        <li>
                           <p>Temporary directory in the Linux or UNIX operating system: <code class="codeph">/var/tmp</code>.
                           </p>
                           <p>For example, in an Instant Client, if <span class="italic"><code class="codeph">$HOME</code></span> is not writable, then the ADR base is <code class="codeph">/var/tmp/oradiag_chuck</code> and the ADR home could be <code class="codeph">/var/tmp/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                           <p>Temporary directories in the Windows operating system, searched in this order:</p>
                           <ol type="a">
                              <li>
                                 <p><span class="italic"><code class="codeph">%TMP%</code></span></p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">%TEMP%</code></span></p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">%USERPROFILE%</code></span></p>
                              </li>
                              <li>
                                 <p>Windows system directory</p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                     <p>If none of these directory choices are available and writable, or the ADR base is not created and there are no diagnostics.</p>
                     <div class="infoboxnotealso" id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00__GUID-8E70175E-E386-4DAD-B646-7D3ED6AAE3BD">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="instant-client.html#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="The Instant Client feature simplifies the deployment of customer applications based on OCI, OCCI, ODBC, and JDBC OCI by eliminating the need for an Oracle home on the client machines.">About OCI Instant Client</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=NETRF398"><span><cite>Oracle Database Net Services Reference</cite></span></a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div><a id="LNOCI16759"></a><div class="props_rev_3"><a id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" name="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47"></a><h4 id="LNOCI-GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" class="sect4"><span class="enumeration_section">11.8.3 </span>Using ADRCI
                  </h4>
                  <div>
                     <p>ADRCI is a command-line tool that enables you to view diagnostic data within the ADR and to package incident and problem information into a zip file for Oracle Support to use.</p>
                     <div class="section">
                        <p>You can use ADRCI interactively and from a script. A <span class="italic">problem</span> is a critical error in OCI or the client. Each problem has a problem key. An <span class="italic">incident</span> is a single occurrence of a problem and is identified by a unique numeric incident ID. Each incident has a problem key that is a set of attributes: the <code class="codeph">ORA</code> error number, error parameter values, and other information. Two incidents have the same root cause if their problem keys match.
                        </p>
                        <p>What follows is a launch of ADRCI in a Linux system, a use of the <code class="codeph">HELP</code> command for the <code class="codeph">SHOW</code> <code class="codeph">BASE</code> command, and then the use of the <code class="codeph">SHOW</code> <code class="codeph">BASE</code> command with the option <code class="codeph">-PRODUCT</code> <code class="codeph">CLIENT</code>, which is necessary for OCI applications. The ADRCI commands are case-insensitive. User input is shown in bold.
                        </p><pre class="oac_no_warn" dir="ltr">% <span class="bold">adrci</span>
 
ADRCI: Release 12.2.0.0.0 - Development on Wed Dec 2 18:26:29 2015 
Copyright (c) 1982, 2015, Oracle.  All rights reserved. ADR base = "/u01/app/oracle/log"

 
adrci&gt; <span class="bold">help show base</span>
 
  Usage: SHOW BASE [-product &lt;product_name&gt;]
 
  Purpose: Show the current ADR base setting.
 
  Options:
    [-product &lt;product_name&gt;]: This option allows users to show the
    given product's ADR Base location. The current registered products are
    "CLIENT" and "ADRCI".
 
  Examples: 
    show base -product client
    show base
 
adrci&gt; <span class="bold">show base -product client</span>
ADR base = "/u01/app/oracle/log"
</pre><p>Next, the <code class="codeph">SET</code> <code class="codeph">BASE</code> command is described:
                        </p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">help set base</span>
 
  Usage:  SET BASE &lt;base_str&gt; | -product &lt;product_name&gt;
 
  Purpose: Set the ADR base to use in the current ADRCI session.
           If there are valid ADR homes under the base, all homes will
           will be added to the current ADRCI session.
 
  Arguments:
    &lt;base_str&gt;: It is the ADR base directory, which is a system-dependent
    directory path string.
    -product &lt;product_name&gt;: This option allows users to set the 
    given product's ADR Base location. The current registered products are
    "CLIENT" and "ADRCI".
 
  Notes:
    On platforms that use "." to signify current working directory,
    it can be used as base_str.
 
  Example: 
    set base /net/sttttd1/scratch/someone/view_storage/someone_v1/log
    set base -product client
    set base .
 
adrci&gt; <span class="bold">quit</span>
</pre><p>When <code class="codeph">ADRCI</code> is started, the default ADR base is for the <code class="codeph">rdbms</code> server. <span class="italic"><code class="codeph">$ORACLE_HOME</code></span> is set to <code class="codeph">"/u01/app/oracle/"</code>:
                        </p><pre class="oac_no_warn" dir="ltr">% <span class="bold">adrci</span>
 
ADRCI: Release 12.2.0.0.0 - Development on Wed Dec 2 18:26:29 2015
 
Copyright (c) 1982, 2015, Oracle.  All rights reserved.
 
ADR base = "/u01/app/oracle/log"
 adrci&gt;</pre><p>For OCI application incidents you must check and set the base:</p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">show base -product client</span>
ADR base is "/u01/app/oracle/log" 
adrci&gt; <span class="bold">set base /home/chuck_13/oradiag_chuck</span>
</pre><p>For Instant Client there is no <span class="italic"><code class="codeph">$ORACLE_HOME</code></span>, so the default base is the user's home directory:
                        </p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">show base -product client</span>
ADR base is "/home/chuck_13/oradiag_chuck"
adrci&gt; <span class="bold">set base /home/chuck/oradiag_chuck</span>
adrci&gt; <span class="bold">show incidents</span>
 
ADR Home = /home/chuck/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11:
*************************************************************************
INCIDENT_ID    PROBLEM_KEY           CREATE_TIME
-------------------------------------------------------------------------
1                     oci 24550 [6]              2015-12-02 17:20:02.803697 -07:00                      
1 rows fetched
 
adrci&gt;</pre><div class="infoboxnotealso" id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47__GUID-67B4CAD8-0E50-4FF6-8ACE-416AC11DE685">
                           <p class="notep1">See Also:</p>
                           <p><a href="instant-client.html#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="The Instant Client feature simplifies the deployment of customer applications based on OCI, OCCI, ODBC, and JDBC OCI by eliminating the need for an Oracle home on the client machines.">About OCI Instant Client</a></p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=SUTIL700"><span><cite>Oracle Database Utilities</cite></span></a> for an introduction to ADRCI
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI16760"></a><div class="props_rev_3"><a id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" name="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C"></a><h4 id="LNOCI-GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" class="sect4"><span class="enumeration_section">11.8.4 </span>Controlling ADR Creation and Disabling Fault Diagnosability Using sqlnet.ora
                  </h4>
                  <div>
                     <p>Describes how to control ADR creation and disabling fault diagnosability using sqlnet.ora.</p>
                     <div class="section">
                        <p>To disable diagnosability, turn off diagnostics by setting the following parameters in <code class="codeph">sqlnet.ora</code> (the default is <code class="codeph">TRUE</code>):
                        </p><pre class="oac_no_warn" dir="ltr">DIAG_ADR_ENABLED=FALSE
DIAG_DDE_ENABLED=FALSE
</pre><p>To turn off the OCI signal handler and reenable standard operating system failure processing, place the following parameter setting in <code class="codeph">sqlnet.ora</code>:
                        </p><pre class="oac_no_warn" dir="ltr">DIAG_SIGHANDLER_ENABLED=FALSE
</pre><p>As noted previously, <code class="codeph">ADR_BASE</code> is used in <code class="codeph">sqlnet.ora</code> to set the location of the ADR base.
                        </p>
                        <p>Oracle Database client contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information, to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended to turn on full dumps; this can greatly speed resolution of issues. Full dumps can be enabled by adding the following line to the <code class="codeph">sqlnet.ora</code> file used by your Oracle Database client installation:
                        </p><pre class="oac_no_warn" dir="ltr">DIAG_RESTRICTED=FALSE
</pre><p>To verify that diagnosability features are working correctly:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Upgrade your application to use the latest client libraries.</span></li>
                        <li><span>Start your application. </span></li>
                        <li><span>Check the file <code class="codeph">sqlnet.log</code> in your application's <code class="codeph">TNS_ADMIN</code> directory for error messages indicating that diagnosability could not be started (normally this is due to invalid directory names or permissions).</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C__GUID-AB4CAD3A-85E2-462F-ACC5-B291C777163D">
                           <p class="notep1">See Also:</p>
                           <p> </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=NETRF397"><span><cite>Oracle Database Net Services Reference</cite></span></a> for the ADR parameter settings in <code class="codeph">sqlnet.ora</code></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=NETAG1524"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for more information about the structure of ADR
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI16761"></a><div class="props_rev_3"><a id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9" name="GUID-AB481881-FE50-4617-BB45-0C817815EAA9"></a><h3 id="LNOCI-GUID-AB481881-FE50-4617-BB45-0C817815EAA9" class="sect3"><span class="enumeration_section">11.9 </span>Client and Server Operating with Different Versions of Time Zone Files
               </h3>
               <div>
                  <p>In Oracle Database Release 11.2 (or later) you can use different versions of the time zone file on the client and server; this mode of operation was not supported before Oracle database Release 11.2. </p>
                  <p>Both client and server must be 11.2 or later to operate in such a mixed mode. This section discusses the ramifications of operating in such a mode. To avoid these ramifications use the same time zone file version for client and server.</p>
                  <p>The following behavior is seen when the client and server use different time zones file versions. Note that the use of different time zone file versions only affects the handling of <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> (<code class="codeph">TSTZ</code>) data type values.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The OCI Datetime and Interval APIs listed here unconditionally raise an error when the input parameters are of <code class="codeph">TSTZ</code> type. This is because these operations depend on the local time zone file on the client that is not synchronized with the database. Continuing with the computation in such a configuration can result in inconsistent computations across the client and database tiers.
                        </p><pre class="oac_no_warn" dir="ltr"><a href="oci-date-datetime-and-interval-functions.html#GUID-5FFD4B08-30E1-461E-8E55-940787D6D8EC" title="Compares two datetime values.">OCIDateTimeCompare()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-FC053036-BE93-42D7-A82C-4DDB6843E167" title="Constructs a datetime descriptor.">OCIDateTimeConstruct()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-744793B2-CD2F-47AC-825A-6FF5BEE12BAB" title="Converts one datetime type to another.">OCIDateTimeConvert()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-BD2F6432-81FF-4CD6-9C3D-85E401894528" title="Takes two datetimes as input and stores their difference in an interval.">OCIDateTimeSubtract()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-0E4AF4DD-5EEB-434D-BA3A-F4EDE7038FF5" title="Adds two intervals to produce a resulting interval.">OCIIntervalAdd()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-2D0465BC-B8EA-4F41-B200-587F49D0B2CB" title="Subtracts two intervals and stores the result in an interval.">OCIIntervalSubtract()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-12B19818-0001-42F1-8B2C-FD96B7C3231C" title="Returns an OCI_DTYPE_INTERVAL_DS of data type OCIInterval with the region ID set (if the region is specified in the input string) and the current absolute offset, or an absolute offset with the region ID set to 0.">OCIIntervalFromTZ()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-489C51F6-43DB-43DB-980F-2A42AFAFB332" title="Gets the time zone name portion of a datetime value.">OCIDateTimeGetTimeZoneName()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-B8DA860B-FD7D-481B-8347-156969B6EE04" title="Gets the time zone (hour, minute) portion of a datetime value.">OCIDateTimeGetTimeZoneOffset()</a><a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "Returns an ORA-01805 error when timezone files on the client and server do not match (regions are not synchronized); returns OCI_SUCCESS when region time zone values are the same (represent the same instant in UTC), though the TIME ZONE offsets are different.")"><sup>Foot&nbsp;1</sup></a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-086776F8-1153-417D-ABC6-A864A2A62788" title="Gets the system current date and time as a time stamp with time zone.">OCIDateTimeSysTimeStamp()</a>
</pre></li>
                     <li>
                        <p>There is a performance penalty when you retrieve or modify <code class="codeph">TSTZ</code> values. The performance penalty arises because of the additional conversions needed to compensate for the client and server using different time zone file versions.
                        </p>
                     </li>
                     <li>
                        <p>If new time zone regions are defined by the more recent time zone file, you can see an error operating on a <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> value belonging to the new region on a node that has a time zone file version that does not recognize the new time zone region.
                        </p>
                     </li>
                  </ul>
                  <p>Applications that manipulate opaque type or <code class="codeph">XMLType</code> instances or both containing <code class="codeph">TSTZ</code> type attributes must use the same time zone file version on client and server to avoid data loss.
                  </p>
                  <div class="infoboxnotealso" id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9__GUID-C7AEE111-2B3B-42B6-B09A-9DD956F6D927">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=NLSPG259"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for information about upgrading the time zone file and timestamp with time zone data
                     </p>
                  </div>
               </div>
            </div><a id="LNOCI17889"></a><div class="props_rev_3"><a id="GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE" name="GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE"></a><h3 id="LNOCI-GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE" class="sect3"><span class="enumeration_section">11.10 </span>Support for Pluggable Databases
               </h3>
               <div>
                  <p>The multitenant architecture enables an Oracle database to contain a portable collection of schemas, schema objects, and nonschema objects that appear to an Oracle client as a separate database. </p>
                  <p>A multitenant container database (CDB) is an Oracle database that includes one or more pluggable databases (PDBs).</p>
                  <p>OCI clients can connect to a PDB using a service whose pluggable database property has been set to the relevant PDB. </p>
                  <div class="p">In general, OCI calls behave the same way whether connected to a pluggable database or a normal database. OCI calls and features that require special consideration with a CDB are described in the sections that follow:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-4C965D60-4E18-4DFD-BCB5-0012A62374D9" title="These enhancements are the result of restrictions that are now removed for Oracle Database 12c Release 2 (12.2) and later.">Enhancements on OCI API Calls with Multitenant Container Databases (CDB) in General</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-AC92270B-CD17-40C4-B24E-76C05F78950E" title="Some OCI restrictions about using the&nbsp;ALTER SESSION SET CONTAINER&nbsp;statement are removed.">OCI Enhancements for ALTER SESSION SET CONTAINER</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-8B3BD02D-9664-4155-B76F-401A24148303" title="Descriptions general restrictions.">Restrictions on OCI API Calls with Multitenant Container Databases (CDB) in General</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-13E3AA25-5A91-4729-8649-F84DA8951023" title="Describes specific restrictions.">Restrictions on OCI Calls with ALTER SESSION SET CONTAINER</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-4C3E5E82-2DA9-4A9A-9169-78EEBD9D25F7" title="Describes a restriction on OCI calls with the ALTER SESSION SWITCH CONTAINER SWITCH SERVICE statement.">Restrictions on OCI Calls with ALTER SESSION SWITCH CONTAINER SWITCH SERVICE</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE__GUID-9DC3F081-F819-4ABE-9C30-5D8F61DA1BE4">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=ADMIN13974"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about PDBs and for more details about configuring the services to connect to various PDBs
                        </p>
                     </div> 
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4C965D60-4E18-4DFD-BCB5-0012A62374D9" name="GUID-4C965D60-4E18-4DFD-BCB5-0012A62374D9"></a><h4 id="LNOCI-GUID-4C965D60-4E18-4DFD-BCB5-0012A62374D9" class="sect4"><span class="enumeration_section">11.10.1 </span>Enhancements on OCI API Calls with Multitenant Container Databases (CDB) in General
                  </h4>
                  <div>
                     <p>These enhancements are the result of restrictions that are now removed for Oracle Database 12<span class="italic">c</span> Release 2 (12.2) and later.
                     </p>
                     <p>The following enhancements are the result of restrictions that are now removed for Oracle Database 12<span class="italic">c</span> Release 2 (12.2) and later.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Client result cache works with connections to Pluggable Databases.</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-AC92270B-CD17-40C4-B24E-76C05F78950E" name="GUID-AC92270B-CD17-40C4-B24E-76C05F78950E"></a><h4 id="LNOCI-GUID-AC92270B-CD17-40C4-B24E-76C05F78950E" class="sect4"><span class="enumeration_section">11.10.2 </span>OCI Enhancements for ALTER SESSION SET CONTAINER
                  </h4>
                  <div>
                     <p>Some OCI restrictions about using the&nbsp;<code class="codeph">ALTER SESSION SET CONTAINER</code>&nbsp;statement are removed. 
                     </p>
                     <p>The client must be Oracle Database Release 12<span class="italic">c</span> Release 2 (12.2) to perform these operations. Lower version clients are returned an error if any of the following operations is attempted.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The&nbsp;<code class="codeph">ALTER SESSION SET CONTAINER</code>&nbsp;statement supports applications that use&nbsp;<code class="codeph">TIMESTAMP WITH TIMEZONE</code>&nbsp;or&nbsp;<code class="codeph">TIMESTAMP WITH LOCAL TIMEZONE</code>&nbsp;data types in OCI. The semantics of these types are preserved when the application switches between pluggable databases having different database time zone settings or different database time zone file version settings.
                           </p>
                        </li>
                        <li>
                           <p>The&nbsp;<code class="codeph">ALTER SESSION SET CONTAINER</code>&nbsp;statement supports the use of this command to switch an OCI connection between any two pluggable databases whose character sets are different.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8B3BD02D-9664-4155-B76F-401A24148303" name="GUID-8B3BD02D-9664-4155-B76F-401A24148303"></a><h4 id="LNOCI-GUID-8B3BD02D-9664-4155-B76F-401A24148303" class="sect4"><span class="enumeration_section">11.10.3 </span>Restrictions on OCI API Calls with Multitenant Container Databases (CDB) in General
                  </h4>
                  <div>
                     <p>Descriptions general restrictions.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An attempt to logon in <code class="codeph">OCI_PRELIM_AUTH</code> mode when connected to any container other than <code class="codeph">CDB$ROOT</code> will result in an <code class="codeph">ORA-24542</code> error.
                           </p>
                        </li>
                        <li>
                           <p>An attempt to issue <code class="codeph">OCIDBStartup()</code> when connected to any container other than <code class="codeph">CDB$ROOT</code> results in an <code class="codeph">ORA-24543</code> error.
                           </p>
                        </li>
                        <li>
                           <p>An attempt to issue <code class="codeph">OCIDBShutdown()</code> when connected to any container other than <code class="codeph">CDB$ROOT</code> results in an <code class="codeph">ORA-24543</code> error. When <code class="codeph">OCIDBShutdown()</code> is issued connected to <code class="codeph">CDB$ROOT</code>, it brings down the whole instance.
                           </p>
                        </li>
                        <li>
                           <p>OCI Continuous Query Notification (CQN) is not supported with CDB.</p>
                        </li>
                        <li>
                           <p>OCI applications linked against a client library older than release 12.1 or higher and connecting to a pluggable database will not be able to utilize Fast Application Notification (FAN) High Availability (HA) functionality when connected as a normal (non-common) user. As a workaround, such applications should connect as a common user. This restriction does not exist for release 12.1 or higher OCI clients.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-8B3BD02D-9664-4155-B76F-401A24148303__GUID-3E40FA96-8E5C-4B0F-B68A-4F8D28805B18">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-8E4CB0D4-DC77-4AA1-A3F8-9C05DE595353" title="Starts an Oracle Database instance.">OCIDBStartup()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-01C4FDCA-2719-4C5C-9348-B9909D178F4F" title="Shuts down an Oracle Database instance.">OCIDBShutdown()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-13E3AA25-5A91-4729-8649-F84DA8951023" name="GUID-13E3AA25-5A91-4729-8649-F84DA8951023"></a><h4 id="LNOCI-GUID-13E3AA25-5A91-4729-8649-F84DA8951023" class="sect4"><span class="enumeration_section">11.10.4 </span>Restrictions on OCI Calls with ALTER SESSION SET CONTAINER
                  </h4>
                  <div>
                     <p>Describes specific restrictions.</p>
                     <p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement can be used to switch an OCI connection from one pluggable database to another. However, applications that use the <code class="codeph">ALTER SESSION SET CONTAINER</code> statement to switch between pluggable databases need to ensure that their usage is consistent with the OCI restrictions described as follows.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is disallowed for OCI migratable sessions (such as sessions created with <code class="codeph">OCI_MIGRATE</code> mode during logon) and the combination results in an <code class="codeph">ORA-65135</code> error.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is not supported with OCI connection pool (which is the old OCI connection pool API) and the combination results in an <code class="codeph">ORA-65135</code> error.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is not supported in conjunction with OCI session switching (wherein multiple OCI user handles share the same OCI server handle).
                           </p>
                        </li>
                        <li>
                           <p>If the client initially connects to a container with a <code class="codeph">EXTENDED MAX_STRING_SIZE</code> setting, and then within the same session switches to a container (using an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement) with an <code class="codeph">STANDARD MAX_STRING_SIZE</code> setting, then a subsequent <code class="codeph">OCIStmtExecute()</code> call will result in an <code class="codeph">ORA-14697</code> error if an attempt is made to use any bind variables of size greater than 4000 bytes. 
                           </p>
                        </li>
                        <li>
                           <p>An attempt to fetch from an OCI statement handle using <code class="codeph">OCIStmtFetch()</code> or <code class="codeph">OCIStmtFetch2()</code> in the context of a different container than the one in which it was executed will result in an <code class="codeph">ORA-65108</code> error.
                           </p>
                        </li>
                        <li>
                           <p>OCI client result cache is disabled if an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is done in OCI.
                           </p>
                        </li>
                        <li>
                           <p>Fast Application Notification (FAN) and Runtime Connection Load Balancing notifications are not supported for applications that switch connections between pluggable databases using an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement sets the current transaction, if any, to read only and any attempt to perform any of the OCI transaction calls (<code class="codeph">OCITransStart()</code>, <code class="codeph">OCITransDetach()</code>, <code class="codeph">OCITransCommit()</code>, <code class="codeph">OCITransRollback()</code>, <code class="codeph">OCITransPrepare()</code>, <code class="codeph">OCITransMultiPrepare()</code>, <code class="codeph">OCITransForget()</code>) will return an error in the new container. In order to issue any of these calls, you need to switch back to the original container.
                           </p>
                        </li>
                        <li>
                           <p>If an <code class="codeph">OCISubscriptionUnRegister()</code> call is attempted in the context of an incorrect container (different from the container on which the corresponding <code class="codeph">OCISubscriptionRegister()</code> call was done), then an <code class="codeph">ORA-24950</code> is returned.
                           </p>
                        </li>
                        <li>
                           <p>A <code class="codeph">OCIDescribeAny()</code> call with <code class="codeph">OCI_PTYPE_DATABASE</code> describes the database to which the connection is connected. After an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is done, if the application wants to see the current database description, the <code class="codeph">OCIDescribeAny()</code> call will need to be reissued.
                           </p>
                        </li>
                        <li>
                           <p>Calls to any OCI Any Data, collection, or object functions that are used to manipulate an object from a different container are not supported.</p>
                        </li>
                        <li>
                           <p>An <code class="codeph">OCIObjectFlush()</code> call is supported only in the container where the object instance was created with an <code class="codeph">OCIObjectNew()</code> call.
                           </p>
                        </li>
                        <li>
                           <p>Oracle recommends that <code class="codeph">OCIObjectFlush()</code> be called prior to switching containers with an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement. Note that an <code class="codeph">OCIObjectFlush()</code> call will start a transaction if one is not already started.
                           </p>
                        </li>
                        <li>
                           <p>An <code class="codeph">OCIObjectFlush()</code> call done after switching containers may return an error if a transaction was already started earlier on another container by the same session (either as a result of explicit DMLs or as a result of an <code class="codeph">OCIObjectFlush()</code>call).
                           </p>
                        </li>
                        <li>
                           <p>An <code class="codeph">OCIObjectFlush()</code> call only flushes objects dirtied in the context of the container in which the <code class="codeph">OCIObjectFlush()</code> call is issued.
                           </p>
                        </li>
                        <li>
                           <p>Various session attributes may change on an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement. If an application caches these attributes, their settings may no longer be the same after an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement. Examples of attributes that can be obtained with an <code class="codeph">OCIAttrGet()</code> call and which can change on an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement include the following:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__CACDAAEB">OCI_ATTR_CURRENT_SCHEMA</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__CACCDIBD">OCI_ATTR_INITIAL_CLIENT_ROLES</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__BAJHBAFA">OCI_ATTR_EDITION</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__CACDAIBD">OCI_ATTR_MAX_OPEN_CURSORS</a></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-13E3AA25-5A91-4729-8649-F84DA8951023__GUID-34026AA9-FB64-4015-9FE6-4BAF42DCEF26">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=SQLRF55623"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about <code class="codeph">MAX_STRING_SIZE</code></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                           </li>
                           <li>
                              <p><a href="deprecated-oci-functions.html#GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" title="This function was deprecated in a release previous to Oracle 11g R2 (11.2).">OCIStmtFetch()</a> or <a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a></p>
                           </li>
                           <li>
                              <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a>, <a href="transaction-functions.html#GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" title="Detaches a global transaction.">OCITransDetach()</a>, <a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a>, <a href="transaction-functions.html#GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" title="Rolls back the current transaction.">OCITransRollback()</a>, <a href="transaction-functions.html#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" title="Prepares a global transaction for commit.">OCITransPrepare()</a>, <a href="transaction-functions.html#GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7" title="Prepares a transaction with multiple branches in a single call.">OCITransMultiPrepare() </a>, <a href="transaction-functions.html#GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00" title="Causes the server to forget a heuristically completed global transaction.">OCITransForget()</a></p>
                           </li>
                           <li>
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a> and <a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="Describes existing schema and subschema objects.">OCIDescribeAny()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4C3E5E82-2DA9-4A9A-9169-78EEBD9D25F7" name="GUID-4C3E5E82-2DA9-4A9A-9169-78EEBD9D25F7"></a><h4 id="LNOCI-GUID-4C3E5E82-2DA9-4A9A-9169-78EEBD9D25F7" class="sect4"><span class="enumeration_section">11.10.5 </span>Restrictions on OCI Calls with ALTER SESSION SWITCH CONTAINER SWITCH SERVICE
                  </h4>
                  <div>
                     <p>Describes a restriction on  OCI calls with the <code class="codeph">ALTER SESSION SWITCH CONTAINER SWITCH SERVICE</code> statement.
                     </p>
                     <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the <code class="codeph">ALTER SESSION SWITCH CONTAINER SWITCH SERVICE</code> statement is added, which may result in a change of service attributes if the new service is configured differently than when connected to the original service. However, OCI will not alter its processing based on the new settings with this statement; instead, it will continue to use the original settings as when connected to the original service. For example, FAN on/off, TAF on/off settings, and so forth will remain the same as when first connected to the original service. This is considered the desired behavior after the switch as the normal use case for the <code class="codeph">ALTER SESSION SWITCH CONTAINER SWITCH SERVICE</code> statement is in a multitenant environment with the same application being in use after the switch.
                     </p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-C64136C2-CF65-4507-8811-9A03946CC817" name="GUID-C64136C2-CF65-4507-8811-9A03946CC817"></a><h3 id="LNOCI-GUID-C64136C2-CF65-4507-8811-9A03946CC817" class="sect3"><span class="enumeration_section">11.11 </span>About the OCI Interface for Using Shards
               </h3>
               <div>
                  <p>Describes the OCI interface for using Oracle Sharding.</p>
                  <p>Shards are locations in a set of databases where each database stores some part of the data. The part of the data stored at each database is represented by a set of <span class="italic">chunks</span>, where each chunk is associated with a certain range of the data. 
                  </p>
                  <p>To make requests that read from or write to a chunk, your application must be routed to the appropriate database (shard) that stores that chunk during the connection initiation step. This routing is accomplished by using a data key. The data key enables routing to the specific chunk by specifying its sharding key or to a group of chunks by specifying its super sharding key. In order to get a connection to the correct shard containing the chunk you wish to operate on, you must specify a key in your application before getting a connection to a sharded Oracle database for either standalone connections or connections obtained from an OCI Session pool. For an OCI Session pool, you must specify a data key before you check out connections from the pool.</p>
                  <p>For OCI Session pools and stand alone connections, the steps to form sharding keys and shard group keys and get a session with an underlying connection include:</p>
                  <ol>
                     <li>
                        <p>Allocate the sharding key descriptor by calling <code class="codeph">OCIDescriptorAlloc()</code> and specifying the descriptor type parameter as <code class="codeph">OCI_DTYPE_SHARDING_KEY</code> to form the sharding key.
                        </p>
                        <ol type="a">
                           <li>
                              <p>Add all of the columns of the sharding key by calling <code class="codeph">OCIShardingKeyColumnAdd()</code> as many times as is needed to form the complete sharding key.
                              </p>
                           </li>
                           <li>
                              <p>Call <code class="codeph">OCIAttrSet()</code> and specify the <code class="codeph">OCI_ATTR_SHARDING_KEY</code> attribute to set the sharding key on the authentication handle. 
                              </p>
                           </li>
                        </ol>
                     </li>
                     <li>
                        <p>Allocate the shard group key descriptor by calling <code class="codeph">OCIDescriptorAlloc()</code> and specifying the descriptor type parameter as <code class="codeph">OCI_DTYPE_SHARDING_KEY</code> to form the shard group key.
                        </p>
                        <ol type="a">
                           <li>
                              <p> Add all of the group columns of the sharding key by calling <code class="codeph">OCIShardingKeyColumnAdd()</code> as many times as is needed to form the complete shard group key.
                              </p>
                           </li>
                           <li>
                              <p>Call <code class="codeph">OCIAttrSet()</code> and specify the <code class="codeph">OCI_ATTR_SUPER_SHARDING_KEY</code> attribute to set the shard group key on the authentication handle. 
                              </p>
                           </li>
                        </ol>
                     </li>
                     <li>
                        <p>Call <code class="codeph">OCISessionGet()</code> using the initialized authentication handle from the previous step containing the sharding key and shard group key information to get the database connection to the shard and chunk specified by the sharding key and group of chunks as specified by the shard group key.
                        </p>
                     </li>
                  </ol>
                  <p>For custom pools, the steps to form sharding keys and shard group keys and check out a connection from the pool include:</p>
                  <ol>
                     <li>
                        <p>If there are no existing connections in your custom pool, go directly to Step 7. Otherwise, do the following steps.</p>
                     </li>
                     <li>
                        <p>Allocate the sharding key descriptor by calling <code class="codeph">OCIDescriptorAlloc()</code> and specifying the descriptor type parameter as <code class="codeph">OCI_DTYPE_SHARDING_KEY</code> to form the sharding key. Add all of the columns of the sharding key by calling <code class="codeph">OCIShardingKeyColumnAdd()</code> as many times as is needed to form the complete sharding key.
                        </p>
                     </li>
                     <li>
                        <p>Allocate the shard group key descriptor by calling <code class="codeph">OCIDescriptorAlloc()</code> and specifying the descriptor type parameter as <code class="codeph">OCI_DTYPE_SHARDING_KEY</code> to form the shard group key. Add all of the group columns of the sharding key by calling <code class="codeph">OCIShardingKeyColumnAdd()</code> as many times as is needed to form the complete shard group key.
                        </p>
                     </li>
                     <li>
                        <p>Call <code class="codeph">OCIShardInstancesGet()</code> with the sharding key, super sharding key descriptors and the connect string to return the instance name or names that contain the desired chunk for the specified sharding key descriptor and super sharding key descriptor.
                        </p>
                     </li>
                     <li>
                        <p>Examine each connection in the custom pool to see if it points to one of the instances whose name was returned by <code class="codeph">OCIShardInstancesGet()</code>. To check the instance that a connection in your custom pool points to, you can get the instance name using <code class="codeph">OCI_ATTR_INSTNAME</code> on the service context handle (<code class="codeph">OCISvcCtx *</code>).
                        </p>
                     </li>
                     <li>
                        <p>If you find a suitable connection in your custom pool that points to one of the desired instances, then call <code class="codeph">OCIAttrSet()</code> to associate the sharding key and super sharding key with that connection. Now the connection is ready for executing your application's OCI calls on the desired shard. You can skip Step 7. If you do not find a suitable connection in your custom pool that points to the desired instance, continue to Step 7.
                        </p>
                     </li>
                     <li>
                        <p>If there is no matching connection found, create a new connection with the sharding key, super sharding key, and connect string and call <code class="codeph">OCISessionGet()</code> and specify the <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> mode to explicitly cache the shard topology that contains the shard to chunking mapping information. Now you have a connection to the desired shard. Now the connection is ready for executing your application's OCI calls on the desired shard.
                        </p>
                     </li>
                  </ol>
                  <p>Providing the sharding key or a super sharding key to OCI enables it to get a connection to the desired shard. As previously noted, these keys must be specified before getting a standalone connection to the database, or before checking out a connection from the OCI Session pool so that an appropriate connection to the desired shard can be returned.</p>
                  <p>In the case of custom pools, when the pool is empty, the custom pool implementer can use the steps as described above to first create standalone connections to the desired shards by providing the sharding key and super sharding key (with <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> mode) to populate the custom pool, and secondly, for subsequent requests for connections to specific shards, use the <code class="codeph">OCIShardInstancesGet()</code> call as described in conjunction with <code class="codeph">OCIAttrGet()</code> of <code class="codeph">OCI_ATTR_INSTNAME</code> to determine if an existing connection to the desired shard already exists in the custom pool, and if it does, then the connection can be reused.
                  </p>
                  <div class="p">The section describes the OCI interfaces that:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create a sharding key and a super sharding key using OCI data types.</p>
                        </li>
                        <li>
                           <p>Create a connection specifying a sharding key and a super sharding key.</p>
                        </li>
                        <li>
                           <p>Specify the sharding key and super sharding key to the connection request from an OCI session pool.</p>
                        </li>
                        <li>
                           <p>Use custom connection pooling to get the shard name for a given connection and to get the shard name and the chunk name, given a sharding key and super sharding key.</p>
                        </li>
                     </ul>
                  </div>
                  <div class="section">
                     <p class="subhead2">About Specifying a Sharding Key and Super Sharding Keys for a Standalone Connection</p>
                     <p>Use the <code class="codeph">OCISessionGet()</code> call for creating the connection. This call takes an authentication handle, <code class="codeph">authp</code>, as input, on which various properties are set, including the two attributes to support creating connections to specific shards: <code class="codeph">OCI_ATTR_SHARDING_KEY</code> for the sharding key and <code class="codeph">OCI_ATTR_SUPER_SHARDING_KEY</code> for the super sharding key. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">About Creating a Sharding Key and Super Sharding Key</p>
                     <p></p>
                     <p>Use the OCI descriptor type <code class="codeph">OCIShardingKey</code> for forming the sharding key and the super sharding key. This descriptor wraps the key value (for a single part key) or multiple values (for a compounded key). 
                     </p>
                     <div class="p">Use the following <code class="codeph">OCIShardingKeyColumnAdd()</code> call to add all of the columns of the key to form the complete key. <pre class="pre codeblock"><code>OCIShardingKeyColumnAdd(OCIShardingKey *shardingKey, 
                     OCIError    *errhp, 
                     void        *col, 
                     ub4          colLen, 
                     ub2          colType, 
                     ub4          mode)</code></pre>You should perform this call as many times as there are columns in the compound key (or just once for a simple sharding key) in the order in which the key is defined in the database. The <code class="codeph">columnType</code> parameter indicates the data type of the column. 
                     </div>
                     <p>The following table shows the supported OCI data type values for the <code class="codeph">columnType</code> parameter and its corresponding C data type.
                     </p>
                     <div class="tblformal" id="GUID-C64136C2-CF65-4507-8811-9A03946CC817__GUID-97B5C77D-6B42-4011-8144-64CFA03BE987">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This is a two&#x2013;column table listing the OCI data type and its corresponding C data type." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d125461e11726">OCI Data Type</th>
                                 <th align="left" valign="bottom" id="d125461e11728">C Data Type</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d125461e11732" headers="d125461e11726 ">SQLT_NUM</td>
                                 <td align="left" valign="top" headers="d125461e11732 d125461e11728 ">ub1*</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d125461e11737" headers="d125461e11726 ">SQLT_CHR</td>
                                 <td align="left" valign="top" headers="d125461e11737 d125461e11728 ">OraText*</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d125461e11742" headers="d125461e11726 ">SQLT_DATE</td>
                                 <td align="left" valign="top" headers="d125461e11742 d125461e11728 ">ub1*</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d125461e11747" headers="d125461e11726 ">SQLT_TIMESTAMP</td>
                                 <td align="left" valign="top" headers="d125461e11747 d125461e11728 ">OCIDateTime*</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d125461e11752" headers="d125461e11726 ">SQLT_RAW</td>
                                 <td align="left" valign="top" headers="d125461e11752 d125461e11728 ">ub1*</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d125461e11757" headers="d125461e11726 ">SQLT_VNU</td>
                                 <td align="left" valign="top" headers="d125461e11757 d125461e11728 ">ub1*</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d125461e11762" headers="d125461e11726 ">SQLY_INT</td>
                                 <td align="left" valign="top" headers="d125461e11762 d125461e11728 ">int*</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The character key values are assumed to be in the client character set (specified by <code class="codeph">NLS_LANG</code> or <code class="codeph">OCIEnvNLSCreate()</code> calls) .
                     </p>
                     <p>After forming the sharding key and the super sharding key using the<code class="codeph">OCIShardingKeyColumnAdd()</code> call, the keys can be set on the authentication handle using the sharding key attribute <code class="codeph">OCI_ATTR_SHARDING_KEY</code> and the super sharding key attribute <code class="codeph">OCI_ATTR_SUPER_SHARDING_KEY</code> as follows:
                     </p><pre class="pre codeblock"><code>OCIAttrSet(authp, 
           OCI_HTYPE_AUTHINFO, 
           shardKey, 
           sizeof(shardKey),
           OCI_ATTR_SHARDING_KEY,
           errhp);</code></pre><pre class="pre codeblock"><code>OCIAttrSet(authp, 
           OCI_HTYPE_AUTHINFO, 
           shardGroupKey, 
           sizeof(shardGroupKey),
           OCI_ATTR_SUPER_SHARDING_KEY, 
           errhp);</code></pre><p>When you use this <code class="codeph">authp</code> parameter in an <code class="codeph">OCISessionGet()</code> call, it will ensure that you create a connection to the shard containing the data corresponding to the sharding key and super sharding key values that are set.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">About Getting the Actual Sharding Key and Super Sharding Key Values</p>
                     <p>If you want to know the Base64 representation of the sharding key and super sharding key for diagnostic purposes, you can use the attribute <code class="codeph">OCI_ATTR_SHARDING_KEY_B64</code>, on the <code class="codeph">OCIShardingKey</code> descriptor. The <code class="codeph">OCIAttrGet()</code> call takes the <code class="codeph">OCIShardingKey</code> descriptor as input and returns the text value in base64 format of the sharding key and super sharding key.
                     </p><pre class="pre codeblock"><code>OCIAttrGet((dvoid *) OCIShardingKey,
   (ub4)             OCI_DTYPE_SHARDING_KEY,
   (dvoid *)         &amp;sekyVale, 
   (ub4*)            &amp;skeyValueLen,
                     OCI_ATTR_SHARDING_KEY_B64, 
   (OCIError *)      errhp);</code></pre><p>In addition, you can use the <code class="codeph">OCIShardingKeyReset()</code> call shown as follows for your application to reset and reuse the allocated descriptor for creating a new sharding key and super sharding key.
                     </p><pre class="pre codeblock"><code>sword OCIShardingKeyReset(OCIShardingKey *shardKey, 
                          OCIError       *errhp, 
                          ub4             mode);</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-44D9B789-C8A3-4F90-AB1E-FBE5FE9ED66C" title="Describes how to specify a sharding key and super sharding key to get a connection from an OCI Session Pool.">About Specifying a Sharding Key and Super Sharding Key for Getting a Connection from an OCI Session Pool</a></p>
                           </li>
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-227D73D4-2512-44E7-92B7-4DB2D2B499F1" title="Describes features that support specifying a sharding key and super sharding key to get a connection from a custom pool.">About Specifying a Sharding Key and Super Sharding Key for Getting a Connection from a Custom Pool</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C64136C2-CF65-4507-8811-9A03946CC817__GUID-176EEFA4-3741-4528-B767-CE12AC53018E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="shard-functions.html#GUID-32738F1F-A631-48C1-986F-2E7FAE2D9800" title="Adds sharding key columns to form a compound sharding key or a compound super sharding key.">OCIShardingKeyColumnAdd()</a></p>
                           </li>
                           <li>
                              <p><a href="shard-functions.html#GUID-699532A5-AE5B-42DA-8D90-9C7732C773D3" title="Resets an already created sharding key or super sharding key for reuse with new key column values.">OCIShardingKeyReset()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-44D9B789-C8A3-4F90-AB1E-FBE5FE9ED66C" name="GUID-44D9B789-C8A3-4F90-AB1E-FBE5FE9ED66C"></a><h4 id="LNOCI-GUID-44D9B789-C8A3-4F90-AB1E-FBE5FE9ED66C" class="sect4"><span class="enumeration_section">11.11.1 </span>About Specifying a Sharding Key and Super Sharding Key for Getting a Connection from an OCI Session Pool
                  </h4>
                  <div>
                     <p>Describes how to specify a sharding key and super sharding key to get a connection from an OCI Session Pool. </p>
                     <p>By default, the <code class="codeph">OCISessionGet()</code> call creates a new connection. You can also use this call to get an existing connection from an OCI Session pool. When you use the <code class="codeph">OCI_ATTR_SHARDING_KEY</code> and <code class="codeph">OCI_ATTR_SUPER_SHARDING_KEY</code> attribute settings, you can get a connection to the desired shard from an OCI Session pool. In an OCI Session pool, sessions in the pool can represent a variety of shards that are each authenticated by the database credentials passed in by the <code class="codeph">OCISessionGet()</code> call using the initialized authentication handle <code class="codeph">authp</code>. 
                     </p>
                     <p>The following example shows how to get a connection to the desired database shard from an OCI Session Pool created with the homogeneous and statement caching modes specified. Even though this example uses a homogeneous pool, you are not restricted to that type of pool.</p>
                     <div class="example" id="GUID-44D9B789-C8A3-4F90-AB1E-FBE5FE9ED66C__GUID-9A1B5A18-227C-47BE-B495-9F6D59B0E80B"><pre class="pre codeblock"><code>OCIShardingKey   *shardKey, *shardGroupKey;
  /* Error handling is omitted for brevity. */
  /* Create a homogeneous session pool. */
  checkerr(&amp;status, errhp,
           OCISessionPoolCreate(envhp, errhp,
                 spoolhp,                                     /* session pool handle */
                (OraText **) poolName, poolNameLenp,          /* returned poolname, length */
                (const OraText *) connstr, strlen(connstr),   /* connect string */
                 min, max, increment,                         /* pool size constraints */
                (OraText *) "hr", strlen((char *) "hr"),      /* username */
                (OraText *) apppassword,                      /* password */
                 strlen((char *) apppassword),
                 OCI_SPC_HOMOGENEOUS|OCI_SPC_STMTCACHE));     /* modes */
                
/* Allocate the sharding key and super sharding key descriptors. */
OCIDescriptorAlloc(envhp,(dvoid **)&amp;shardKey,
               OCI_DTYPE_SHARDING_KEY, 0,(dvoid **)0)))
text *name = “KK”;
text *gname = “GOLD”;
int  empid = 150;

/* Add all the columns of the key to form the final sharding key. */
OCIShardingKeyColumnAdd(shardKey,(ub1*)&amp;empid, sizeof(empid), 
                               SQLT_INT, errhp, OCI_DEFAULT);
OCIShardingKeyColumnAdd(shardKey, name, strlen(name), 
                               SQLT_CHAR, errhp, OCI_DEFAULT));

OCIAttrSet(authp, OCI_HTYPE_AUTHINFO,
           shardKey, sizeof(shardKey),
           OCI_ATTR_SHARDING_KEY, errhp);

/* Setting a shard group key. */
/* Create a shard group key, in the same way as for a sharding key. */
OCIDescriptorAlloc(envhp,(dvoid **)&amp;shardGroupKey,
                   OCI_DTYPE_SHARDING_KEY, 0, (dvoid **)0));

/* Add the column of the key to form the final super sharding key. */
OCIShardingKeyColumnAdd(shardGroupKey, gname, strlen(gname),
                     SQLT_CHAR, errhp, OCI_DEFAULT)); 

OCIAttrSet(authp, OCI_HTYPE_AUTHINFO,
           shardGroupKey, sizeof(shardGroupKey),
           OCI_ATTR_SUPER_SHARDING_KEY, errhp));

/* Get the database connection from the OCI Session Pool. */
checkerr(&amp;status,
         errhp, OCISessionGet(envhp, errhp,
                &amp;svchp,                              /* returned database connection */
                authp,                               /* initialized authentication handle */
               (OraText *) poolName, poolNameLen,    /* connect string */
                NULL, 0, NULL, NULL, NULL,           /* session tagging parameters: optional */ 
                OCI_DEFAULT));                       /* modes */</code></pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p class="subhead3">Chunk Migrations and OCISessionGet() in Sharding</p>
                        <div class="p">During chunk migrations, when a chunk migrates from one shard instance to another, OCI Session Pool can ensure that <code class="codeph">OCISessionGet()</code> returns a connection to an instance having a writable chunk by implicitly doing retrials during chunk migration. This requires that a couple of properties be set:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Setting <code class="codeph">READONLY_CHUNK_OK</code> to <code class="codeph">FALSE</code> in the connect string.
                                 </p>
                              </li>
                              <li>
                                 <p>Setting pool handle attributes: <code class="codeph">OCI_ATTR_SPOOL_GETMODE</code> and <code class="codeph">OCI_ATTR_SPOOL_WAIT_TIMEOUT</code> to <code class="codeph">OCI_SPOOL_ATTRVAL_TIMEDWAIT</code> and a suitable time out value. If the pool is unable to get a connection to a writable instance within the time out period, <code class="codeph">OCISessionGet()</code> returns an <code class="codeph">ORA-24495</code> error.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>If the application can use read only chunks, it can set <code class="codeph">READONLY_CHUNK_OK=true</code> in the connect string. In that case a connection available to the instance with chunks marked read-only also may be dispensed. If the application attempts any database write operation on such a connection, it gets in return suitable errors.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-227D73D4-2512-44E7-92B7-4DB2D2B499F1" name="GUID-227D73D4-2512-44E7-92B7-4DB2D2B499F1"></a><h4 id="LNOCI-GUID-227D73D4-2512-44E7-92B7-4DB2D2B499F1" class="sect4"><span class="enumeration_section">11.11.2 </span>About Specifying a Sharding Key and Super Sharding Key for Getting a Connection from a Custom Pool
                  </h4>
                  <div>
                     <p>Describes features that support specifying a sharding key and super sharding key to get a connection from a custom pool.</p>
                     <div class="p">This section describes the following features that support applications specifying a sharding key and super sharding key for getting a connection from a custom pool:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCISessionGet()</code> mode <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> — Used to explicitly cache the shard topology every time OCI connects to a new shard instance.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCIShardInstancesGet()</code> — Returns instance names for a given sharding key descriptor, super sharding key descriptor, and connection string.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3">OCI_ATTR_INSTNAME Attribute</p>
                        <p>If your OCI client application uses custom connection pooling, you must be able to return connections to specific shards. To do this, you must know the shard name to which shard a connection has been made and the sharding key and super sharding key to shard name mapping to enable a look up for a matching connection.</p>
                        <p>This is possible when you use the attribute <code class="codeph">OCI_ATTR_INSTNAME</code> on the service context (<code class="codeph">svchp</code>) for this purpose. This attribute returns the instance name for a given connection. The instance name is unique for the shard instance pointed to by a given connection. Every shard instance has a unique name. The following code sample shows how this attribute is used to get the instance name from a given service context <code class="codeph">svchp</code>.
                        </p><pre class="pre codeblock"><code>OraText shardName[OCI_INSTNAME_MAXLEN];
ub4 shardNameLen;  
   OCIAttrGet(svchp,
   OCI_HTYPE_SVCCTX,
   shardName,
   (ub4 *) &amp;shardNameLen,
   OCI_ATTR_INSTNAME,
   errhp);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3"> OCISessionGet() mode OCI_SESSGET_CUSTOM_POOL</p>
                        <p>OCI clients that do custom pooling must use the <code class="codeph">OCISessionGet()</code> mode <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> to explicitly cache the shard topology that contains the shard to chunking mapping information every time OCI connects to a new shard not previously visited. OCI clients that do not use custom pooling do not need to use this mode as this caching is done implicitly, for example, when you use OCI Session Pools. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">OCIShardInstancesGet()</p>
                        <p><code class="codeph">OCIShardInstancesGet()</code> returns instance names for a given sharding key descriptor and super sharding key descriptor. This method has the following signature:
                        </p><pre class="pre codeblock"><code>sword OCIShardInstancesGet(
           void            **shTopoCtx,
           OCIError         *errhp,
           const OraText    *connstr,
           ub4               constrl,
           OCIShardingKey   *shardingKey,
           OCIShardingKey   *superShardingKey,
           OCIShardinst   ***shardinsts,
           ub4               numShardInsts,
           ub4               mode);</code></pre><p>This call looks up the shard topology cache on the client.</p>
                        <p>If any connections were made with <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> mode, then OCI maintains the shard topology cache locally.
                        </p>
                        <p>The returned value may be <code class="codeph">NULL</code> if the shard topology cache does not yet have the mapping either because no connections were made with <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> or the connections that were made so far with <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> did not connect to a shard that contains the chunk for the sharding key and super sharding key requested. In either case, the custom pool should create a new connection explicitly using <code class="codeph">OCISessionGet()</code> with the <code class="codeph">OCI_ATTR_SHARDING_KEY</code> and <code class="codeph">OCI_ATTR_SUPER_SHARDING_KEY</code> attributes set  as applicable with <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> mode enabled. Doing this adds information about the new shard to the OCI shard topology cache. Subsequent <code class="codeph">OCIShardInstancesGet()</code> calls will look for key ranges belonging to chunks located in these shards and return these shard instance names.
                        </p>
                        <p>Note that a sharding key and super sharding key may refer to multiple shards as a result of the chunk being replicated. When the custom pool has a connection to the desired shard, the custom pool should ensure that the <code class="codeph">OCI_ATTR_SHARDING_KEY</code> and <code class="codeph">OCI_ATTR_SUPER_SHARDING_KEY</code> properties are set on the connection before dispensing. Setting these properties ensures that the chunk usage is tracked on the database side and to determine if there have been any chunk splits occurring on the database.
                        </p>
                        <div class="infoboxnotealso" id="GUID-227D73D4-2512-44E7-92B7-4DB2D2B499F1__GUID-C93C1375-B4BF-4E5B-B93E-227C28C5D16C">
                           <p class="notep1">See Also:</p>
                           <p><a href="shard-functions.html#GUID-AE0B287B-A515-4B69-9F95-D6894ADB0E9A" title="For use with custom pools only, gets the instance names given a sharding key descriptor, super sharding key descriptor, and a connection string.">OCIShardInstancesGet()</a> for an example that uses custom pooling
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI1088"></a><div class="props_rev_3"><a id="GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22" name="GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22"></a><h3 id="LNOCI-GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22" class="sect3"><span class="enumeration_section">11.12 </span>About Using the XStream Interface
               </h3>
               <div>
                  <p>Since Oracle Database 11g Release 2, Oracle Streams provides enhanced APIs, known as eXtended Streams (XStream) Out and XStream In, to enable high performance, near real-time information-sharing infrastructure between Oracle databases and non-Oracle databases, non-RDBMS Oracle products, file systems, third party software applications, and so on.</p>
                  <p>XStream is built on top of Streams infrastructure.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54" title="XStream Out allows a remote client to attach to an outbound server (a Streams apply process) and extract row changes in the form of Logical Change Records (LCRs).">XStream Out</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-A8AFCE7F-E475-4C75-AC3B-5A37B6F83B90" title="To replicate non-Oracle data into Oracle databases use XStream In which allows a remote client to attach to an inbound server (a Streams apply process) and send row and DDL changes in the form of LCRs.">XStream In</a></p>
                        </li>
                        <li>
                           <p><a href="more-oci-advanced-topics.html#GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E" title="Describes the security characteristics of XStreams.">Security of XStreams</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22__GUID-F201BA01-D9AC-44B7-9C9E-D7C3F1C728C2">
                     <p class="notep1">See Also:</p>
                     <p> <a href="oci-XStream.html#GUID-527DB451-F87E-479A-8F35-25FD8D01E2EC">OCI XStream Functions</a></p>
                  </div>
               </div><a id="LNOCI16769"></a><div class="props_rev_3"><a id="GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54" name="GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54"></a><h4 id="LNOCI-GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54" class="sect4"><span class="enumeration_section">11.12.1 </span>XStream Out
                  </h4>
                  <div>
                     <p>XStream Out allows a remote client to attach to an outbound server (a Streams apply process) and extract row changes in the form of Logical Change Records (LCRs).</p>
                     <p>To use XStream Out, a capture and an apply process must be created similar to other Streams setup. All data types supported by Oracle Streams including LOB, <code class="codeph">LONG</code>, and <code class="codeph">XMLType</code> are supported by XStreams. Such an apply process is called an outbound server. The capture and the outbound server may or may not be on the same database instance. After the capture and the outbound server have started, row changes will be captured and sent to the outbound server. An external client can then connect to this outbound server using OCI. After the connection is established, the client can loop waiting for LCRs from the outbound server. The client can register a client-side callback to be invoked each time an LCR is received. At anytime, the client can detach from the outbound server as needed. Upon restart, the outbound server knows where in the redo stream to start streaming LCRs to the client.
                     </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-E3CA74B0-6F37-4531-A5BE-1EFCFEFE6837" title="Describes characteristics of an LCR stream.">LCR Streams</a></p>
                           </li>
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-3D9E7038-EB91-4E74-95AF-9DDB3328222A" title="If the outbound server or the client aborts abnormally, the connection between the two is automatically broken. The client needs to maintain the processed low position to properly recover after a restart.">The Processed Low Position and Restart Considerations</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54__GUID-FDEEA92B-B682-494A-954C-2D3739372FC8">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=STRMS107"><span><cite>Oracle Streams Concepts and Administration</cite></span></a> for the basics of LCRs
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=XSTRM1086"><span><cite>Oracle Database XStream Guide</cite></span></a> for more details of XStreams concepts
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16770"></a><div class="props_rev_3"><a id="GUID-E3CA74B0-6F37-4531-A5BE-1EFCFEFE6837" name="GUID-E3CA74B0-6F37-4531-A5BE-1EFCFEFE6837"></a><h5 id="LNOCI-GUID-E3CA74B0-6F37-4531-A5BE-1EFCFEFE6837" class="sect5"><span class="enumeration_section">11.12.1.1 </span>LCR Streams
                     </h5>
                     <div>
                        <p>Describes characteristics of an LCR stream.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An LCR stream must be repeatable.</p>
                           </li>
                           <li>
                              <p>An LCR stream must contain a list of assembled and committed transactions.</p>
                           </li>
                           <li>
                              <p>LCRs from one transaction are contiguous. There is no interleaving of transactions in the LCR stream.</p>
                           </li>
                           <li>
                              <p>Each transaction within an LCR stream must have an ordered list of LCRs and a transaction ID.</p>
                           </li>
                           <li>
                              <p>The last LCR in each transaction must be a commit LCR.</p>
                           </li>
                           <li>
                              <p>Each LCR must have a unique position.</p>
                           </li>
                           <li>
                              <p>The position of all LCRs within a single transaction and across transactions must be strictly increasing.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16771"></a><div class="props_rev_3"><a id="GUID-3D9E7038-EB91-4E74-95AF-9DDB3328222A" name="GUID-3D9E7038-EB91-4E74-95AF-9DDB3328222A"></a><h5 id="LNOCI-GUID-3D9E7038-EB91-4E74-95AF-9DDB3328222A" class="sect5"><span class="enumeration_section">11.12.1.2 </span>The Processed Low Position and Restart Considerations
                     </h5>
                     <div>
                        <p>If the outbound server or the client aborts abnormally, the connection between the two is automatically broken. The client needs to maintain the processed low position to properly recover after a restart.</p>
                        <p>The processed low position is a position below which all LCRs have been processed by the client. This position should be maintained by the client while applying each transaction. Periodically this position is sent to the server while the client executes XStream Out APIs. This position indicates to the server that the client has processed all LCRs below or equal to this position; thus, the server can purge redo logs that are no longer needed.</p>
                        <p>Upon restart, the client must re-attach to the outbound server. During the attach call, the client can notify the outbound server of the last position received by the client. The outbound server then sends LCRs with position greater than this last position. If the client does not specify the last position (that is, a <code class="codeph">NULL</code> is specified), the outbound server will retrieve the processed low position from its system tables and derive the starting position to mine the redo logs. It will send to the client the LCRs with position greater than this processed low position. 
                        </p>
                     </div>
                  </div>
               </div><a id="LNOCI16772"></a><div class="props_rev_3"><a id="GUID-A8AFCE7F-E475-4C75-AC3B-5A37B6F83B90" name="GUID-A8AFCE7F-E475-4C75-AC3B-5A37B6F83B90"></a><h4 id="LNOCI-GUID-A8AFCE7F-E475-4C75-AC3B-5A37B6F83B90" class="sect4"><span class="enumeration_section">11.12.2 </span>XStream In
                  </h4>
                  <div>
                     <p>To replicate non-Oracle data into Oracle databases use XStream In which allows a remote client to attach to an inbound server (a Streams apply process) and send row and DDL changes in the form of LCRs.</p>
                     <p>An external client application connects to the inbound server using OCI. After the connection is established, the client application acts as the capture agent for the inbound server by streaming LCRs to it. A client application can attach to only one inbound server per database connection. Each inbound server only allows one client attaching to it.</p>
                     <p>XStream In uses the following features of Oracle Streams:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>High performance processing of DML changes using an apply process and, optionally, apply process parallelism.</p>
                        </li>
                        <li>
                           <p>Apply process features such as SQL generation, conflict detection and resolution, error handling, and customized processing with apply handlers.</p>
                        </li>
                        <li>
                           <p>Streaming network transmission of information with minimal network round trips.</p>
                        </li>
                     </ul>
                     <p>XStream In supports all of the data types that are supported by Oracle Streams, including LOBs, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, and <code class="codeph">XMLType</code>. A client application sends LOB and <code class="codeph">XMLType</code> data to the inbound server in chunks. Several chunks make up a single column value of LOB or <code class="codeph">XMLType</code>.
                     </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-C4406AE9-9D42-49F8-B4B7-C8942A410D52" title="The processed low position is the position below which the inbound server no longer requires any LCRs.">Processed Low Position and Restart Ability</a></p>
                           </li>
                           <li>
                              <p><a href="more-oci-advanced-topics.html#GUID-B5079754-01CC-4E34-9398-9A062B6F0102" title="Stream position refers to the position of an LCR in a given LCR stream.">Stream Position</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16773"></a><div class="props_rev_3"><a id="GUID-C4406AE9-9D42-49F8-B4B7-C8942A410D52" name="GUID-C4406AE9-9D42-49F8-B4B7-C8942A410D52"></a><h5 id="LNOCI-GUID-C4406AE9-9D42-49F8-B4B7-C8942A410D52" class="sect5"><span class="enumeration_section">11.12.2.1 </span>Processed Low Position and Restart Ability
                     </h5>
                     <div>
                        <p>The processed low position is the position below which the inbound server no longer requires any LCRs.</p>
                        <p>This position corresponds with the oldest SCN for an Oracle Streams apply process that applies changes captured by a capture process.</p>
                        <p>The processed low position indicates that the LCRs less than or equal to this position have been processed by the inbound server. If the client re-attaches to the inbound server, it only needs to send LCRs greater than the processed low position because the inbound server discards any LCRs that are less than or equal to the processed low position.</p>
                        <p>If the client application aborts abnormally, then the connection between the client application and the inbound server is automatically broken. Upon restart, the client application retrieves the processed low position from the inbound server and instructs its capture agent to retrieve changes starting from this processed low position.</p>
                        <p>To limit the recovery time of a client application using the XStream In interface, the client application can send activity, such as empty transactions, periodically to the inbound server. When there are no LCRs to send to the server, the client can send a row LCR with a commit directive to advance the inbound server's processed low position. This activity acts as an acknowledgement so that the inbound server's processed low position can be advanced. The LCR stream sent to an inbound server must follow the LCR stream properties for XStream Out defined above.</p>
                     </div>
                  </div><a id="LNOCI16774"></a><div class="props_rev_3"><a id="GUID-B5079754-01CC-4E34-9398-9A062B6F0102" name="GUID-B5079754-01CC-4E34-9398-9A062B6F0102"></a><h5 id="LNOCI-GUID-B5079754-01CC-4E34-9398-9A062B6F0102" class="sect5"><span class="enumeration_section">11.12.2.2 </span>Stream Position
                     </h5>
                     <div>
                        <p>Stream position refers to the position of an LCR in a given LCR stream.</p>
                        <p>For transactions captured outside Oracle databases the stream position must be encoded in certain format (for example, base-16 encoding) that supports byte comparison. The stream position is key to the total order of transaction stream sent by clients using the XStream In interface.</p>
                     </div>
                  </div>
               </div><a id="LNOCI16775"></a><div class="props_rev_3"><a id="GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E" name="GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E"></a><h4 id="LNOCI-GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E" class="sect4"><span class="enumeration_section">11.12.3 </span>Security of XStreams
                  </h4>
                  <div>
                     <p>Describes the security characteristics of XStreams.</p>
                     <p>XStream Out allows regular users to receive LCRs without requiring system level privileges. System level privileges, such as DBA role, are required to configure XStream Out. The user who configures XStream Out can specify a regular user as the connect user who can attach to an outbound server to receive LCRs.</p>
                     <p>XStream In allows regular users to update tables in its own schema without requiring system level privileges (for example, DBA) to configure XStream In.</p>
                     <p>XStream cannot assume that the connected user to the inbound or outbound server is trusted.</p>
                     <p>OCI clients must connect to an Oracle database prior to attaching to an XStream outbound or inbound server created on that database. The connected user must be the same as the <code class="codeph">connect_user</code> configured for the attached outbound server or the <code class="codeph">apply_user</code> configured for the attached inbound server; otherwise, an error is raised.
                     </p>
                     <div class="infoboxnotealso" id="GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E__GUID-91D5CCB2-56DD-43D9-B261-3C2CC7F67735">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/lnoci&amp;id=XSTRM1496"><span><cite>Oracle Database XStream Guide</cite></span></a> for more about configuring Oracle XStreams
                        </p>
                     </div>
                  </div>
               </div>
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: 
            <p>Returns an <code class="codeph">ORA-01805</code> error when timezone files on the client and server do not match (regions are not synchronized); returns <code class="codeph">OCI_SUCCESS</code> when region time zone values are the same (represent the same instant in UTC), though the <code class="codeph">TIME ZONE</code> offsets are different.
            </p><br></div>
      </article>
   </body>
</html>