<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Lists and describes cartridge services maintaining context functions.">
      <meta name="description" content="Lists and describes cartridge services maintaining context functions.">
      <title>Cartridge Services — Maintaining Context</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Lists and describes cartridge services maintaining context functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-09T15:29:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85621-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="cartridge-services-memory-services.html" title="Previous" type="text/html">
      <link rel="next" href="cartridge-services-parameter-manager-interface.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="cartridge-services-memory-services.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="cartridge-services-parameter-manager-interface.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-cartridge-functions.html" property="item" typeof="WebPage"><span property="name"> OCI Cartridge Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Cartridge Services — Maintaining Context</li>
            </ol>
            <a id="GUID-42FB08F7-40B4-4C13-9D71-81CE9E8BA6F1" name="GUID-42FB08F7-40B4-4C13-9D71-81CE9E8BA6F1"></a><a id="LNOCI17547"></a><a id="LNOCI193"></a>
            
            <h2 id="LNOCI-GUID-42FB08F7-40B4-4C13-9D71-81CE9E8BA6F1" class="sect2"><span class="enumeration_section">21.4 </span>Cartridge Services — Maintaining Context
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Lists and describes cartridge services maintaining context functions. </p>
               <div class="section">
                  <p><a href="cartridge-services-maintaining-context.html#GUID-42FB08F7-40B4-4C13-9D71-81CE9E8BA6F1__CIHGFGHE" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 21-3</a> lists the maintaining context functions that are described in this section.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-42FB08F7-40B4-4C13-9D71-81CE9E8BA6F1__CIHGFGHE">
                  <p class="titleintable">Table 21-3 Maintaining Context Functions</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Maintaining Context Functions" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="58%" id="d280592e191">Function</th>
                           <th align="left" valign="bottom" width="42%" id="d280592e194">Purpose</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d280592e199" headers="d280592e191 ">
                              <p><a href="cartridge-services-maintaining-context.html#GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0" title="Removes the value that is stored in the context associated with the given key (by calling OCIContextSetValue()).">OCIContextClearValue()</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d280592e199 d280592e194 ">
                              <p>Remove the value stored in the context</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d280592e214" headers="d280592e191 ">
                              <p><a href="cartridge-services-maintaining-context.html#GUID-582C2945-D06B-42C7-BFFF-A2B51766D31D" title="Returns a unique, 4-byte value each time it is called.">OCIContextGenerateKey()</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d280592e214 d280592e194 ">
                              <p>Return a unique 4-byte value each time it is called</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d280592e226" headers="d280592e191 ">
                              <p><a href="cartridge-services-maintaining-context.html#GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112" title="Returns the value that is stored in the context associated with the given key (by calling OCIContextSetValue()).">OCIContextGetValue()</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d280592e226 d280592e194 ">
                              <p>Return the value stored in the context</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d280592e241" headers="d280592e191 ">
                              <p><a href="cartridge-services-maintaining-context.html#GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A" title="Saves a value (or address) for a particular duration.">OCIContextSetValue()</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d280592e241 d280592e194 ">
                              <p>Save a value (or address) for a particular duration</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-42FB08F7-40B4-4C13-9D71-81CE9E8BA6F1__GUID-214ACF98-9C6F-4B56-8A8E-1009E3C17C17">
                     <p class="notep1">See Also:</p>
                     <p><a href="../addci/cartridge-services-using-C-CPP-and-java.html#ADDCI4941"><span><cite>Oracle Database Data Cartridge Developer's Guide</cite></span></a> for more information about using these functions 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div><a id="LNOCI17550"></a><div class="props_rev_3"><a id="GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0" name="GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0"></a><h3 id="LNOCI-GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0" class="sect3"><span class="enumeration_section">21.4.1 </span>OCIContextClearValue()
               </h3>
               <div>
                  <p>Removes the value that is stored in the context associated with the given key (by calling <code class="codeph">OCIContextSetValue()</code>).
                  </p>
                  <div class="section">
                     <p class="subhead2">Purpose</p>
                     <p>Removes the value that is stored in the context associated with the given key (by calling <code class="codeph">OCIContextSetValue()</code>).
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIContextClearValue( void     *hndl, 
                            OCIError *err, 
                            ub1      *key, 
                            ub1       keylen );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0__GUID-775C1241-33BC-4508-89B0-3B765D99B669">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0__GUID-646DED6B-C9AB-4650-8F3D-93B9154E5397">
                              <!-- --></a>err (IN)
                        </dt>
                        <dd>
                           <p>The error handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0__GUID-01B37AC4-32E2-476C-BBA6-DEF3813B7463">
                              <!-- --></a>key (IN)
                        </dt>
                        <dd>
                           <p>Unique key value.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0__GUID-638B0A5B-FCB5-459C-A5C7-875D771FFF27">
                              <!-- --></a>keylen (IN)
                        </dt>
                        <dd>
                           <p>Length of the key. Maximum value is 255 bytes or <code class="codeph">UB1MAXVAL</code> - 1.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Comments</p>
                     <p> An error is returned when a nonexistent key is passed.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Returns</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the operation succeeds, the function returns <code class="codeph">OCI_SUCCESS</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the operation fails, the function returns <code class="codeph">OCI_ERROR</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI17551"></a><div class="props_rev_3"><a id="GUID-582C2945-D06B-42C7-BFFF-A2B51766D31D" name="GUID-582C2945-D06B-42C7-BFFF-A2B51766D31D"></a><h3 id="LNOCI-GUID-582C2945-D06B-42C7-BFFF-A2B51766D31D" class="sect3"><span class="enumeration_section">21.4.2 </span>OCIContextGenerateKey()
               </h3>
               <div>
                  <p>Returns a unique, 4-byte value each time it is called. </p>
                  <div class="section">
                     <p class="subhead2">Purpose</p>
                     <p>Returns a unique, 4-byte value each time it is called. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIContextGenerateKey( void     *hndl, 
                             OCIError *err, 
                             ub4      *key );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-582C2945-D06B-42C7-BFFF-A2B51766D31D__GUID-92A3A2F2-DEA9-49E0-8E2F-4D9C5308E0B8">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-582C2945-D06B-42C7-BFFF-A2B51766D31D__GUID-D4B3536C-1BBE-434C-A9C1-7BA637B26013">
                              <!-- --></a>err (IN)
                        </dt>
                        <dd>
                           <p>The error handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-582C2945-D06B-42C7-BFFF-A2B51766D31D__GUID-8D8AEAFB-0089-4B22-841F-2C7172BF7A56">
                              <!-- --></a>key (IN)
                        </dt>
                        <dd>
                           <p>Unique key value.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Comments</p>
                     <p>This value is unique for each session.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Returns</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the operation succeeds, the function returns <code class="codeph">OCI_SUCCESS</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the operation fails, the function returns <code class="codeph">OCI_ERROR</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI17549"></a><div class="props_rev_3"><a id="GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112" name="GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112"></a><h3 id="LNOCI-GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112" class="sect3"><span class="enumeration_section">21.4.3 </span>OCIContextGetValue()
               </h3>
               <div>
                  <p>Returns the value that is stored in the context associated with the given key (by calling <code class="codeph">OCIContextSetValue()</code>).
                  </p>
                  <div class="section">
                     <p class="subhead2">Purpose</p>
                     <p>Returns the value that is stored in the context associated with the given key (by calling <code class="codeph">OCIContextSetValue()</code>).
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIContextGetValue( void       *hndl, 
                          OCIError   *err, 
                          ub1        *key, 
                          ub1         keylen, 
                          void      **ctx_value );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112__GUID-68D5FE36-D2D1-4E0A-9AF3-643FC711F30C">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112__GUID-54BD12D1-BD3A-4331-82A3-BB792E18031C">
                              <!-- --></a>err (IN)
                        </dt>
                        <dd>
                           <p>The error handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112__GUID-D251540C-4833-4367-BD05-531436D3D046">
                              <!-- --></a>key (IN)
                        </dt>
                        <dd>
                           <p>Unique key value.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112__GUID-62EF6D6E-799F-4C56-ACC7-1FE2BA505365">
                              <!-- --></a>keylen (IN)
                        </dt>
                        <dd>
                           <p>Length of the key. Maximum value is 255 bytes or <code class="codeph">UB1MAXVAL</code> - 1.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112__GUID-0E053516-8257-4496-9843-27D1BBA05FF7">
                              <!-- --></a>ctx_value (IN)
                        </dt>
                        <dd>
                           <p>Pointer to the value stored in the context (<code class="codeph">NULL</code> if no value was stored).
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Comments</p>
                     <p>For <code class="codeph">ctx_value</code>, a pointer to a preallocated pointer for the stored context to be returned is required.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Returns</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the operation succeeds, the function returns <code class="codeph">OCI_SUCCESS</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the operation fails, the function returns <code class="codeph">OCI_ERROR</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI17548"></a><div class="props_rev_3"><a id="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A" name="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A"></a><h3 id="LNOCI-GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A" class="sect3"><span class="enumeration_section">21.4.4 </span>OCIContextSetValue()
               </h3>
               <div>
                  <p>Saves a value (or address) for a particular duration.</p>
                  <div class="section">
                     <p class="subhead2">Purpose</p>
                     <p>Saves a value (or address) for a particular duration.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIContextSetValue( void        *hndl, 
                          OCIError    *err, 
                          OCIDuration  duration, 
                          ub1         *key, 
                          ub1          keylen, 
                          void        *ctx_value );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A__GUID-4FA261B4-0BE6-40C5-9B4B-6CF4BCCD68F7">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A__GUID-18A4AD63-48BC-40E9-A0C6-63F72895948A">
                              <!-- --></a>err (IN)
                        </dt>
                        <dd>
                           <p>The error handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A__GUID-FE7A04F5-65A7-4002-AFB5-3D9320BB6659">
                              <!-- --></a>duration (IN)
                        </dt>
                        <dd>
                           <p>One of these values (a previously created user duration):</p>
                           <p><code class="codeph">OCI_DURATION_STATEMENT</code></p>
                           <p><code class="codeph">OCI_DURATION_SESSION</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A__GUID-21F9D8D5-9C4A-4308-BD34-BDA66901453F">
                              <!-- --></a>key (IN)
                        </dt>
                        <dd>
                           <p>Unique key value.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A__GUID-97D82E4D-3FEC-4B3B-A8D1-AAD74335CD34">
                              <!-- --></a>keylen (IN)
                        </dt>
                        <dd>
                           <p>Length of the key. Maximum value is 255 bytes or <code class="codeph">UB1MAXVAL</code> - 1.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A__GUID-D96A192E-2251-4497-A2F0-04A4BEA0E699">
                              <!-- --></a>ctx_value (IN)
                        </dt>
                        <dd>
                           <p>Pointer that is saved in the context.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Comments</p>
                     <p>The context value being stored must be allocated out of memory of duration greater than or equal to the duration being passed in. The key being passed in should be unique in this session. Trying to save a context value under the same key and duration again results in overwriting the old context value with the new one. Typically, a client allocates a structure, stores its address in the context using this call, and gets this address in a separate call using <code class="codeph">OCIContextGetValue()</code>. The (key, value) association can be explicitly removed by calling <code class="codeph">OCIContextClearValue()</code>, or else it goes away at the end of the duration.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Returns</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the operation succeeds, the function returns <code class="codeph">OCI_SUCCESS</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the operation fails, the function returns <code class="codeph">OCI_ERROR</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-maintaining-context.html#GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0" title="Removes the value that is stored in the context associated with the given key (by calling OCIContextSetValue()).">OCIContextClearValue()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>