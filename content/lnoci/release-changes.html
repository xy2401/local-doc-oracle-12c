<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Changes in This Release for Oracle Call Interface Programmer's Guide</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-09T15:29:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85621-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="preface.html" title="Previous" type="text/html">
      <link rel="next" href="intro-and-upgrading.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="intro-and-upgrading.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Changes in This Release for Oracle Call Interface Programmer's Guide</li>
            </ol>
            <a id="GUID-D60519C3-406F-4588-8DA1-D475D5A3E1F6" name="GUID-D60519C3-406F-4588-8DA1-D475D5A3E1F6"></a><a id="LNOCI005"></a>
            
            <h2 id="LNOCI-GUID-D60519C3-406F-4588-8DA1-D475D5A3E1F6" class="sect2">Changes in This Release for Oracle Call Interface Programmer's Guide</h2>
         </header>
         <div class="ind">
            <div>
               <p>This preface contains:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Changes in Oracle Database 12<span class="italic">c</span> Release 2 (12.2)
                     </p>
                  </li>
               </ul>
            </div><a id="LNOCI72984"></a><div class="props_rev_3"><a id="GUID-6748EF9B-9585-4A0C-963C-02664B97812D" name="GUID-6748EF9B-9585-4A0C-963C-02664B97812D"></a><h3 id="LNOCI-GUID-6748EF9B-9585-4A0C-963C-02664B97812D" class="sect3">Changes in Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1)
               </h3>
               <div>
                  <p>Changes in Oracle Database 12<span class="italic">c</span> release 2 (12.2.0.1).
                  </p>
                  <div class="p">The following are changes in the Oracle Call Interface (OCI) for release 2 (12.2.0.1):
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="release-changes.html#GUID-37A8D138-256D-4A8A-A263-7D222D3812BC">New Features</a></p>
                        </li>
                        <li>
                           <p><a href="release-changes.html#GUID-1876E8B1-43EC-4074-95B9-D91185D79360">Deprecated Features</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-37A8D138-256D-4A8A-A263-7D222D3812BC" name="GUID-37A8D138-256D-4A8A-A263-7D222D3812BC"></a><h4 id="LNOCI-GUID-37A8D138-256D-4A8A-A263-7D222D3812BC" class="sect4">New Features</h4>
                  <div>
                     <p>The following features are new in this release:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle Sharding interfaces — support interfaces for the database sharding feature during connection initiation for a standalone connection, for getting a connection from an OCI Session pool, and support interfaces for custom connection pools:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>New sharding key and super sharding key descriptor type <code class="codeph">OCIShardingKey</code> with an OCI descriptor named <code class="codeph">OCI_DTYPE_SHARDING_KEY</code>. This descriptor type is used for forming the sharding key as well as the super sharding key. This descriptor type is a new addition to the <code class="codeph">type</code> parameter for the <code class="codeph">OCIDescriptorAlloc()</code> call for allocating the sharding key and super sharding key descriptors.
                                 </p>
                              </li>
                              <li>
                                 <p>New <code class="codeph">OCIShardingKeyColumnAdd()</code> call to add sharding key columns to an <code class="codeph">OCIShardingKey</code> to form a compound sharding key or compound super sharding key.
                                 </p>
                              </li>
                              <li>
                                 <p>New<code class="codeph"> OCIShardingKeyReset()</code> call allows an application to reset an <code class="codeph">OCIShardingKey</code> and reuse an allocated descriptor for creating a new sharding key or super sharing key. 
                                 </p>
                              </li>
                              <li>
                                 <div class="p">New service context handle attributes: 
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">OCI_ATTR_SHARDING_KEY</code> — For standalone connections and OCI Session pools, this attribute is set on the OCIAuth handle before performing <code class="codeph">OCISessionGet()</code> call. For custom pools, this attribute associates a sharding key to a given connection (<code class="codeph">OCISvcCtx</code>).
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">OCI_ATTR_SUPER_SHARDING_KEY</code> —  For standalone connections and OCI Session pools, this attribute is set on the OCIAuth handle before performing <code class="codeph">OCISessionGet()</code> call. For custom pools, this attribute associates a super sharding key to a given connection (<code class="codeph">OCISvcCtx</code>).
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">OCI_ATTR_SHARDING_KEY_B64</code> — For diagnostic purposes, this attribute to get the base 64 representation of a sharding key or super sharding key value. This attribute on the <code class="codeph">OCI_DTYPE_SHARDING_KEY</code> descriptor allows the <code class="codeph">OCIAttrGet()</code> call to take the <code class="codeph">OCIShardingKey</code> descriptor type as input and return the base64 representation of the sharding key or super sharding key.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                              <li>
                                 <p>For standalone connections and OCI session pools:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">OCISessionGet()</code> call takes an OCIAuth handle as input on which various properties are set, including the <code class="codeph">OCIShardingKey</code> descriptor type that is used to form the sharding key and the super sharding key. With these properties set, the <code class="codeph">OCISessionGet()</code> call gets a new session or a suitable existing session (if available, in case of OCI Session pool) to the specific shard containing the data corresponding to the sharding key and super sharding key values provided.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>For use with custom pools, to return connections to specific shards, both the shard name must be determined to which the shard connection has been made and the shard name to sharding key or super sharding key to shard name mapping also must be determined to enable the lookup for a matching connection. The following new features enable this functionality:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The attribute <code class="codeph">OCI_ATTR_INSTNAME</code> is used on a service context to return the shard instance name for a given connection using the <code class="codeph">OCIAttrGet()</code> call.
                                       </p>
                                    </li>
                                    <li>
                                       <p>New <code class="codeph">OCIShardInstancesGet()</code> call that returns the list of instances for a given sharding key, super sharding key, and connection string.
                                       </p>
                                    </li>
                                    <li>
                                       <p>New <code class="codeph">OCISessionGet()</code> mode <code class="codeph">OCI_SESSGET_CUSTOM_POOL</code> for use with custom pools to allow explicit caching of its shard topology information when connecting to a new shard instance.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>See <a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="Allocates storage to hold descriptors or LOB locators.">OCIDescriptorAlloc()</a>, <a href="shard-functions.html#GUID-32738F1F-A631-48C1-986F-2E7FAE2D9800" title="Adds sharding key columns to form a compound sharding key or a compound super sharding key.">OCIShardingKeyColumnAdd()</a>, <a href="shard-functions.html#GUID-699532A5-AE5B-42DA-8D90-9C7732C773D3" title="Resets an already created sharding key or super sharding key for reuse with new key column values.">OCIShardingKeyReset()</a>, <a href="handle-and-descriptor-attributes.html#GUID-D8EE68EB-7E38-4068-B06E-DF5686379E5E" title="Lists and describes service context handle attributes.">Service Context Handle Attributes</a>, <a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a>, <a href="shard-functions.html#GUID-AE0B287B-A515-4B69-9F95-D6894ADB0E9A" title="For use with custom pools only, gets the instance names given a sharding key descriptor, super sharding key descriptor, and a connection string.">OCIShardInstancesGet()</a>, and <a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a> for more information.
                           </p>
                           <p>See <a href="more-oci-advanced-topics.html#GUID-C64136C2-CF65-4507-8811-9A03946CC817" title="Describes the OCI interface for using Oracle Sharding.">About the OCI Interface for Using Shards</a>, <a href="more-oci-advanced-topics.html#GUID-44D9B789-C8A3-4F90-AB1E-FBE5FE9ED66C" title="Describes how to specify a sharding key and super sharding key to get a connection from an OCI Session Pool.">About Specifying a Sharding Key and Super Sharding Key for Getting a Connection from an OCI Session Pool</a>, <a href="more-oci-advanced-topics.html#GUID-227D73D4-2512-44E7-92B7-4DB2D2B499F1" title="Describes features that support specifying a sharding key and super sharding key to get a connection from a custom pool.">About Specifying a Sharding Key and Super Sharding Key for Getting a Connection from a Custom Pool</a>, and <a href="oci-programming-basics.html#GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C" title="OCI descriptors and locators are opaque data structures that maintain data-specific information.">OCI Descriptors</a> for more information.
                           </p>
                           <p>See the topic about developing applications for Oracle Sharding in <a href="../admin/sharding-application-development.html#ADMIN-GUID-74063498-18A8-47D7-A2A2-A36E6C3EB682"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Support for describing collations of result columns:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>New statement handle attribute <code class="codeph">OCI_ATTR_COLLATION_ID</code> — Returns the collations from the describe information of a statement.
                                 </p>
                              </li>
                           </ul>
                           <p>See <a href="describing-schema-metadata.html#GUID-B4EE393C-FE7F-4BA5-91A4-7CF6FC171C46" title="Lists and describes the attributes when a parameter is for a column of a table or view.">Column Attributes</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Improvements to OCI Session Pooling</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Support for multi-property tags with OCI Session Pool and DRCP:</p>
                                 <p><code class="codeph">OCISessionGet()</code> <code class="codeph">taginfo</code> parameter has been extended to allow a tag to have multiple string properties. Such a tag with multiple string properties that are separated by the semi-colon (;) character is known as a multi-property tag. The ordering of the properties in the multi-property tag is significant for finding a matching session in the pool. A multi-property tag must be used in conjunction with the <code class="codeph">OCI_SESSGET_MULTIPROPERTY_TAG</code> mode.
                                 </p>
                                 <p>The <code class="codeph">retTagInfo</code> parameter returned by <code class="codeph">OCISessionGet()</code> can also return a multi-property tag corresponding to the returned session, and needs to be interpreted in conjunction with the <code class="codeph">found</code> parameter.
                                 </p>
                                 <p>A session can be tagged with a multi-property tag by invoking <code class="codeph">OCISessionRelease()</code> (with <code class="codeph">OCI_SESSRLS_RETAG</code><code class="codeph"> | </code><code class="codeph">OCI_SESSRLS_MULTIPROPERTY_TAG</code> mode) by setting the tag parameter to be a multi-property tag.
                                 </p>
                                 <p>This functionality also works with DRCP. See <a href="oci-programming-advanced-topics.html#GUID-1E260CD3-2EF7-49FF-97FC-041C2EF60381" title="Database resident connection pooling (DRCP) provides a connection pool in the database server for typical web application usage scenarios where the application acquires a database connection, works on it for a relatively short duration, and then releases it.">Database Resident Connection Pooling</a> for more information.
                                 </p>
                                 <p>See <a href="oci-programming-advanced-topics.html#GUID-F7609D96-EB0F-487D-B825-E0138B16E2E9" title="Tags provide a way for users to customize sessions in the pool.">About Using Tags in Session Pools</a> and <a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>A new mode <code class="codeph">OCI_SPOOL_ATTRVAL_TIMEDWAIT</code> has been added to OCI Session Pool handle that can be used to time out the <code class="codeph">OCISessionGet()</code> call waiting to get a free session. The time out value can be specified by the <code class="codeph">OCI_ATTR_SPOOL_WAIT_TIMEOUT</code> attribute.
                                 </p>
                                 <p>See <a href="handle-and-descriptor-attributes.html#GUID-34071823-66D0-4C54-BFBB-6323BDEF8015" title="Lists and describes session pool handle attributes.">Session Pool Handle Attributes</a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p> Improvements to OCI Session Pooling involving dead connection detection, cleanup, and idle session re-establishment. This improves reliability, giving applications more certainty that <code class="codeph">OCISessionGet()</code> can return a usable session after an underlying network outage or database node failure.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Support for Application Continuity in an HA infrastructure includes:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Support for OCI Session pool for applications that use a pool.</p>
                              </li>
                              <li>
                                 <p>New <code class="codeph">FAILOVER_TYPE</code> value: <code class="codeph">TRANSACTION</code>. This value supports replay of an inflight transaction upon receipt of a recoverable error. 
                                 </p>
                              </li>
                              <li>
                                 <p>For hiding planned maintenance:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>New OCI Transparent Application Failover (TAF) error codes. See <code class="codeph">ORA-25410</code>, <code class="codeph">ORA-25417</code>, <code class="codeph">ORA-25418</code>, and <code class="codeph">ORA-25419</code> in <a href="../errmg/toc.htm"><span><cite>Oracle Database Error Messages Reference</cite></span></a> for more information.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>For hiding unplanned outages:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>OCI Session pool support.</p>
                                    </li>
                                    <li>
                                       <p>A new session pool handle attribute: <code class="codeph">OCI_ATTR_FOCBK</code> — Use this attribute with <code class="codeph">OCIAttrSet()</code> to define a TAF callback and the context to be associated with each session in the OCI Session pool; or, use this attribute with <code class="codeph">OCIAttrGet()</code> to populate the <code class="codeph">OCIFocbkStruct</code> with the TAF callback and the context defined for the session pool.
                                       </p>
                                    </li>
                                    <li>
                                       <p>A new API, <code class="codeph">OCIRequestDisableReply()</code> — Triggers OCI to stop recording calls until the end of an application request (the end of a request is marked by <code class="codeph">OCISessionRelease()</code>). Use this call when Application Continuity for OCI is enabled but the application is entering a section of code that is not replayable.
                                       </p> 
                                    </li>
                                    <li>
                                       <p>A new TAF callback function, <code class="codeph">TAFcbk_fn</code> — Register a callback function so that if failover occurs, the callback function can be invoked several times while reestablishing the user’s session. The first call to allow the application to inform the user of an upcoming delay while failover is in progress and a second call to inform the user that the connection is reestablished and usable, or if failover is unsuccessful to inform the user that failover cannot occur. If the connection is reestablished and usable, the client may want to replay <code class="codeph">ALTER SESSION</code> commands and inform the user failover has happened, and so forth. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>New Authentication Information Handle attribute <code class="codeph">OCI_ATTR_FIXUP_CALLBACK</code> — Specifies on the authentication handle attribute the callback passed to <code class="codeph">OCISessionGet()</code> for applications not using an OCISessionPool or using custom pools. For applications using OCISessionPool, this attribute must be set on the authentication handle, which in turn must be set on the session pool handle with attribute <code class="codeph">OCI_ATTR_SPOOL_AUTH</code> set to attribute <code class="codeph">OCI_ATTR_FIXUP_CALLBACK</code>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>See <a href="oci-programming-advanced-topics.html#GUID-A8DD9422-2F82-42A9-9555-134296416E8F" title="Application Continuity (AC) supports OCI beginning with Oracle Database 12c Release 2 (12.2) introducing support for planned and unplanned outages.">OCI and Application Continuity</a>, <a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977" title="Lists and describes user session handle attributes.">User Session Handle Attributes</a>, <a href="handle-and-descriptor-attributes.html#GUID-34071823-66D0-4C54-BFBB-6323BDEF8015" title="Lists and describes session pool handle attributes.">Session Pool Handle Attributes</a>, <a href="handle-and-descriptor-attributes.html#GUID-0193473A-20FE-4727-850E-41269F94BAD4" title="Lists and describes authentication information handle attributes.">Authentication Information Handle Attributes</a>, <a href="oci-programming-advanced-topics.html#GUID-B853A020-752F-494A-8D88-D0396EF57177" title="When using multi-property tags, a PL/SQL based fix-up callback for the session state can be provided on the server.">PL/SQL Callback for Session State Fix Up</a>, <a href="connect-authorize-and-initialize-functions.html#GUID-83735F2D-3ECC-4DB1-AE2E-A02360877D04" title="Disables application continuity replay for a session for the duration of the current database request.">OCIRequestDisableReplay()</a>, and <a href="oci-programming-advanced-topics.html#GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6" title="Describes the TAF Callback structure and parameters.">Transparent Application Failover Callback Structure and Parameters</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Support for identifiers up to 128 bytes:</p>
                           <p>Names can now be up to 128 bytes in length. Previously the limit was 30 bytes. For example, these names include attribute names, directory alias names, and identifier names, such as for handle attributes that hold identifier names for OCIDirPath (direct path loading functions) among many other names.</p>
                           <p>Older OCI clients that only support 30&#x2013;byte identifier names will continue to work with Release 2 (12.2) OCI APIs. </p>
                           <p>With the identifier length increased, OCI applications using deprecated V7 API <code class="codeph">odessp()</code> and deprecated UPI API <code class="codeph">upidpr()</code> may need to be changed. See the Note in <a href="intro-and-upgrading.html#GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" title="OCI has been significantly improved with many features since OCI release 7.">About Upgrading of Existing OCI Release 7 Applications</a> for more information.
                           </p>
                        </li>
                        <li>
                           <div class="p">Support for Pluggable Databases:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Enhancements to OCI calls for Multitenant Container Databases (CDB):</p>
                                    <p>Client result cache works with connections to Pluggable Databases.</p>
                                 </li>
                                 <li>
                                    <p>Enhancements to OCI calls for ALTER SESSION SET CONTAINER: </p>
                                    <p>The client must be at the same version as the server to perform these operations; otherwise, a lower version client will get an error:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p> The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement supports applications that use <code class="codeph">TIMESTAMP WITH TIMEZONE</code> or <code class="codeph">TIMESTAMP WITH LOCAL TIMEZONE</code> data types in OCI. This allows an application to switch between pluggable databases having different database time zone settings or different database time zone file version settings.
                                          </p>
                                       </li>
                                       <li>
                                          <p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement can be used to switch an OCI connection between any two pluggable databases whose character sets are different.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                           <p>See <a href="more-oci-advanced-topics.html#GUID-4C965D60-4E18-4DFD-BCB5-0012A62374D9" title="These enhancements are the result of restrictions that are now removed for Oracle Database 12c Release 2 (12.2) and later.">Enhancements on OCI API Calls with Multitenant Container Databases (CDB) in General</a> and <a href="more-oci-advanced-topics.html#GUID-AC92270B-CD17-40C4-B24E-76C05F78950E" title="Some OCI restrictions about using the&nbsp;ALTER SESSION SET CONTAINER&nbsp;statement are removed.">OCI Enhancements for ALTER SESSION SET CONTAINER</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>The OTT parameter <code class="codeph">USERID</code> now accepts a max length up to 243 bytes for the <code class="codeph">username</code> and <code class="codeph">db_name</code> combination, which is appended and used as a key in the <code class="codeph">OCIContextGetValue()</code> call. For Oracle Database 12<span class="italic">c</span> Release 1 (12.1), the max length was 64 bytes.
                           </p>
                           <p>See the <a href="using-object-type-translator-in-oci.html#GUID-FE662479-DBB7-483C-8C0D-C3145FD74ED3" title="The USERID parameter specifies the database user name, password, and optional database name (Oracle Net Services database specification string).">USERID</a> OTT parameter for more information.
                           </p>
                        </li>
                        <li>
                           <p>For the functions <code class="codeph">OCIContextSetValue()</code>, <code class="codeph">OCIContextGetValue()</code>, and <code class="codeph">OCIContextClearValue()</code> the maximum length of the <code class="codeph">keylen</code> parameter was increased from 64 bytes to 255 bytes. 
                           </p>
                           <p>See <a href="cartridge-services-maintaining-context.html#GUID-EBBFBDEC-4AC0-48A2-9934-38829BCC5D9A" title="Saves a value (or address) for a particular duration.">OCIContextSetValue()</a>, <a href="cartridge-services-maintaining-context.html#GUID-A2F1B726-EA4A-441C-AAB3-7FAD7B1B3112" title="Returns the value that is stored in the context associated with the given key (by calling OCIContextSetValue()).">OCIContextGetValue()</a>, and <a href="cartridge-services-maintaining-context.html#GUID-AD9A7993-242F-43AB-8948-17AC00EC04A0" title="Removes the value that is stored in the context associated with the given key (by calling OCIContextSetValue()).">OCIContextClearValue()</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">&lt;wallet_location&gt;</code> element has been added under the <code class="codeph">ons</code> section for Oracle Notification Service (ONS) parameters of the <code class="codeph">oraaccess.xml</code> client configuration file.
                           </p>
                           <p>See <a href="more-oci-advanced-topics.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Support to convert from version 1 to version 2 SCN in XStream for new and changed functions:</p>
                           <p>This support includes new functions: <code class="codeph">OCILCRScnToPosition2()</code>, <code class="codeph">OCILCRComparePosition()</code>, <code class="codeph">OCILCRConvertPosition()</code>, <code class="codeph">OCILCRGetLCRIDVersion()</code>; and changes to functions: <code class="codeph">OCILCRSCNsFromPosition()</code> — to support both version 1 and version 2 and <code class="codeph">OCILCRScnToPosition()</code> — raises an error if the SCN value is larger than the maximum  for version 1.
                           </p>
                           <p>See <a href="oci-XStream-functions.html#GUID-47608645-ED9F-46AA-A0AC-3222AF496104" title="Converts SCN to position (LCRID), which can handle both version 1 and version 2.">OCILCRScnToPosition2()</a>, <a href="oci-XStream-functions.html#GUID-832E0C00-9334-427E-BFE9-6892AE172BE2" title="Compares two position LCRID values.">OCILCRComparePosition()</a>, <a href="oci-XStream-functions.html#GUID-F9D864EB-6268-4F58-B319-15B3488FDC42" title="Converts an LCRID value to the specified version (1 or 2).">OCILCRConvertPosition()</a>, <a href="oci-XStream-functions.html#GUID-284CC8DC-047B-4935-96E5-4ABA3A083538" title="Determines the LCRID version of a given position.">OCILCRGetLCRIDVersion()</a>, <a href="oci-XStream-functions.html#GUID-D5100804-5AAE-4CEC-8B1F-9137DEBD412D" title="Returns the SCN and the commit SCN from the position value.">OCILCRSCNsFromPosition()</a>, and <a href="oci-XStream-functions.html#GUID-2A62CD9E-ACE8-4C8E-83D4-6A7BDF7B165D" title="Converts an SCN to a position.">OCILCRSCNToPosition()</a> for more information.
                           </p>
                           <p>See the topic about logical change records in <a href="../xstrm/general-xstream-concepts.html#XSTRM-GUID-A4E84CAB-2981-419D-A036-6148F05CA28C"><span><cite>Oracle Database XStream Guide</cite></span></a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>XStream function support for replication of application containers and application common objects in federation PDBs</p>
                           <div class="p">This support includes changes to the following functions:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">OCILCRHeaderGet()</code>, a new LCR flag: <code class="codeph">OCI_LCR_APPCON_REPLAY</code> — indicates the logical change record (LCR) is replayed from the application container sync statement.
                                    </p>
                                 </li>
                                 <li>
                                    <div class="p"><code class="codeph">OCIXStreamOutAttach()</code>, new mode flags:
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">OCIXSTREAM_OUT_ATTACH_APP_CONTAINER</code> — the application is capturing application container statements (<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> ) LCRs.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OCIXSTREAM_OUT_ATTACH_EXTENDED_TXID</code> — the application is making a request for extended transaction ID format.
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                           <p>See <a href="oci-XStream-functions.html#GUID-D399025F-65A8-4DBA-9F4E-410693CA637D" title="Returns the common header fields for ROW or DDL LCR.">OCILCRHeaderGet()</a> and <a href="oci-XStream-functions.html#GUID-6FE55A86-565C-4DF4-941B-D3456AAE6BBC" title="Attaches to an XStream outbound server.">OCIXStreamOutAttach()</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Distributed LOBs support in OCI:</p>
                           <p>Queries that select a LOB locator from a remote table are supported. DML operations on a remote table using a DBLink are supported.</p>
                           <p>Any tables mentioned in the <code class="codeph">FROM</code> or <code class="codeph">WHERE</code> clause in queries and DML should be collocated. If remote locators are used as bind variables in the <code class="codeph">WHERE</code> clauses, they should be collocated. By tables or locators being collocated, it means that they use the same database link.
                           </p>
                           <p>OCI LOB API supports distributed operations using remote LOB locators (<code class="codeph">CLOB</code>, <code class="codeph">BLOB</code>) but not for <code class="codeph">BFILE</code> locators.
                           </p>
                           <p>All LOB APIs that take in two locators must have both LOBs collocated at one database.</p>
                           <p>New LOB locator attribute: <code class="codeph">OCI_ATTR_LOB_REMOTE</code> can be used to find out whether a LOB locator belongs to local database table or remote database table. As a Boolean data type, the returned value <code class="codeph">TRUE</code> indicates the LOB locator is from a remote database table. 
                           </p>
                           <p>The following LOB functions throw an error when a remote locator is passed: <a href="lob-functions.html#GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" title="Assigns one LOB or BFILE locator to another">OCILobAssign()</a>, <a href="lob-functions.html#GUID-F7887376-4B3C-430C-94A3-11FE96E26627" title="Assigns one LOB or BFILE locator to another.">OCILobLocatorAssign()</a>, <a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCILobEnableBuffering()</a>, <a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCILobDisableBuffering()</a>, <a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCILobFlushBuffer()</a>, <a href="lob-functions.html#GUID-47652C79-0635-4595-A34B-CD03B7F81A9F" title="Reads LOB data for multiple locators in one round-trip.">OCILobArrayRead()</a>, <a href="lob-functions.html#GUID-10AB60C9-13FE-4CC9-9C62-CAD45DBB3B93">OCILobArrayWrite()</a>, and <a href="lob-functions.html#GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" title="Loads and copies all or a portion of the file into an internal LOB. This function must be used for LOBs of size greater than 4 GB.">OCILobLoadFromFile2()</a>.
                           </p>
                           <p>See <a href="lob-functions.html#GUID-699FFE4B-07C8-4904-959F-3686E73B8188" title="Starts a user duration for a temporary LOB.Terminates a user duration for a temporary LOB.Appends a LOB value at the end of another LOB as specified.Reads LOB data for multiple locators in one round-trip.Assigns one LOB or BFILE locator to anotherGets the character set form of the LOB locator, if any.Gets the LOB locator's database character set ID of the LOB locator, if any.Closes a previously opened LOB or BFILE.Copies all or a portion of a LOB value into another LOB value.Creates a temporary LOB.Erases a specified portion of the internal LOB data starting at a specified offset.Closes a previously opened BFILE.Closes all open BFILEs on a given service context.Tests to see if the BFILE exists on the server's operating system.Gets the BFILE locator's directory object and file name.Tests to see if the BFILE is open.Opens a BFILE on the file system of the server for read-only access.Sets the directory object and file name in the BFILE locator.Frees a temporary LOB.Gets the chunk size of a LOB.Gets the user-specified content type string for the data in a SecureFile, if set.Gets the length of a LOB. This function must be used for LOBs of size greater than 4 GB.Obtains the enabled settings corresponding to the given input option types for a given SecureFile LOB.Gets the maximum length of an internal LOB (BLOB, CLOB, or NCLOB) in bytes. Compares two LOB or BFILE locators for equality.Tests whether a LOB or BFILE is open.Tests if a locator points to a temporary LOB.Loads and copies all or a portion of the file into an internal LOB. This function must be used for LOBs of size greater than 4 GB. Assigns one LOB or BFILE locator to another.Tests to see if a given LOB or BFILE locator is initialized.Opens a LOB, internal or external, in the indicated mode.Reads a portion of a LOB or BFILE, as specified by the call, into a buffer. This function must be used for LOBs of size greater than 4 GB.Sets a content type string for the data in the SecureFile to something that can be used by an application.Enables option settings for a SecureFile LOB.Truncates the LOB value to a shorter length. This function must be used for LOBs of size greater than 4 GB.Writes a buffer into a LOB. This function must be used for LOBs of size greater than 4 GB. Writes data starting at the end of a LOB. This function must be used for LOBs of size greater than 4 GB.">LOB Functions</a>, <a href="lobs-and-bfile-operations.html#GUID-CD11DD8F-77C6-4C14-BF75-DDB107CB246B" title="OCI includes a set of functions for performing operations on large objects (LOBs) in a database.">About Using OCI Functions for LOBs</a>, and <a href="handle-and-descriptor-attributes.html#GUID-E3E231A7-00B9-42F0-B47D-A38E3F131A67" title="Lists and describes LOB locator attributes.">LOB Locator Attributes</a> for more information.
                           </p>
                           <p>See the chapter about using distributed LOBs and working with remote LOBs in <a href="../adlob/distributed-LOBs.html#ADLOB-GUID-7E450E86-3E4E-4714-A164-FD36B93722F6"><span><cite>Oracle Database SecureFiles and Large Objects Developer's Guide</cite></span></a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Support for Hybrid Columnar Compression (HCC) with conventional DML operations:</p>
                           <p>HCC can be used during array inserts with OCI. HCC conventional array inserts are only supported for HCC tables on ASSM tablespaces.</p>
                           <p>See <a href="binding-and-defining-in-oci.html#GUID-442E47AD-83A8-4959-9A73-DBFB7D3482A6" title="You can pass data to the Oracle database in various ways.">OCI Array Interface</a> for more information.
                           </p>
                           <p>See <a href="../admin/managing-tables.html#ADMIN-GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about how to configure HCC.
                           </p>
                        </li>
                        <li>
                           <p>Restriction on OCI calls that use the <code class="codeph">ALTER SESSION SWITCH CONTAINER SWITCH SERVICE</code> statement. 
                           </p>
                           <p>See <a href="more-oci-advanced-topics.html#GUID-4C3E5E82-2DA9-4A9A-9169-78EEBD9D25F7" title="Describes a restriction on OCI calls with the ALTER SESSION SWITCH CONTAINER SWITCH SERVICE statement.">Restrictions on OCI Calls with ALTER SESSION SWITCH CONTAINER SWITCH SERVICE</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Support for validating the format or internal representation of Oracle <code class="codeph">NUMBER</code> and <code class="codeph">DATE</code> data when loading stream data:
                           </p>
                           <p>When a stream is parsed on the server using <code class="codeph">OCIDirPathLoadStream()</code>, you can use the direct path context handle attribute <code class="codeph">OCI_ATTR_DIRPATH_FLAGS</code> with the <code class="codeph">OCI_DIRPATH_FLAGS_VLDT</code> flag set to validate the internal representation of dates and numbers. However, this is an expensive operation, so the default is to not set this flag. 
                           </p>
                           <p>See <a href="direct-path-load-interface.html#GUID-F29B2906-60CB-480E-8EE0-6707BF4B5463" title="Describes validating format for Oracle NUMBER and DATE data when loading stream data.">About Validating Format for Oracle NUMBER and DATE Data</a> and <a href="handle-and-descriptor-attributes.html#GUID-07F0F31C-94FF-4E3B-B8E1-C2394CB94390" title="Lists and describes direct path context handle (OCIDirPathCtx) attributes.">Direct Path Context Handle (OCIDirPathCtx) Attributes</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Support for establishing an administrative session for an expired user account at logon before changing the password. The mode parameter for <code class="codeph">OCIPasswordChange()</code> can in addition to the <code class="codeph">OCI_AUTH</code> value accept any one the following additional mode flags that corresponds to its administrative session: <code class="codeph">OCI_CPW_SYSDBA</code>, <code class="codeph">OCI_CPW_SYSOPER</code>, <code class="codeph">OCI_CPW_SYSASM</code>, <code class="codeph">OCI_CPW_SYSBKP</code>, <code class="codeph">OCI_CPW_SYSDGD</code>, and <code class="codeph">OCI_CPW_SYSKMT</code>.
                           </p>
                           <p>See <a href="miscellaneous-functions.html#GUID-5C677395-E96C-4CCF-8448-AA3ADA22C26B" title="Changes the password of an account.">OCIPasswordChange()</a> for more information.
                           </p>
                        </li>
                        <li> 
                           <p>A change in the linear snapshot size from 24 bytes to 34 bytes requires the reconstruction of the collection image form:</p>
                           <p>When an older client or server accesses a Release 12.2 or higher database involving any access to collections, the collection image form that contains the linear snapshot must be converted when sending or receiving to older clients or server. This conversion results in the performance degradation. Oracle recommends that you use a 12.2 version of the client or server to avoid this conversion.</p>
                           <p>See <a href="oci-object-relational-programming.html#GUID-EE003A8F-A19B-499C-A8FE-4BB4B37EC44D" title="OCI allows applications to access any of the data types found in Oracle Database, including scalar values, collections, and instances of any object type.">OCI Object Overview</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Instant Client can now use the <code class="codeph">ORA_TZFILE</code> environment variable to read the time zone file from the file system. Previously, specifying the <code class="codeph">ORA_TZFILE</code> environment variable would read the time zone file that was bundled in the data shared library and ignore the time zone file from the file system.
                           </p>
                        </li>
                        <li>
                           <p>Two new service context handle attributes, <code class="codeph">OCI_ATTR_MAX_CHARSET_RATIO</code> and <code class="codeph">OCI_ATTR_MAX_NCHARSET_RATIO</code> can be used to obtain the maximum character set expansion ratio from server to client character set or national character set respectively. This lets you more efficiently allocate optimal memory of buffers before conversion so that when data is returned from the database, sufficient space can be allocated to hold it. This is useful in scenarios where there are different character sets or national character sets between server and client.
                           </p>
                           <p>See <a href="binding-and-defining-in-oci.html#GUID-54B9B929-6567-4BB6-86DD-5358CD147608" title="If a database column containing character data is defined to be a CHAR or VARCHAR2 or NCHAR or NVARCHAR2 column, then a bind or define involving that column must make special considerations for dealing with character set specifications.">About Choosing a Character Set</a> and <a href="handle-and-descriptor-attributes.html#GUID-D8EE68EB-7E38-4068-B06E-DF5686379E5E" title="Lists and describes service context handle attributes.">Service Context Handle Attributes</a> for more informati 
                           </p>
                        </li>
                        <li>
                           <p>A new authentication mode <code class="codeph">OCI_SYSRAC</code> for SYSRAC access can be used in the <code class="codeph">mode</code> parameter for <code class="codeph">OCISessionBegin()</code>. In this mode, you are authenticated for SYSRAC access. In addition, the authentication modes <code class="codeph">OCI_SYSBKP</code> for SYSBACKUP access, <code class="codeph">OCI_SYSDGD</code> for SYSDG access, and <code class="codeph">OCI_SYSKMT</code> for SYSKM access though implemented in Oracle 12<span class="italic">c</span> Release 1 (12.1) were not documented until recently in that release. These modes are also now documented in this current release.
                           </p>
                           <p>See <a href="managing-scalable-platforms.html#GUID-0C150A00-8DE9-4A8C-83BC-802D25503CA5" title="The OCISessionBegin() call authenticates a user against the server set in the service context handle.">OCI Authentication Management</a> and <a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>A new statement handle attribute <code class="codeph">OCI_ATTR_SQL_ID</code> that gets the <code class="codeph">SQL_ID</code> for a specific SQL statement from the server and makes it available on the client.
                           </p>
                           <p>See <a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE" title="Lists and describes statement handle attributes.">Statement Handle Attributes</a> for more information.
                           </p>
                        </li>
                        <li>
                           <div class="p">Two new direct path context handle (<code class="codeph">OCIDirPathCtx</code>) attributes: 
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_DIRPATH_DEF_EXP_CACHE_SIZE</code> — Specifies the number of default expressions that are evaluated at a time. The default is 100. For default expressions that must be evaluated for every row, increasing this value may improve performance.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_DIRPATH_DEFAULTS</code> — Specifies how the direct path API handles default expressions for columns that are not explicitly being loaded.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>See <a href="handle-and-descriptor-attributes.html#GUID-07F0F31C-94FF-4E3B-B8E1-C2394CB94390" title="Lists and describes direct path context handle (OCIDirPathCtx) attributes.">Direct Path Context Handle (OCIDirPathCtx) Attributes</a> for more information.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1876E8B1-43EC-4074-95B9-D91185D79360" name="GUID-1876E8B1-43EC-4074-95B9-D91185D79360"></a><h4 id="LNOCI-GUID-1876E8B1-43EC-4074-95B9-D91185D79360" class="sect4">Deprecated Features</h4>
                  <div>
                     <p>The following deprecated features will not be supported in future releases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>OCI release 7.3 API</p>
                           <p>See <a href="intro-and-upgrading.html#GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" title="OCI has been significantly improved with many features since OCI release 7.">About Upgrading of Existing OCI Release 7 Applications</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>LOB Buffering subsystem APIs</p>
                           <div class="p">The following functions are deprecated beginning with Oracle 12<span class="italic">c</span> Release 2 (12.2.0.1):
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCILobEnableBuffering()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCILobDisableBuffering()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCILobFlushBuffer()</a></p>
                                 </li>
                              </ul>
                           </div>
                           <p>In place of using these LOB buffering functions, use the LOB prefetch feature described in <a href="lobs-and-bfile-operations.html#GUID-3F7FEAFF-F4EF-42CC-8F95-598D227C5D83" title="To improve OCI access of smaller LOBs, LOB data can be prefetched and cached while also fetching the locator.">Prefetching of LOB Data, Length, and Chunk Size</a>. 
                           </p>
                        </li>
                        <li>
                           <p>Statement function APIs</p>
                           <p>The following function is deprecated beginning with Oracle 12<span class="italic">c</span> Release 2 (12.2.0.1): <code class="codeph">OCIStmtPrepare()</code>.
                           </p>
                           <p>Oracle strongly encourages use of <a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a> in all OCI applications instead of the deprecated call <a href="deprecated-oci-functions.html#GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCIStmtPrepare()</a>.
                           </p>
                           <p>Use the <code class="codeph">OCIStmtPrepare2()</code> call to support the use of Application Continuity in an HA infrastructure. Applications that use <code class="codeph">OCIStmtPrepare()</code> return the following error: <code class="codeph">Error - ORA-25412: transaction replay disabled by call to OCIStmtPrepare</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>