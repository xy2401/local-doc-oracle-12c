<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_LOGSTDBY package provides subprograms for configuring and managing the logical standby database environment.">
      <meta name="description" content="The DBMS_LOGSTDBY package provides subprograms for configuring and managing the logical standby database environment.">
      <title>DBMS_LOGSTDBY</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_LOGSTDBY package provides subprograms for configuring and managing the logical standby database environment.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-15T02:42:46-07:00">
      <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85717-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="DBMS_LOGMNR_D.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_LOGSTDBY_CONTEXT.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ARPLS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_LOGMNR_D.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_LOGSTDBY_CONTEXT.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_LOGSTDBY</li>
            </ol>
            <a id="GUID-28B9C792-A952-426A-B37D-8D66BD2CB307" name="GUID-28B9C792-A952-426A-B37D-8D66BD2CB307"></a><a id="ARPLS363"></a><a id="ARPLS363"></a>
            
            <h2 id="ARPLS-GUID-28B9C792-A952-426A-B37D-8D66BD2CB307" class="sect2"><span class="enumeration_chapter">97 </span>DBMS_LOGSTDBY
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='DBMS_LOGSTDBY'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>The <code class="codeph">DBMS_LOGSTDBY</code> package provides subprograms for configuring and managing the logical standby database environment.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_LOGSTDBY.html#GUID-260F3832-61E7-4A99-92AB-ECCA1B97046C" title="The DBMS_LOGSTDBY package helps you manage the SQL Apply (logical standby database) environment.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_LOGSTDBY.html#GUID-890F7DFB-E856-4DCC-AB84-D03F5729FD68" title="You must have the DBA role to use the DBMS_LOGSTDBY package.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_LOGSTDBY.html#GUID-16A8DA80-7699-4517-8EE6-5285C0710E66" title="The DBMS_LOGSTDBY package defines several enumerated constants for specifying parameter values. Enumerated constants must be prefixed with the package name, for example, DBMS_LOGSTDBY.SKIP_ACTION_SKIP.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_LOGSTDBY.html#GUID-C61FDB62-2237-4016-9F18-79CABBEB3597" title="This table describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is described in more detail.">Summary of DBMS_LOGSTDBY Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-28B9C792-A952-426A-B37D-8D66BD2CB307__GUID-5E74E1B6-2E6F-4486-9F0C-ABF062E57E8D">
                  <p class="notep1">See Also:</p>
                  <p><a href="../sbydb/creating-oracle-data-guard-logical-standby.html#SBYDB-GUID-3666CA35-D993-44B6-8D70-A2B8B9EC8B2E"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a></p>
               </div>
            </div><a id="ARPLS66824"></a><a id="ARPLS66824"></a><div class="props_rev_3"><a id="GUID-260F3832-61E7-4A99-92AB-ECCA1B97046C" name="GUID-260F3832-61E7-4A99-92AB-ECCA1B97046C"></a><h3 id="ARPLS-GUID-260F3832-61E7-4A99-92AB-ECCA1B97046C" class="sect3"><span class="enumeration_section">97.1 </span>DBMS_LOGSTDBY Overview
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_LOGSTDBY</code> package helps you manage the SQL Apply (logical standby database) environment. 
                  </p>
                  <div class="section">
                     <p>The subprograms in the <code class="codeph">DBMS_LOGSTDBY</code> package help you to accomplish the following main objectives:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Manage configuration parameters used by SQL Apply.</p>
                           <p>For example, controlling how transactions are applied on the logical standby database, how much shared pool is used, and how many processes are used by SQL Apply to mine and apply the changes.</p>
                        </li>
                        <li>
                           <p>Ensure an appropriate level of supplemental logging is enabled, and a LogMiner dictionary is built correctly for logical standby database creation.</p>
                        </li>
                        <li>
                           <p>Provide a way to skip the application of changes to selected tables or entire schemas in the logical standby database, and specify ways to handle exceptions encountered by SQL Apply.</p>
                        </li>
                        <li>
                           <p>Allow controlled access to tables in the logical standby database that may require maintenance.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73152"></a><a id="ARPLS73152"></a><div class="props_rev_3"><a id="GUID-890F7DFB-E856-4DCC-AB84-D03F5729FD68" name="GUID-890F7DFB-E856-4DCC-AB84-D03F5729FD68"></a><h3 id="ARPLS-GUID-890F7DFB-E856-4DCC-AB84-D03F5729FD68" class="sect3"><span class="enumeration_section">97.2 </span>DBMS_LOGSTDBY Security Model
               </h3>
               <div>
                  <p>You must have the <code class="codeph">DBA</code> role to use the <code class="codeph">DBMS_LOGSTDBY</code> package.
                  </p>
                  <div class="section">
                     <p>A prototype role, <code class="codeph">LOGSTDBY_ADMINISTRATOR</code>, is created by default with <code class="codeph">RESOURCE</code> and <code class="codeph">EXECUTE</code> privileges on <code class="codeph">DBMS_LOGSTDBY</code>. If you choose to use this role, consider granting <code class="codeph">ALTER DATABASE</code> and <code class="codeph">ALTER SESSION</code> privileges to the role so that the grantee can start and stop SQL Apply and can enable and disable the database guard. 
                     </p>
                     <p>The procedures associated with skipping transactions (<code class="codeph">SKIP</code> and <code class="codeph">UNSKIP</code>, <code class="codeph">SKIP_ERROR</code> and <code class="codeph">UNSKIP_ERROR</code>, and <code class="codeph">SKIP_TRANSACTION</code> and <code class="codeph">UNSKIP_TRANSACTION</code>) all require <code class="codeph">DBA</code> privileges to execute because their scope may contain wildcard schemas. Oracle recommends that where <code class="codeph">SKIP</code> procedures are specified, these be owned by a secure account with appropriate privileges on the schemas they act on (for example, <code class="codeph">SYS</code>).
                     </p>
                     <p>The procedures associated with EDS-based replication require the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_LOGSTDBY</code> package. They also require the <code class="codeph">CREATE TABLE</code> and <code class="codeph">DROP TABLE</code> system privileges to create (and drop) shadow tables in the target schema. If materialized views are used, then the <code class="codeph">CREATE MATERIALIZED VIEW</code> and <code class="codeph">DROP ANY MATERIALIZED VIEW</code> system privileges are also required. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74900"></a><a id="ARPLS74901"></a><a id="ARPLS74901"></a><a id="ARPLS74900"></a><div class="props_rev_3"><a id="GUID-16A8DA80-7699-4517-8EE6-5285C0710E66" name="GUID-16A8DA80-7699-4517-8EE6-5285C0710E66"></a><h3 id="ARPLS-GUID-16A8DA80-7699-4517-8EE6-5285C0710E66" class="sect3"><span class="enumeration_section">97.3 </span>DBMS_LOGSTDBY Constants
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_LOGSTDBY</code> package defines several enumerated constants for specifying parameter values. Enumerated constants must be prefixed with the package name, for example, <code class="codeph">DBMS_LOGSTDBY</code>.<code class="codeph">SKIP_ACTION_SKIP</code>.
                  </p>
                  <div class="section">
                     <p>The following table describes the constants for the  <code class="codeph">proc_name</code> parameter in the <code class="codeph">DBMS_LOGSTDBY</code>.<code class="codeph">SKIP</code> procedure.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-16A8DA80-7699-4517-8EE6-5285C0710E66__BGBBJGDI">
                     <p class="titleintable">Table 97-1 Constants for SKIP Options Flag</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Constants for SKIP Options Flag" summary="This table lists and describes DBMS_LOGSTDBY Constants." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d521749e560">Constant</th>
                              <th align="left" valign="bottom" width="69%" id="d521749e563">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d521749e568" headers="d521749e560 ">
                                 <p><code class="codeph">MAX_EVENTS</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d521749e568 d521749e563 ">
                                 <p>Maximum number of events to log in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view. See the <code class="codeph">DBMS_LOGSTDBY</code> <a href="DBMS_LOGSTDBY.html#GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7" title="Use this procedure to set values of parameters that configure and manage SQL Apply in a logical standby database environment. All parameters, except for PRESERVE_COMMIT_ORDER, can be changed without having to stop SQL Apply.">APPLY_SET Procedure</a>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d521749e592" headers="d521749e560 ">
                                 <p><code class="codeph">SKIP_ACTION_APPLY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d521749e592 d521749e563 ">
                                 <p>Used inside the user-defined procedure registered with <code class="codeph">DBMS_LOGSTDBY.SKIP.</code> Use this constant when setting the value of the  <code class="codeph">SKIP_ACTION</code> parameter with <code class="codeph">DBMS_LOGSTDBY_CONTEXT</code> if you want SQL Apply to apply the DDL or PL/SQL statement.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d521749e609" headers="d521749e560 ">
                                 <p><code class="codeph">SKIP_ACTION_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d521749e609 d521749e563 ">
                                 <p>Used inside the user-defined procedure registered with <code class="codeph">DBMS_LOGSTDBY.SKIP</code>. Use this constant when setting the value of the  <code class="codeph">SKIP_ACTION</code> parameter with <code class="codeph">DBMS_LOGSTDBY_CONTEXT</code> if you want SQL Apply to error out.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d521749e626" headers="d521749e560 ">
                                 <p><code class="codeph">SKIP_ACTION_REPLACE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d521749e626 d521749e563 ">
                                 <p>Used inside the user-defined procedure registered with <code class="codeph">DBMS_LOGSTDBY.SKIP</code>. Use this constant when setting the value of the  <code class="codeph">SKIP_ACTION</code> parameter with <code class="codeph">DBMS_LOGSTDBY_CONTEXT</code> if you want SQL Apply to apply the replacement DDL. (This constant should not be used while handling an Oracle Supplied PL/SQL procedure call).
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d521749e643" headers="d521749e560 ">
                                 <p><code class="codeph">SKIP_ACTION_SKIP</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d521749e643 d521749e563 ">
                                 <p>Used inside the user-defined procedure registered with <code class="codeph">DBMS_LOGSTDBY.SKIP</code>. Use this constant when setting the value of the  <code class="codeph">SKIP_ACTION</code> parameter with <code class="codeph">DBMS_LOGSTDBY_CONTEXT</code> if you want SQL Apply to skip the associated DDL or Oracle supplied PL/SQL procedure call.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS66827"></a><a id="ARPLS66828"></a><a id="ARPLS66828"></a><a id="ARPLS66827"></a><div class="props_rev_3"><a id="GUID-C61FDB62-2237-4016-9F18-79CABBEB3597" name="GUID-C61FDB62-2237-4016-9F18-79CABBEB3597"></a><h3 id="ARPLS-GUID-C61FDB62-2237-4016-9F18-79CABBEB3597" class="sect3"><span class="enumeration_section">97.4 </span>Summary of DBMS_LOGSTDBY Subprograms
               </h3>
               <div>
                  <p>This table describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is described in more detail.</p>
                  <div class="section">
                     <p>In a multitenant container database (CDB), some subprograms must be called from the root. There may be other differences as well. See the individual subprogram descriptions for details.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C61FDB62-2237-4016-9F18-79CABBEB3597__GUID-5B063017-A232-4471-BF63-BB4C98A2F3B5">
                     <p class="titleintable">Table 97-2 DBMS_LOGSTDBY Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_LOGSTDBY Package Subprograms" summary="This table describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is described in more detail." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="43%" id="d521749e758">Subprogram</th>
                              <th align="left" valign="bottom" width="57%" id="d521749e761">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e766" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7" title="Use this procedure to set values of parameters that configure and manage SQL Apply in a logical standby database environment. All parameters, except for PRESERVE_COMMIT_ORDER, can be changed without having to stop SQL Apply.">APPLY_SET Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e766 d521749e761 ">
                                 <p>Sets the values of various parameters that configure and maintain SQL Apply.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e781" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-6D46BDFC-51C3-4D16-90FD-1D916FF13043" title="Use the APPLY_UNSET procedure to restore the default values of the parameters that you changed with the APPLY_SET procedure.">APPLY_UNSET Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e781 d521749e761 ">
                                 <p>Restores the default values of various parameters that configure and maintain SQL Apply. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e799" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-5E389D91-8CE7-4262-9530-FBBFD91BD673" title="Use this procedure on the primary database to record relevant metadata (LogMiner dictionary) information in the redo log, which will subsequently be used by SQL Apply. This procedure will enable database-wide primary- and unique-key supplemental logging, if necessary.">BUILD Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e799 d521749e761 ">
                                 <p>Ensures supplemental logging is enabled properly and builds the LogMiner dictionary.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e811" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-A02338A8-70C9-49D5-941E-D70553B2783D" title="This procedure adds EDS-based replication for the table. It should be invoked on the primary database first and then on the standby database.">EDS_ADD_TABLE</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e811 d521749e761 ">
                                 <p>Adds EDS-based replication for the table. It should be invoked on the primary database first and then on the standby database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e823" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-CE7E5B20-A90C-4C40-87AB-863C1D63074B" title="This procedure either enables or disables automatic DDL handling for EDS tables.">EDS_EVOLVE_AUTOMATIC</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e823 d521749e761 ">
                                 <p>Enables or disables automatic DDL handling for EDS tables.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e835" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-46D2B5F4-EE1C-4D0C-AC64-D2C87A55FDDE" title="This procedure allows you to evolve EDS tables manually (that is, manually take compensating actions based on DDLs on the base tables with EDS-replication).">EDS_EVOLVE_MANUAL</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e835 d521749e761 ">
                                 <p>Allows you to evolve EDS tables manually (that is, manually take compensating actions based on DDLs on the base tables with EDS-replication).</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e847" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-5784F54A-931B-4165-81A4-898197011DC5" title="This procedure removes EDS-based replication for the specified table. It also drops the shadow table and triggers.">EDS_REMOVE_TABLE</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e847 d521749e761 ">
                                 <p>Removes EDS-based replication for the specified table. It also drops the shadow table and triggers.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e859" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-803AAE39-AB03-47DA-95E2-FBDFCAA29755" title="This procedure creates and populates a table in the standby database from a corresponding table in the primary database.">INSTANTIATE_TABLE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e859 d521749e761 ">
                                 <p>Creates and populates a table in the standby database from a corresponding table in the primary database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e871" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-991B7EE3-939F-4E26-BB10-D9A465529CFE" title="This function returns TRUE if it is executed from PL/SQL in the context of a logical standby apply server process.">IS_APPLY_SERVER Function</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e871 d521749e761 ">
                                 <p>This function returns <code class="codeph">TRUE</code> if it is executed from PL/SQL in the context of a logical standby apply server process. This function is used in conjunction with triggers that have the <code class="codeph">fire_once</code> parameter in the <code class="codeph">DBMS_DDL.SET_TRIGGER_FIRING_PROPERTY</code> subprogram set to <code class="codeph">FALSE</code> (the default is <code class="codeph">TRUE</code>). Such triggers are executed when the relevant target is updated by an apply process. This function can be used within the body of the trigger to ensure that the trigger takes different (or no) actions on the primary or on the standby.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e901" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-64D1A18C-FFA6-403B-9A32-11BC30735E8C" title="This function returns an SCN on the standby that predates the supplied SCN from the primary database by at least 5 minutes.">MAP_PRIMARY_SCN Function</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e901 d521749e761 ">
                                 <p>Maps an SCN relevant to the primary database to a corresponding SCN at the logical standby database. The mapped SCN is conservative in nature, and can thus be used to flash back the logical standby database to compensate for a flashback database operation performed at the primary database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e913" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-B31DAC7B-D4B8-45DF-BAB3-32725605E9AD" title="The PREPARE_FOR_NEW_PRIMARY procedure must be invoked at a logical standby database following a failover, if that standby database was not the target of the failover operation.">PREPARE_FOR_NEW_PRIMARY Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e913 d521749e761 ">
                                 <p>Used after a failover, this procedure ensures a local logical standby database that was not involved in the failover has not processed more redo than the new primary database and reports the set of archive redo log files that must be replaced to ensure consistency</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e929" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-E8D8AB67-2F8C-4D5D-A906-C2678F5896F4" title="PURGE_SESSION identifies all archived redo log files that have been applied to the logical standby database and are no longer needed by SQL Apply.">PURGE_SESSION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e929 d521749e761 ">
                                 <p>Identifies the archived redo log files that have been applied to the logical standby database and are no longer needed by SQL Apply</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e943" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-E1D26D56-C383-4253-A606-D73993E9D182" title="This procedure is used if a database that has recently changed its role to a primary database following a failover operation fails to record relevant metadata (including the LogMiner dictionary) in the redo stream required for other logical standby databases.">REBUILD Procedure</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e943 d521749e761 ">
                                 <p>Records relevant metadata (including the LogMiner dictionary) in the redo stream in case a database that has recently changed its role to a primary database following a failover operation fails to do so during the failover process</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e956" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-B771E6E3-AF11-48AB-9F82-597CBC1FD001" title="This procedure moves metadata tables required by SQL Apply to the user-specified tablespace.">SET_TABLESPACE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e956 d521749e761 ">
                                 <p>Moves metadata tables required by SQL Apply to the user-specified tablespace. By default, the metadata tables are created in the <code class="codeph">SYSAUX</code> tablespace.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e971" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492" title="The SKIP procedure can be used to define rules that will be used by SQL Apply to skip the application of certain changes to the logical standby database.">SKIP Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e971 d521749e761 ">
                                 <p>Specifies rules that control database operations that should not be applied to the logical standby database</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e986" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-267A7172-05AD-443A-9AC6-B4D0CF8208A5" title="The SKIP_ERROR procedure specifies the action to take when a logical standby database detects an error.">SKIP_ERROR Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e986 d521749e761 ">
                                 <p>Specifies rules regarding what action to take upon encountering errors.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e998" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-D4215C30-F4D1-486A-B83C-978ABC39A037" title="This procedure provides a way to skip (ignore) applying transactions to the logical standby database. You can skip specific transactions by specifying transaction identification information.">SKIP_TRANSACTION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e998 d521749e761 ">
                                 <p>Specifies transactions that should not be applied on the logical standby database. Be careful in using this procedure, because not applying specific transactions may cause data corruption at the logical standby database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e1010" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-B5B3A174-82B5-437C-80DD-6B389973F8C9" title="Use the UNSKIP procedure to delete rules specified earlier with the SKIP procedure.">UNSKIP Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e1010 d521749e761 ">
                                 <p>Deletes rules specified by the <code class="codeph">SKIP</code> procedure.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e1031" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-B1C13C6B-E683-4407-BEC2-00E5EFD5A181" title="Use the UNSKIP_ERROR procedure to delete rules specified earlier with the SKIP_ERROR procedure.">UNSKIP_ERROR Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e1031 d521749e761 ">
                                 <p>Deletes rules specified by the <code class="codeph">SKIP_ERROR</code> procedure.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d521749e1052" headers="d521749e758 ">
                                 <p><a href="DBMS_LOGSTDBY.html#GUID-838D761C-8B3D-47AB-A9C6-ECC6835BE00D" title="Use the UNSKIP_TRANSACTION procedure to delete rules specified earlier with the SKIP_TRANSACTION procedure.">UNSKIP_TRANSACTION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d521749e1052 d521749e761 ">
                                 <p>Deletes rules specified by the <code class="codeph">SKIP_TRANSACTION</code> procedure.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66829"></a><a id="ARPLS66830"></a><a id="ARPLS66831"></a><a id="ARPLS66830"></a><a id="ARPLS66831"></a><a id="ARPLS66829"></a><div class="props_rev_3"><a id="GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7" name="GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7"></a><h4 id="ARPLS-GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7" class="sect4"><span class="enumeration_section">97.4.1 </span>APPLY_SET Procedure
                  </h4>
                  <div>
                     <p>Use this procedure to set values of parameters that configure and manage SQL Apply in a logical standby database environment. All parameters, except for <code class="codeph">PRESERVE_COMMIT_ORDER</code>, can be changed without having to stop SQL Apply.
                     </p>
                     <div class="section">
                        <p>In a CDB, the <code class="codeph">APPLY_SET</code> procedure must be called from the root database. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.APPLY_SET (
     inname             IN VARCHAR,
     value              IN VARCHAR);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7__CHDCJDGA">
                           <p class="titleintable">Table 97-3 APPLY_SET Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="APPLY_SET Procedure Parameters " summary="This table lists and describes the parameters you can set on the DBMS_LOGSTDBY.APPLY_SET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="35%" id="d521749e1193">Parameter</th>
                                    <th align="left" valign="bottom" width="65%" id="d521749e1196">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1201" headers="d521749e1193 ">
                                       <p><code class="codeph">APPLY_SERVERS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1201 d521749e1196 ">
                                       <p>Controls the number of <code class="codeph">APPLIER</code> processes used to apply changes. The maximum number allowed is 1024, provided the <code class="codeph">MAX_SERVERS</code> parameter is set to accommodate this.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1215" headers="d521749e1193 ">
                                       <p><code class="codeph">EVENT_LOG_DEST</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1215 d521749e1196 ">
                                       <p>Controls where SQL Apply records the occurrence of an interesting event. It takes the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">DEST_ALL</code> - All events will be recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view and in the alert log.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEST_EVENTS_TABLE</code> - All events that contain information about user data will be recorded only in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view. This is the default value.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>For example, if SQL Apply receives an <code class="codeph">ORA-1403</code> error, the whole event is recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view. Whereas, the alert log records only that SQL Apply stopped because of <code class="codeph">ORA-1403</code>. No information regarding the user table or offending statement is logged in the alert log. However, if you stop the SQL Apply engine, it gets recorded in both the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view and in the alert log.
                                       </p>
                                       <p>Note that this parameter affects the behavior of the following parameters: <code class="codeph">RECORD_APPLIED_DDL</code>, <code class="codeph">RECORD_SKIP_DDL</code>, <code class="codeph">RECORD_SKIP_ERRORS</code>, and <code class="codeph">RECORD_UNSUPPORTED_OPERATIONS</code>. For example, if <code class="codeph">RECORD_APPLIED_DDL</code> is set to <code class="codeph">TRUE</code>, but <code class="codeph">EVENT_LOG_DEST</code> is set to <code class="codeph">DEST_EVENTS_TABLE</code>, then the applied DDL string will only be recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1284" headers="d521749e1193 ">
                                       <p><code class="codeph">LOG_AUTO_DEL_RETENTION_TARGET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1284 d521749e1196 ">
                                       <p>This parameter setting is only meaningful if <code class="codeph">LOG_AUTO_DELETE</code> has been set to <code class="codeph">TRUE</code>. The value you supply for this parameter controls how long (in minutes) a remote archived log that is received from the primary database will be retained at the logical standby database once all redo records contained in the log have been applied at the logical standby database. The default value is 1440 minutes.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1298" headers="d521749e1193 ">
                                       <p><code class="codeph">LOG_AUTO_DELETE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1298 d521749e1196 ">
                                       <p>Automatically deletes foreign archived redo log files as soon as they have been applied on the logical standby database. By default, a foreign archived redo log file is not deleted until 24 hours (the default value of <code class="codeph">LOG_AUTO_DEL_RETENTION_TARGET</code> parameter) after it has been applied at the logical standby database. Set to <code class="codeph">TRUE</code> to enable automatic deletion of archived redo log files. Set to <code class="codeph">FALSE</code> to disable automatic deletion. The default value is <code class="codeph">TRUE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1318" headers="d521749e1193 ">
                                       <p><code class="codeph">MAX_EVENTS_RECORDED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1318 d521749e1196 ">
                                       <p>Number of recent events that will be visible through the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view. To record all events encountered by SQL Apply, use the <code class="codeph">DBMS_LOGSTDBY.MAX_EVENTS</code> constant as the number value. The default value is 10,000.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1332" headers="d521749e1193 ">
                                       <p><code class="codeph">MAX_SERVERS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1332 d521749e1196 ">
                                       <p>Number of processes that SQL Apply uses to read and apply redo. The default value is 9. The maximum number allowed is 2048.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1340" headers="d521749e1193 ">
                                       <p><code class="codeph">MAX_SGA</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1340 d521749e1196 ">
                                       <p>Number of megabytes from shared pool in System Global Area (SGA) that SQL Apply will use. The default value is 30 megabytes or one quarter of the value set for <code class="codeph">SHARED_POOL_SIZE</code>, whichever is lower. The maximum size allowed is 4095 megabytes.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1351" headers="d521749e1193 ">
                                       <p><code class="codeph">PREPARE_SERVERS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1351 d521749e1196 ">
                                       <p>Controls the number of <code class="codeph">PREPARER</code> processes used to prepare changes. The maximum number allowed is 1024, provided the <code class="codeph">MAX_SERVERS</code> parameter is set to accommodate this.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1365" headers="d521749e1193 ">
                                       <p><code class="codeph">PRESERVE_COMMIT_ORDER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1365 d521749e1196 ">
                                       <p><code class="codeph">TRUE</code>: Transactions are applied to the logical standby database in the exact order in which they were committed on the primary database. This is the default parameter setting.
                                       </p>
                                       <p><code class="codeph">FALSE</code>: Transactions containing non-overlapping sets of rows may be committed in a different order than they were committed on the primary database.
                                       </p>
                                       <p>Regardless of the level chosen, modifications done to the same row are always applied in the same order as they happened on the primary database. See the Usage Notes for details and recommendations.</p>
                                       <p>You cannot modify this parameter while SQL Apply is running.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1383" headers="d521749e1193 ">
                                       <p><code class="codeph">RECORD_APPLIED_DDL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1383 d521749e1196 ">
                                       <p>Controls whether DDL statements that have been applied to the logical standby database are recorded in the location specified by the <code class="codeph">EVENT_LOG_DEST</code> parameter. Specify one of the following values:
                                       </p>
                                       <p><code class="codeph">TRUE</code>: Indicates that DDL statements applied to the logical standby database are recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table and the alert log. 
                                       </p>
                                       <p><code class="codeph">FALSE</code>: Indicates that applied DDL statements are not recorded. This is the default parameter setting.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1405" headers="d521749e1193 ">
                                       <p><code class="codeph">RECORD_SKIP_DDL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1405 d521749e1196 ">
                                       <p>Controls whether skipped DDL statements are recorded in the location specified by the <code class="codeph">EVENT_LOG_DEST</code> parameter. Specify one of the following values:
                                       </p>
                                       <p><code class="codeph">TRUE</code>: Skipped DDL statements are recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table and the alert log. This is the default parameter setting.
                                       </p>
                                       <p><code class="codeph">FALSE</code>: Skipped DDL statements are not recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table and the alert log.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1431" headers="d521749e1193 ">
                                       <p><code class="codeph">RECORD_SKIP_ERRORS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1431 d521749e1196 ">
                                       <p>Controls whether skipped errors (as described by the <code class="codeph">SKIP_ERROR</code> procedure) are recorded in the location specified by the <code class="codeph">EVENT_LOG_DEST</code> parameter. Specify one of the following values:
                                       </p>
                                       <p><code class="codeph">TRUE</code>: Skipped errors are recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table and the alert log. This is the default parameter setting.
                                       </p>
                                       <p><code class="codeph">FALSE</code>: Skipped errors are not recorded in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table and the alert log.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d521749e1459" headers="d521749e1193 ">
                                       <p><code class="codeph">RECORD_UNSUPPORTED_OPERATIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d521749e1459 d521749e1196 ">
                                       <p>Captures information about transactions running on the primary database that will not be supported by a logical standby database. This procedure records its information as events in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table. Specify one of the following values:
                                       </p>
                                       <p><code class="codeph">TRUE</code>: The information is captured and recorded as events in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table.
                                       </p>
                                       <p><code class="codeph">FALSE</code>: The information is not captured. This is the default.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If a parameter is changed while SQL Apply is running, the change will take effect at some point in the future. In such a case, an informational row is inserted into the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view at the time the parameter change takes effect. 
                        </p>
                        <p>Additionally, if you are modifying a parameter while SQL Apply is running on an Oracle RAC configuration, you must be connected to the same instance where SQL Apply is running.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7__GUID-AF7CBF4B-BC5F-4D5C-B31F-B331FB3193A1">
                           <p class="titleintable">Table 97-4 APPLY_SET Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="APPLY_SET Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the APPLY_SET subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e1500">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e1503">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e1508" headers="d521749e1500 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e1508 d521749e1503 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e1516" headers="d521749e1500 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e1516 d521749e1503 ">
                                       <p>invalid Logical Standby option requested</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e1524" headers="d521749e1500 ">
                                       <p><code class="codeph">ORA-16236</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e1524 d521749e1503 ">
                                       <p>Logical Standby metadata operation in progress</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">APPLY_UNSET</code> procedure to restore the default settings of a parameter.
                              </p>
                           </li>
                           <li>
                              <p>See <a href="../sbydb/managing-oracle-data-guard-logical-standby-databases.html#SBYDB00800"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for help with tuning SQL Apply and for information about setting appropriate values for different parameters.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To record DDLs in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view and in the alert log, issue the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.APPLY_SET('RECORD_APPLIED_DDL', TRUE);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66832"></a><a id="ARPLS66833"></a><a id="ARPLS66833"></a><a id="ARPLS66832"></a><div class="props_rev_3"><a id="GUID-6D46BDFC-51C3-4D16-90FD-1D916FF13043" name="GUID-6D46BDFC-51C3-4D16-90FD-1D916FF13043"></a><h4 id="ARPLS-GUID-6D46BDFC-51C3-4D16-90FD-1D916FF13043" class="sect4"><span class="enumeration_section">97.4.2 </span>APPLY_UNSET Procedure
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">APPLY_UNSET</code> procedure to restore the default values of the parameters that you changed with the <code class="codeph">APPLY_SET</code> procedure. 
                     </p>
                     <div class="section">
                        <p>In a CDB, the <code class="codeph">APPLY_UNSET</code> procedure must be called from the root database. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.APPLY_UNSET (
     inname          IN VARCHAR);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <p>The parameter information for the <code class="codeph">APPLY_UNSET</code> procedure is the same as that described for the <code class="codeph">APPLY_SET</code> procedure. See <a href="DBMS_LOGSTDBY.html#GUID-9C1BD8E1-3C21-4F90-96C6-F2A2E30481E7__CHDCJDGA" title="This table lists and describes the parameters you can set on the DBMS_LOGSTDBY.APPLY_SET subprogram.">Table 97-3</a> for complete parameter information.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-6D46BDFC-51C3-4D16-90FD-1D916FF13043__GUID-F655C4C4-97D7-4ACF-863F-DDB9ACC425FD">
                           <p class="titleintable">Table 97-5 APPLY_UNSET Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="APPLY_UNSET Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the APPLY_UNSET subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e1698">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e1701">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e1706" headers="d521749e1698 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e1706 d521749e1701 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e1714" headers="d521749e1698 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e1714 d521749e1701 ">
                                       <p>invalid Logical Standby option requested</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e1722" headers="d521749e1698 ">
                                       <p><code class="codeph">ORA-16236</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e1722 d521749e1701 ">
                                       <p>Logical Standby metadata operation in progress</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">APPLY_SET</code> procedure to specify a nondefault value for a parameter.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>If you previously specified that applied DDLs show up in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view and the alert log, you can restore the default behavior of SQL Apply regarding applied DDL statements with the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.APPLY_UNSET('RECORD_APPLIED_DDL');
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66834"></a><a id="ARPLS66834"></a><div class="props_rev_3"><a id="GUID-5E389D91-8CE7-4262-9530-FBBFD91BD673" name="GUID-5E389D91-8CE7-4262-9530-FBBFD91BD673"></a><h4 id="ARPLS-GUID-5E389D91-8CE7-4262-9530-FBBFD91BD673" class="sect4"><span class="enumeration_section">97.4.3 </span>BUILD Procedure
                  </h4>
                  <div>
                     <p>Use this procedure on the primary database to record relevant metadata (LogMiner dictionary) information in the redo log, which will subsequently be used by SQL Apply. This procedure will enable database-wide primary- and unique-key supplemental logging, if necessary. </p>
                     <div class="section">
                        <p>In a CDB, the <code class="codeph">BUILD</code> procedure must be called from the root database on the primary. Additionally, you cannot add or remove PDBs from a CDB while this procedure is executing.
                        </p>
                        <div class="infoboxnote" id="GUID-5E389D91-8CE7-4262-9530-FBBFD91BD673__GUID-C7BD8579-0D39-42B3-8532-7E4B31403C9A">
                           <p class="notep1">Note:</p>
                           <p>In databases created using Oracle Database 11<span class="italic">g</span> release 2 (11.2) or later, supplemental logging information is automatically propagated to any existing physical standby databases. However, for databases in earlier releases, or if the database was created using an earlier release and then upgraded to 11.2, you must check whether supplemental logging is enabled at the physical standby(s) if it is also enabled at the primary database. If it is not enabled at the physical standby(s), then before performing a switchover or failover, you must enable supplemental logging on all existing physical standby databases. To do so, issue the following SQL command on each physical standby:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt;  ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY, UNIQUE INDEX) COLUMNS;</pre><p>If you do not do this, then any logical standby that is also in the same Data Guard configuration will be unusable if a switchover or failover is performed to one of the physical standby databases. If a switchover or failover has already occurred and supplemental logging was not enabled, then you must recreate all logical standby databases.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.BUILD;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Supplemental log information includes extra information in the redo logs that uniquely identifies a modified row in the logical standby database, and also includes information that helps efficient application of changes to the logical standby database.</p>
                           </li>
                           <li>
                              <p>LogMiner dictionary information allows SQL Apply to interpret data in the redo logs.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_LOGSTDBY.BUILD</code> should be run only once for each logical standby database you want to create. You do not need to use DBMS_LOGSTDBY.BUILD for each Oracle RAC instance.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_LOGSTDBY.BUILD</code> waits for all transactions (including distributed transactions) that are active at the time of the procedure invocation to complete before returning. See <a href="../admin/managing-distributed-transactions.html#ADMIN12252"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about how to handle in-doubt transactions.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To build the LogMiner dictionary in the redo stream of the primary database and to record additional information so that a logical standby database can be instantiated, issue the following SQL statement at the primary database</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.BUILD;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73782"></a><a id="ARPLS73783"></a><a id="ARPLS73784"></a><a id="ARPLS73783"></a><a id="ARPLS73784"></a><a id="ARPLS73782"></a><div class="props_rev_3"><a id="GUID-A02338A8-70C9-49D5-941E-D70553B2783D" name="GUID-A02338A8-70C9-49D5-941E-D70553B2783D"></a><h4 id="ARPLS-GUID-A02338A8-70C9-49D5-941E-D70553B2783D" class="sect4"><span class="enumeration_section">97.4.4 </span>EDS_ADD_TABLE
                  </h4>
                  <div>
                     <p>This procedure adds EDS-based replication for the table. It should be invoked on the primary database first and then on the standby database.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.EDS_ADD_TABLE (
     table_owner        IN VARCHAR2,
     table_name         IN VARCHAR2,
			     p_dblink           IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-A02338A8-70C9-49D5-941E-D70553B2783D__GUID-D5A3B91D-C9F6-47FB-8569-548757D20B02">
                           <p class="titleintable">Table 97-6 EDS_ADD_TABLE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_ADD_TABLE Procedure Parameters" summary="This table lists and describes parameters for the eds_add_table procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e1998">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2001">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2006" headers="d521749e1998 ">
                                       <p><code class="codeph">table_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2006 d521749e2001 ">
                                       <p>Owner of the table to be created or re-created in the standby database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2014" headers="d521749e1998 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2014 d521749e2001 ">
                                       <p>Name of the table to be created or re-created in the standby database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2022" headers="d521749e1998 ">
                                       <p><code class="codeph">p_dblink</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2022 d521749e2001 ">
                                       <p>A database link to the primary database</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-A02338A8-70C9-49D5-941E-D70553B2783D__GUID-76873C8F-D176-4180-8704-EA979E385C6D">
                           <p class="titleintable">Table 97-7 EDS_ADD_TABLE Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_ADD_TABLE Procedure Exceptions" summary="This table lists and describes exceptions for the eds_add_table procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e2042">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2045">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2050" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-942</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2050 d521749e2045 ">
                                       <p>Table or view does not exist</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2058" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2058 d521749e2045 ">
                                       <p>SQL Apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2066" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16130</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2066 d521749e2045 ">
                                       <p>Supplemental log information is missing from log stream</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2074" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16236</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2074 d521749e2045 ">
                                       <p>Logical standby metadata operation in progress</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2082" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16276</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2082 d521749e2045 ">
                                       <p>Specified database link does not correspond to primary database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2090" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16278</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2090 d521749e2045 ">
                                       <p>Specified table has a multi-object skip rule defined</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2098" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16279</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2098 d521749e2045 ">
                                       <p>Specified database link does not have the necessary roles for operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2106" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16302</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2106 d521749e2045 ">
                                       <p>Extended datatype support is not supported for specified table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2114" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16303</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2114 d521749e2045 ">
                                       <p>Specified table already has EDS on this database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2122" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16304</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2122 d521749e2045 ">
                                       <p>Procedure must first be called at the primary database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2130" headers="d521749e2042 ">
                                       <p><code class="codeph">ORA-16306</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2130 d521749e2045 ">
                                       <p>Specified table does not have a primary key</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When this procedure is invoked on the primary, the definition of the local table is used to compose the shadow table and both the base and shadow table triggers.</p>
                           </li>
                           <li>
                              <p>When this procedure is invoked on the standby, a database link to the primary (p_dblink) must be provided so that the definition of the table on the primary can be used to compose the shadow table and its trigger on the standby. After the shadow table and its trigger are composed on the standby, the <code class="codeph">DBMS_LOGSTDBY.INSTANTIATE_TABLE</code> procedure is called on the base table, using the provided database link to the primary. The p_dblink parameter is ignored when called on the primary and it defaults to NULL.
                              </p>
                           </li>
                           <li>
                              <p>Error checking is done up front. Generally, if the table contains a datatype that this procedure does not support, then an error is raised. </p>
                              <p>If the table is already supported by SQL Apply, then an exception is raised. To determine whether a table is a candidate for extended datatype support (EDS), query the <code class="codeph">DBA_LOGSTDBY_EDS_SUPPORTED</code> view on the primary.
                              </p>
                           </li>
                           <li>
                              <p>This procedure must be executed on the primary before it is executed on the standby; otherwise an error is raised.</p>
                           </li>
                           <li>
                              <p>For role changes to a logical standby it is essential that EDS be added to both the primary and the standby prior to the role change. If it is added only on the primary, then it must be removed after the role change because the EDS context would then be invalid.</p>
                           </li>
                           <li>
                              <p>For rolling upgrades the procedure only needs to be called on the primary.</p>
                           </li>
                           <li>
                              <p>This procedure is not replicated to a logical standby and therefore must be executed on both the primary and the standby databases. It is replicated to a physical standby so when it is used for rolling upgrades it should only be called on the primary.</p>
                           </li>
                           <li>
                              <p>When this procedure is executed on the standby, it requires that SQL Apply be stopped and the database guard set to either STANDBY or NONE. When the procedure is complete, the table is protected by the database guard.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To add EDS for the table <code class="codeph">OE.CUSTOMERS</code>, issue the following commands, first on the primary and then on the standby.
                        </p>
                        <p>On the primary database, issue the following command:</p><pre class="oac_no_warn" dir="ltr">execute dbms_logstdby.eds_add_table('OE','CUSTOMERS');
</pre><p>On the standby database, issue the following commands:</p><pre class="oac_no_warn" dir="ltr">alter database stop logical standby apply;
execute dbms_logstdby.eds_add_table('OE','CUSTOMERS','dblink-to-primary');
alter database start logical standby apply immediate;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73785"></a><a id="ARPLS73786"></a><a id="ARPLS73787"></a><a id="ARPLS73786"></a><a id="ARPLS73787"></a><a id="ARPLS73785"></a><div class="props_rev_3"><a id="GUID-CE7E5B20-A90C-4C40-87AB-863C1D63074B" name="GUID-CE7E5B20-A90C-4C40-87AB-863C1D63074B"></a><h4 id="ARPLS-GUID-CE7E5B20-A90C-4C40-87AB-863C1D63074B" class="sect4"><span class="enumeration_section">97.4.5 </span>EDS_EVOLVE_AUTOMATIC
                  </h4>
                  <div>
                     <p>This procedure either enables or disables automatic DDL handling for EDS tables.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.EDS_EVOLVE_AUTOMATIC (
     options            IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-CE7E5B20-A90C-4C40-87AB-863C1D63074B__GUID-6A315D38-1B91-4D10-B95C-8AC221CAAD68">
                           <p class="titleintable">Table 97-8 EDS_EVOLVE_AUTOMATIC Parameter Descriptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_EVOLVE_AUTOMATIC Parameter Descriptions" summary="This table lists and describes eds_evolve_automatic parameter descriptions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e2296">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2299">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2304" headers="d521749e2296 ">
                                       <p>options</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2304 d521749e2299 ">
                                       <p>Specify <code class="codeph">ENABLE</code> to enable automatic DDL handling for EDS.
                                       </p>
                                       <p>Specify <code class="codeph">DISABLE</code> to disable automatic DDL handling for EDS.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-CE7E5B20-A90C-4C40-87AB-863C1D63074B__GUID-DCA1F309-9C65-4F0A-9905-0F02D7588292">
                           <p class="titleintable">Table 97-9 EDS_EVOLVE_AUTOMATIC Exception Descriptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_EVOLVE_AUTOMATIC Exception Descriptions" summary="This table lists and describes eds_evolve_automatic exceptions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e2331">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2334">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2339" headers="d521749e2331 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2339 d521749e2334 ">
                                       <p>The specified parameter is not valid</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2347" headers="d521749e2331 ">
                                       <p><code class="codeph">ORA-16305</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2347 d521749e2334 ">
                                       <p>Procedure not supported on a logical standby</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For transparent handling of DDLs on all EDS-enabled tables, this procedure must be called at the primary database once (with the <code class="codeph">ENABLE</code> option) prior to the first call to <code class="codeph">EDS_ADD_TABLE</code>.
                              </p>
                           </li>
                           <li>
                              <p>If an EDS-specific DDL trigger is enabled, it fires after every DDL to determine whether the DDL affects the viability of EDS-replication of any of the tables presently enabled for EDS. If it does, then a separate EVOLVING trigger is generated on the table that ensures no DMLs are allowed on the affected base table until the compensating actions are taken to repair the EDS-specific metadata.</p>
                           </li>
                           <li>
                              <p>If the SQL statements <code class="codeph">ALTER TABLE</code> or <code class="codeph">CREATE UNIQUE INDEX</code> are executed on an EDS-maintained table, then an evolve operation is started if automatic evolve has been enabled.
                              </p>
                           </li>
                           <li>
                              <p>This procedure can be called on a primary database only and is replicated via SQL Apply to a logical standby database.</p>
                           </li>
                           <li>
                              <p>When the procedure is executed on the standby it succeeds regardless of the database guard setting and whether or not apply is running.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To enable automatic evolution of all EDS- maintained tables, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">execute dbms_logstdby.eds_evolve_automatic('ENABLE');
</pre><p>After automatic evolve has been enabled, there is no need to issue eds_evolve commands. They will be done automatically for you upon completion of a DDL command issued against an EDS table.</p>
                        <p>To disable automatic evolution of all EDS- maintained tables, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">execute dbms_logstdby.eds_evolve_automatic('DISABLE');</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73788"></a><a id="ARPLS73789"></a><a id="ARPLS73790"></a><a id="ARPLS73789"></a><a id="ARPLS73790"></a><a id="ARPLS73788"></a><div class="props_rev_3"><a id="GUID-46D2B5F4-EE1C-4D0C-AC64-D2C87A55FDDE" name="GUID-46D2B5F4-EE1C-4D0C-AC64-D2C87A55FDDE"></a><h4 id="ARPLS-GUID-46D2B5F4-EE1C-4D0C-AC64-D2C87A55FDDE" class="sect4"><span class="enumeration_section">97.4.6 </span>EDS_EVOLVE_MANUAL
                  </h4>
                  <div>
                     <p>This procedure allows you to evolve EDS tables manually (that is, manually take compensating actions based on DDLs on the base tables with EDS-replication). </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.EDS_EVOLVE_MANUAL (
     options            IN VARCHAR2,
     table_owner        IN VARCHAR2,
     table_name         IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-46D2B5F4-EE1C-4D0C-AC64-D2C87A55FDDE__GUID-1CEAB5B5-068B-411E-9456-1C42A727A43F">
                           <p class="titleintable">Table 97-10 EDS_EVOLVE_MANUAL Parameter Descriptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_EVOLVE_MANUAL Parameter Descriptions" summary="This table lists and describes eds_evolve_manual parameter descriptions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e2504">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2507">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2512" headers="d521749e2504 ">
                                       <p><code class="codeph">options</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2512 d521749e2507 ">
                                       <p>Valid options are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">START</code> - start an evolve operation, prior to performing the DDL
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FINISH</code> - finish an evolve operation after performing the DDL
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CANCEL</code> - cancel a started evolve operation
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2536" headers="d521749e2504 ">
                                       <p><code class="codeph">table_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2536 d521749e2507 ">
                                       <p>Owner of the table to be created or re-created in the standby database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2544" headers="d521749e2504 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2544 d521749e2507 ">
                                       <p>Name of the table to be created or re-created in the standby database</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-46D2B5F4-EE1C-4D0C-AC64-D2C87A55FDDE__GUID-681B0662-F0C5-4CC3-B791-1D95D53621A2">
                           <p class="titleintable">Table 97-11 EDS_EVOLVE_MANUAL Exception Descriptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_EVOLVE_MANUAL Exception Descriptions" summary="This table lists and describes eds_evolve_manual exceptions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e2564">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2567">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2572" headers="d521749e2564 ">
                                       <p><code class="codeph">ORA-16302</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2572 d521749e2567 ">
                                       <p>Extended datatype support is not supported for specified table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2580" headers="d521749e2564 ">
                                       <p><code class="codeph">ORA-16305</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2580 d521749e2567 ">
                                       <p>Procedure not supported on a logical standby</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2588" headers="d521749e2564 ">
                                       <p><code class="codeph">ORA-16306</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2588 d521749e2567 ">
                                       <p>Specified table does not have a primary key</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2596" headers="d521749e2564 ">
                                       <p><code class="codeph">ORA-16307</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2596 d521749e2567 ">
                                       <p>Table not prepared for extended datatype support operation</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To perform a manual evolve operation, you must call <code class="codeph">EDS_EVOLVE_MANUAL</code> before and after any DDL that may affect the base table being replicated with EDS. The following is the prescribed method for evolving manually:
                              </p>
                              <ol>
                                 <li>
                                    <p>Call <code class="codeph">EDS_EVOLVE_MANUAL</code> with the <code class="codeph">START</code> option.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Perform the DDL.</p>
                                 </li>
                                 <li>
                                    <p>Call <code class="codeph">EDS_EVOLVE_MANUAL</code> with the <code class="codeph">FINISH</code> option.
                                    </p>
                                 </li>
                              </ol>
                              <p>Deviation from this order could lead to data loss. An error is returned if the procedure is called with the <code class="codeph">FINISH</code> option before it is called with <code class="codeph">START</code> for the specified table. When the procedure is called with the <code class="codeph">START</code> option, DML on the table is blocked by an evolve trigger. 
                              </p>
                           </li>
                           <li>
                              <p>This procedure can only be invoked on a primary database. </p>
                           </li>
                           <li>
                              <p>When this procedure is executed on the standby, SQL Apply must be stopped and the database guard set to either <code class="codeph">STANDBY</code> or <code class="codeph">NONE</code>. When the procedure is complete, the table is protected by the database guard.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To manually evolve an EDS table, issue the following commands on the primary database:</p><pre class="oac_no_warn" dir="ltr">execute dbms_logstdby.eds_evolve_manual('START','OE','CUSTOMERS');
alter table oe.customers <span class="italic">some_DDL_construct</span>;
execute dbms_logstdby.eds_evolve_manual('FINISH','OE','CUSTOMERS');</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73791"></a><a id="ARPLS73792"></a><a id="ARPLS73793"></a><a id="ARPLS73792"></a><a id="ARPLS73793"></a><a id="ARPLS73791"></a><div class="props_rev_3"><a id="GUID-5784F54A-931B-4165-81A4-898197011DC5" name="GUID-5784F54A-931B-4165-81A4-898197011DC5"></a><h4 id="ARPLS-GUID-5784F54A-931B-4165-81A4-898197011DC5" class="sect4"><span class="enumeration_section">97.4.7 </span>EDS_REMOVE_TABLE
                  </h4>
                  <div>
                     <p>This procedure removes EDS-based replication for the specified table. It also drops the shadow table and triggers.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.EDS_REMOVE_TABLE (
     table_owner        IN VARCHAR2,
     table_name         IN VARCHAR2,</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-5784F54A-931B-4165-81A4-898197011DC5__GUID-2ABE9CF7-03E1-477D-BC66-39AE54D65201">
                           <p class="titleintable">Table 97-12 EDS_REMOVE_TABLE Parameter Descriptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_REMOVE_TABLE Parameter Descriptions" summary="This table lists and describes eds_remove_table parameter descriptions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e2774">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2777">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2782" headers="d521749e2774 ">
                                       <p>table_owner</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2782 d521749e2777 ">
                                       <p>Owner of the table to be created or re-created in the standby database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2789" headers="d521749e2774 ">
                                       <p>table_name</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2789 d521749e2777 ">
                                       <p>Name of the table to be created or re-created in the standby database</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-5784F54A-931B-4165-81A4-898197011DC5__GUID-84B54FB6-67C4-4D30-B1A6-DD5B355CB1FF">
                           <p class="titleintable">Table 97-13 EDS_REMOVE_TABLE Exception Descriptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EDS_REMOVE_TABLE Exception Descriptions" summary="This table lists and describes eds_remove_table exceptions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e2808">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e2811">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e2816" headers="d521749e2808 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e2816 d521749e2811 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When this procedure is called on the standby, the shadow table and both triggers are dropped locally but not on the primary. </p>
                              <p>When this procedure is called on the primary, the shadow table and both triggers are dropped and the procedure is re-executed on the standby by the apply engine. Therefore, the supporting shadow table and triggers are also dropped at the logical standby. Using this approach, a single call made on the primary can remove EDS from the entire configuration for a table.</p>
                           </li>
                           <li>
                              <p>In a multi-standby configuration, you can remove support on a single standby by calling this procedure on that standby.</p>
                           </li>
                           <li>
                              <p>This procedure takes out an exclusive table lock to ensure isolation in the presence of ongoing user writes on the same table. Thus the procedure will block until existing write-transactions that have outstanding row locks on the table are completed.</p>
                           </li>
                           <li>
                              <p>When this procedure is executed on the standby, SQL Apply must be stopped and the database guard set to either <code class="codeph">STANDBY</code> or <code class="codeph">NONE</code>. When the procedure is complete, the table is protected by the database guard.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To remove EDS for the table <code class="codeph">OE.CUSTOMERS</code>, issue the following command on the primary database:
                        </p><pre class="oac_no_warn" dir="ltr">execute dbms_logstdby.eds_remove_table('OE','CUSTOMERS');</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66835"></a><a id="ARPLS66836"></a><a id="ARPLS66837"></a><a id="ARPLS66836"></a><a id="ARPLS66837"></a><a id="ARPLS66835"></a><div class="props_rev_3"><a id="GUID-803AAE39-AB03-47DA-95E2-FBDFCAA29755" name="GUID-803AAE39-AB03-47DA-95E2-FBDFCAA29755"></a><h4 id="ARPLS-GUID-803AAE39-AB03-47DA-95E2-FBDFCAA29755" class="sect4"><span class="enumeration_section">97.4.8 </span>INSTANTIATE_TABLE Procedure
                  </h4>
                  <div>
                     <p>This procedure creates and populates a table in the standby database from a corresponding table in the primary database.</p>
                     <div class="section">
                        <p>The table requires the name of the database link (<code class="codeph">dblink)</code> as an input parameter. If the table already exists in the logical standby database, it will be dropped and re-created based on the table definition at the primary database. This procedure only brings over the data associated with the table, and not the associated indexes and constraints.
                        </p>
                        <p>Use the <code class="codeph">INSTANTIATE_TABLE</code> procedure to:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Add a table to a standby database.</p>
                           </li>
                           <li>
                              <p>Re-create a table in a standby database.</p>
                           </li>
                        </ul>
                        <p>In a CDB, the <code class="codeph">INSTANTIATE_TABLE</code> procedure must be called from within the container in which the table to be instantiated resides. Additionally, the database link that is provided to the primary database must point to the corresponding container on the primary.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.INSTANTIATE_TABLE (
     schema_name         IN VARCHAR2,
     table_name          IN VARCHAR2,
     dblink              IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-803AAE39-AB03-47DA-95E2-FBDFCAA29755__GUID-2B802690-FCBF-437A-80DD-044950739EE7">
                           <p class="titleintable">Table 97-14 INSTANTIATE_TABLE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INSTANTIATE_TABLE Procedure Parameters" summary="This table lists and describes the parameters you can set on the INSTANTIATE_TABLE subprogram of the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e2993">Parameter</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e2996">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3001" headers="d521749e2993 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3001 d521749e2996 ">
                                       <p>Name of the schema </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3009" headers="d521749e2993 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3009 d521749e2996 ">
                                       <p>Name of the table to be created or re-created in the standby database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3017" headers="d521749e2993 ">
                                       <p><code class="codeph">dblink</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3017 d521749e2996 ">
                                       <p>Name of the database link account that has privileges to read and lock the table in the primary database, as well as the <code class="codeph">SELECT_CATALOG_ROLE</code> on the primary database
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-803AAE39-AB03-47DA-95E2-FBDFCAA29755__GUID-50FBF7DA-244F-473F-968D-607816896160">
                           <p class="titleintable">Table 97-15 INSTANTIATE_TABLE Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INSTANTIATE_TABLE Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the INSTANTIATE_TABLE subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e3040">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e3043">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3048" headers="d521749e3040 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3048 d521749e3043 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3056" headers="d521749e3040 ">
                                       <p><code class="codeph">ORA-16236</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3056 d521749e3043 ">
                                       <p>Logical Standby metadata operation in progress</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3064" headers="d521749e3040 ">
                                       <p><code class="codeph">ORA-16276</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3064 d521749e3043 ">
                                       <p>Specified database link does not correspond to primary database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3072" headers="d521749e3040 ">
                                       <p><code class="codeph">ORA-16277</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3072 d521749e3043 ">
                                       <p>Specified table is not supported by logical standby database</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3080" headers="d521749e3040 ">
                                       <p><code class="codeph">ORA-16278</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3080 d521749e3043 ">
                                       <p>Specified table has a multi-object skip rule defined</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use this procedure to create and populate a table in a way that keeps the data on the standby database transactionally consistent with the primary database.</p>
                           </li>
                           <li>
                              <p>This table will not be synchronized with the rest of the tables being maintained by SQL Apply and SQL Apply will not start to maintain it until SQL Apply encounters redo that occurred after the table was instantiated from the primary. The SCN at which the table was instantiated from the primary database is available in the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view.
                              </p>
                           </li>
                           <li>
                              <p>The specified table must be a table that is supported by logical standby (that is, it does not appear in the <code class="codeph">DBA_LOGSTDBY_UNSUPPORTED_TABLES</code> view on the primary database).
                              </p>
                           </li>
                           <li>
                              <p>If there are any skip rules that specifically name this table (without any wildcards), those skip rules will be dropped as part of <code class="codeph">INSTANTIATE_TABLE</code>, so that the table will be properly maintained by SQL Apply in the future. If there are skip rules that indirectly reference this table (match a skip rule with a wildcard in the <code class="codeph">schema_name</code> or <code class="codeph">table_name</code>, and have a TABLE, DML, or SCHEMA_DDL statement type), <code class="codeph">INSTANTIATE_TABLE</code> will fail with an ORA-16278 error. Any multi-object skip rules that pertain to the table must be dropped or changed before re-attempting the <code class="codeph">INSTANTIATE_TABLE</code> call.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.INSTANTIATE_TABLE (-
     SCHEMA_NAME =&gt; 'HR', TABLE_NAME =&gt; 'EMPLOYEES', -
     DBLINK =&gt; 'INSTANTIATE_TBL_LINK');</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66838"></a><a id="ARPLS66838"></a><div class="props_rev_3"><a id="GUID-991B7EE3-939F-4E26-BB10-D9A465529CFE" name="GUID-991B7EE3-939F-4E26-BB10-D9A465529CFE"></a><h4 id="ARPLS-GUID-991B7EE3-939F-4E26-BB10-D9A465529CFE" class="sect4"><span class="enumeration_section">97.4.9 </span>IS_APPLY_SERVER Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">TRUE</code> if it is executed from PL/SQL in the context of a logical standby apply server process.
                     </p>
                     <div class="section">
                        <p>This function is used in conjunction with triggers that have the <code class="codeph">fire_once</code> parameter in the <code class="codeph">DBMS_DDL.SET_TRIGGER_FIRING_PROPERTY</code> subprogram set to <code class="codeph">FALSE</code> (the default is <code class="codeph">TRUE</code>). Such triggers are executed when the relevant target is updated by an apply process. This function can be used within the body of the trigger to ensure that the trigger takes different (or no) actions on the primary or on the standby.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.IS_APPLY_SERVER
RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66839"></a><a id="ARPLS66840"></a><a id="ARPLS66840"></a><a id="ARPLS66839"></a><div class="props_rev_3"><a id="GUID-64D1A18C-FFA6-403B-9A32-11BC30735E8C" name="GUID-64D1A18C-FFA6-403B-9A32-11BC30735E8C"></a><h4 id="ARPLS-GUID-64D1A18C-FFA6-403B-9A32-11BC30735E8C" class="sect4"><span class="enumeration_section">97.4.10 </span>MAP_PRIMARY_SCN Function
                  </h4>
                  <div>
                     <p>This function returns an SCN on the standby that predates the supplied SCN from the primary database by at least 5 minutes.</p>
                     <div class="section">
                        <p>It can be used to determine a safe SCN to use in a compensating flashback database operation at the logical standby database, following a flashback database operation or a point-in-time recovery operation at the primary database.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.MAP_PRIMARY_SCN(primary_scn NUMBER) RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-64D1A18C-FFA6-403B-9A32-11BC30735E8C__GUID-6974392B-763B-4FFF-9C13-DE9A6A6CEAB9">
                           <p class="titleintable">Table 97-16 MAP_PRIMARY_SCN Function Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MAP_PRIMARY_SCN Function Exceptions" summary="This table lists and describes exceptions for the MAP_PRIMARY_SCN Function" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e3354">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e3357">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e3362" headers="d521749e3354 ">
                                       <p><code class="codeph">ORA-20001</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e3362 d521749e3357 ">
                                       <p>Primary SCN is before mapped range</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e3370" headers="d521749e3354 ">
                                       <p><code class="codeph">ORA-20002</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e3370 d521749e3357 ">
                                       <p>SCN mapping requires <code class="codeph">PRESERVE_COMMIT_ORDER</code> to be <code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>Use this function to get a conservative SCN at the logical standby database that corresponds to an SCN at the primary database. This function is useful in the context of doing compensating flashback database operations at the logical standby following a flashback database or a point-in-time recovery operation done at the primary database.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66841"></a><a id="ARPLS66842"></a><a id="ARPLS66843"></a><a id="ARPLS66842"></a><a id="ARPLS66843"></a><a id="ARPLS66841"></a><div class="props_rev_3"><a id="GUID-B31DAC7B-D4B8-45DF-BAB3-32725605E9AD" name="GUID-B31DAC7B-D4B8-45DF-BAB3-32725605E9AD"></a><h4 id="ARPLS-GUID-B31DAC7B-D4B8-45DF-BAB3-32725605E9AD" class="sect4"><span class="enumeration_section">97.4.11 </span>PREPARE_FOR_NEW_PRIMARY Procedure
                  </h4>
                  <div>
                     <p>The <code class="codeph">PREPARE_FOR_NEW_PRIMARY</code> procedure must be invoked at a logical standby database following a failover, if that standby database was not the target of the failover operation. 
                     </p>
                     <div class="section">
                        <p>Such a standby database must process the exact same set of redo logs processed at the new primary database. This routine ensures that the local logical standby database has not processed more redo than the new primary database and reports the set of archive logs that must be replaced to ensure consistency. The set of replacement logs will be reported in the alert.log. These logs must be copied to the logical standby and registered using the <code class="codeph">ALTER DATABASE REGISTER LOGICAL LOGFILE</code> statement.
                        </p>
                        <p>In a CDB, the <code class="codeph">PREPARE_FOR_NEW_PRIMARY</code> procedure must be called from the root database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.PREPARE_FOR_NEW_PRIMARY (
           FORMER_STANDBY_TYPE         IN VARCHAR2,
           DBLINK                      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-B31DAC7B-D4B8-45DF-BAB3-32725605E9AD__GUID-C453E48A-4510-4F34-BF90-0814C0D0ED82">
                           <p class="titleintable">Table 97-17 PREPARE_FOR_NEW_PRIMARY Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_FOR_NEW_PRIMARY Procedure Parameters " summary="This table lists and describes the possible parameters you can supply on the PREPARE_FOR_NEW_PRIMARY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e3514">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e3517">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e3522" headers="d521749e3514 ">
                                       <p><code class="codeph">FORMER_STANDBY_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e3522 d521749e3517 ">
                                       <p>The type of standby database that was the target of the failover operation to become the new primary database. Valid values are '<code class="codeph">PHYSICAL</code>' if the new primary was formerly a physical standby, and '<code class="codeph">LOGICAL</code>' if the new primary database was formerly a logical standby database.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e3536" headers="d521749e3514 ">
                                       <p><code class="codeph">DBLINK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e3536 d521749e3517 ">
                                       <p>The name of a database link to the new primary database</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-B31DAC7B-D4B8-45DF-BAB3-32725605E9AD__GUID-BFE1BECB-4A10-489E-9EC1-910B06FF84D9">
                           <p class="titleintable">Table 97-18 PREPARE_FOR_NEW_PRIMARY Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_FOR_NEW_PRIMARY Procedure Exceptions" summary="This table lists and describes error messages that may be returned on the PREPARE_FOR_NEW_PRIMARY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e3556">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e3559">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e3564" headers="d521749e3556 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e3564 d521749e3559 ">
                                       <p>Invalid Logical Standby option.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e3572" headers="d521749e3556 ">
                                       <p><code class="codeph">ORA-16109</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e3572 d521749e3559 ">
                                       <p>Failed to apply log data from previous primary.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This routine is intended only for logical standby systems.This routine will fail if the new primary database was formerly a logical standby database and the LogMiner dictionary build has not completed successfully.Log files displayed in the alert log will be referred to as <span class="italic">terminal logs</span>. Users should keep in mind that file paths are relative to the new primary database and may not resolve locally.Upon manual registration of the terminal logs, users should complete the process by calling either <code class="codeph">START LOGICAL STANDBY APPLY</code> if the new primary database was formerly a physical standby database or <code class="codeph">START LOGICAL STANDBY APPLY NEW PRIMARY</code> if the new primary database was formerly a logical standby database.See the alert log for more details regarding the reasons for any exception.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.PREPARE_FOR_NEW_PRIMARY (  -
                FORMER_STANDBY_TYPE =&gt; 'LOGICAL',    -
                DBLINK =&gt; 'dblink_to_newprimary'); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66844"></a><a id="ARPLS66845"></a><a id="ARPLS66845"></a><a id="ARPLS66844"></a><div class="props_rev_3"><a id="GUID-E8D8AB67-2F8C-4D5D-A906-C2678F5896F4" name="GUID-E8D8AB67-2F8C-4D5D-A906-C2678F5896F4"></a><h4 id="ARPLS-GUID-E8D8AB67-2F8C-4D5D-A906-C2678F5896F4" class="sect4"><span class="enumeration_section">97.4.12 </span>PURGE_SESSION Procedure
                  </h4>
                  <div>
                     <p><code class="codeph">PURGE_SESSION</code> identifies all archived redo log files that have been applied to the logical standby database and are no longer needed by SQL Apply. 
                     </p>
                     <div class="section">
                        <p>Once identified, you can issue operating system commands to delete some or all of the unnecessary archived redo log files.</p>
                        <p>In a CDB, the <code class="codeph">PURGE_SESSION</code> procedure must be called from the root database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.PURGE_SESSION;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-E8D8AB67-2F8C-4D5D-A906-C2678F5896F4__GUID-AC68A9AB-1051-46E2-812A-4F7F74F483C6">
                           <p class="titleintable">Table 97-19 PURGE_SESSION Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_SESSION Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the PURGE_SESSION subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e3720">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e3723">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e3728" headers="d521749e3720 ">
                                       <p><code class="codeph">ORA-01309</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e3728 d521749e3723 ">
                                       <p>Invalid session</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This procedure does not delete the archived redo log files. You must issue operating system commands to delete unneeded files.</p>
                           </li>
                           <li>
                              <p>This procedure updates the <code class="codeph">DBA_LOGMNR_PURGED_LOG</code> view that displays the archived redo log files that have been applied to the logical standby database.
                              </p>
                           </li>
                           <li>
                              <p>In Oracle Database 10<span class="italic">g</span> Release 2, metadata related to the archived redo log files (and the actual archived redo log files) are purged automatically based on the default setting of the <code class="codeph">LOG_AUTO_DELETE</code> parameter described in the <code class="codeph">DBMS_LOGSTDBY.APPLY_SET</code> procedure described.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example</p>
                        <p>To identify and remove unnecessary files:</p>
                        <ol>
                           <li>
                              <p>Enter the following statement on the logical standby database: </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.PURGE_SESSION;
</pre></li>
                           <li>
                              <p>Query the <code class="codeph">DBA_LOGMNR_PURGED_LOG</code> view to list the archived redo log files that can be removed:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DBA_LOGMNR_PURGED_LOG;

FILE_NAME
   ------------------------------------
   /boston/arc_dest/arc_1_40_509538672.log
   /boston/arc_dest/arc_1_41_509538672.log
   /boston/arc_dest/arc_1_42_509538672.log
   /boston/arc_dest/arc_1_43_509538672.log
   /boston/arc_dest/arc_1_44_509538672.log
   /boston/arc_dest/arc_1_45_509538672.log
   /boston/arc_dest/arc_1_46_509538672.log
   /boston/arc_dest/arc_1_47_509538672.log
</pre></li>
                           <li>
                              <p>Use operating system-specific commands to delete archived redo log files from the file system.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66846"></a><a id="ARPLS66846"></a><div class="props_rev_3"><a id="GUID-E1D26D56-C383-4253-A606-D73993E9D182" name="GUID-E1D26D56-C383-4253-A606-D73993E9D182"></a><h4 id="ARPLS-GUID-E1D26D56-C383-4253-A606-D73993E9D182" class="sect4"><span class="enumeration_section">97.4.13 </span>REBUILD Procedure
                  </h4>
                  <div>
                     <p>This procedure is used if a database that has recently changed its role to a primary database following a failover operation fails to record relevant metadata (including the LogMiner dictionary) in the redo stream required for other logical standby databases.</p>
                     <div class="section">
                        <p>In a CDB, the <code class="codeph">REBUILD</code> procedure must be called from the root database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.REBUILD;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>LogMiner dictionary information is logged in the redo log files.The standby redo log files (if present) are archived.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.REBUILD;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66847"></a><a id="ARPLS66848"></a><a id="ARPLS66849"></a><a id="ARPLS66848"></a><a id="ARPLS66849"></a><a id="ARPLS66847"></a><div class="props_rev_3"><a id="GUID-B771E6E3-AF11-48AB-9F82-597CBC1FD001" name="GUID-B771E6E3-AF11-48AB-9F82-597CBC1FD001"></a><h4 id="ARPLS-GUID-B771E6E3-AF11-48AB-9F82-597CBC1FD001" class="sect4"><span class="enumeration_section">97.4.14 </span>SET_TABLESPACE Procedure
                  </h4>
                  <div>
                     <p>This procedure moves metadata tables required by SQL Apply to the user-specified tablespace.</p>
                     <div class="section">
                        <p>By default, the metadata tables are created in the <code class="codeph">SYSAUX</code> tablespace. SQL Apply cannot be running when you invoke this procedure.
                        </p>
                        <p>In a CDB, the <code class="codeph">SET_TABLESPACE</code> procedure must be called from the root database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.SET_TABLESPACE(
           NEW_TABLESPACE IN VARCHAR2)</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-B771E6E3-AF11-48AB-9F82-597CBC1FD001__GUID-E3520504-B448-4C52-84DA-0AF872E35CB4">
                           <p class="titleintable">Table 97-20 SET_TABLE SPACE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_TABLE SPACE Procedure Parameters" summary="This table lists and describes the parameters you can set on the SET_TABLESPACE subprogram of the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e4017">Parameter</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e4020">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e4025" headers="d521749e4017 ">
                                       <p><code class="codeph">NEW_TABLESPACE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e4025 d521749e4020 ">
                                       <p>Name of the new tablespace where metadata tables will reside. </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-B771E6E3-AF11-48AB-9F82-597CBC1FD001__GUID-6686A3C4-BC8A-485E-A466-1E015D88B758">
                           <p class="titleintable">Table 97-21 SET_TABLESPACE Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_TABLESPACE Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the SET_TABLESPACE subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e4045">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e4048">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e4053" headers="d521749e4045 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e4053 d521749e4048 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e4061" headers="d521749e4045 ">
                                       <p><code class="codeph">ORA-16236</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e4061 d521749e4048 ">
                                       <p>Logical Standby metadata operation in progress</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To move metadata tables to a new tablespace named <code class="codeph">LOGSTDBY_TBS</code>, issue the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SET_TABLESPACE (new_tablespace =&gt; 'LOGSTDBY_TBS');</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66850"></a><a id="ARPLS66851"></a><a id="ARPLS66852"></a><a id="ARPLS66853"></a><a id="ARPLS66854"></a><a id="ARPLS73690"></a><a id="ARPLS73691"></a><a id="ARPLS66851"></a><a id="ARPLS66852"></a><a id="ARPLS66853"></a><a id="ARPLS66854"></a><a id="ARPLS73690"></a><a id="ARPLS73691"></a><a id="ARPLS66850"></a><div class="props_rev_3"><a id="GUID-0A383476-631A-44CC-AA6D-5C2506D59492" name="GUID-0A383476-631A-44CC-AA6D-5C2506D59492"></a><h4 id="ARPLS-GUID-0A383476-631A-44CC-AA6D-5C2506D59492" class="sect4"><span class="enumeration_section">97.4.15 </span>SKIP Procedure
                  </h4>
                  <div>
                     <p>The <code class="codeph">SKIP</code> procedure can be used to define rules that will be used by SQL Apply to skip the application of certain changes to the logical standby database.
                     </p>
                     <div class="section">
                        <p>For example, the <code class="codeph">SKIP</code> procedure can be used to skip changes to a subset of tables in the logical standby database. It can also be used to specify DDL statements that should not be applied at the logical standby database or should be modified before they are applied in the logical standby database. One reason why a DDL statement may need to be modified is to accommodate a different directory structure on the logical standby database.
                        </p>
                        <div class="infoboxnote" id="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__GUID-5DEB583B-FDAA-4831-85F8-7300AA709629">
                           <p class="notep1">Note:</p>
                           <p>For information about skipping containers, see <span class="q">"<a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BGBJGGJA">Skipping Containers</a>."</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.SKIP (
     stmt                      IN VARCHAR2,
     schema_name               IN VARCHAR2 DEFAULT NULL,
     object_name               IN VARCHAR2 DEFAULT NULL,
     proc_name                 IN VARCHAR2 DEFAULT NULL,
     use_like                  IN BOOLEAN DEFAULT TRUE,
     esc                       IN CHAR1 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__CHDDEIJI">
                           <p class="titleintable">Table 97-22 SKIP Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP Procedure Parameters " summary="This table lists and describes the parameters you set on the SKIP subprogram of the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="15%" id="d521749e4215">Parameter</th>
                                    <th align="left" valign="bottom" width="85%" id="d521749e4218">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d521749e4223" headers="d521749e4215 ">
                                       <p><code class="codeph">stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d521749e4223 d521749e4218 ">
                                       <p>Either a keyword that identifies a set of SQL statements or a specific SQL statement. The use of keywords simplifies configuration since keywords, generally defined by the database object, identify all SQL statements that operate on the specified object. <a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BABGCFCA" title="This table lists and describes optional keywords for the stmt parameter of the DBMS_LOGSTDBY.SKIP procedure.">Table 97-23</a> shows a list of keywords and the equivalent SQL statements, either of which is a valid value for this parameter.
                                       </p>
                                       <p>The keyword <code class="codeph">PL/SQL</code> is used for the execution of Oracle-supplied packages which are supported for replication. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d521749e4241" headers="d521749e4215 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d521749e4241 d521749e4218 ">
                                       <p>The name of one or more schemas (wildcards are permitted) associated with the SQL statements identified by the <code class="codeph">stmt</code> parameter. If not applicable, this value must be set to <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d521749e4255" headers="d521749e4215 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d521749e4255 d521749e4218 ">
                                       <p>The name of one or more objects (wildcards are permitted) associated with the SQL statements identified by the <code class="codeph">stmt</code>. If not applicable, this value must be set to <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d521749e4269" headers="d521749e4215 ">
                                       <p><code class="codeph">proc_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d521749e4269 d521749e4218 ">
                                       <p>Name of a stored procedure to call when SQL Apply determines that a particular statement matches the filter defined by the <code class="codeph">stmt</code>, <code class="codeph">schema_name</code>, and <code class="codeph">object_name</code> parameters. Specify the procedure in the following format:
                                       </p>
                                       <p><code class="codeph">'schema.package.procedure'</code></p>
                                       <p>This procedure returns a value that directs SQL Apply to perform one of the following: execute the statement, skip the statement, or execute a replacement statement.</p>
                                       <p>The procedures to be invoked in the case of DDL or PL/SQL take no arguments. You can access the various information needed inside the procedure by accessing the context associated with the namespace,<code class="codeph">LSBY_APPLY_CONTEXT</code>.
                                       </p>
                                       <p>For a full list of parameters that are accessible in the context of the skip procedure, see the <code class="codeph">DBMS_LOGSTBDY_CONTEXT</code> package.
                                       </p>
                                       <p>The parameters of interest in the case of DDLs are: <code class="codeph">STATEMENT</code>, <code class="codeph">STATEMENT_TYPE</code>, <code class="codeph">SCHEMA</code>, <code class="codeph">NAME</code>, <code class="codeph">CURENT_SCHEMA</code>, <code class="codeph">XIDUSN</code>, <code class="codeph">XIDSLT</code>, <code class="codeph">XIDSQN</code> and <code class="codeph">SKIP_ACTION</code>.
                                       </p>
                                       <p>The parameters of interest in the case of PL/SQL are: <code class="codeph">STATEMENT</code>, <code class="codeph">PACKAGE_SCHMEMA</code>, <code class="codeph">PACKAGE_NAME</code>, <code class="codeph">PROCEDURE_NAME</code>, <code class="codeph">CURRENT_SCHEMA</code>, <code class="codeph">XIDUSN</code>, <code class="codeph">XIDSLT</code>, <code class="codeph">XIDSQN</code>, <code class="codeph">EXIT_STATUS</code>, and <code class="codeph">SKIP_ACTION</code>..
                                       </p>
                                       <p><span class="bold">Note 1</span>: The <code class="codeph">DBMS_LOGSTDBY</code>.<code class="codeph">SKIP_ACTION_REPLACE</code>  constant is not supported for PL/SQL.
                                       </p>
                                       <p><span class="bold">Note 2</span>: SQL Apply calls the skip handler when the procedure's exit is processed.
                                       </p>
                                       <p><span class="bold">Note 3</span>: The <code class="codeph">use_like</code> parameter must be set to <code class="codeph">FALSE</code> for PL/SQL since wildcarding PL/SQL is not supported.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d521749e4388" headers="d521749e4215 ">
                                       <p><code class="codeph">proc_name</code> (cont.)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d521749e4388 d521749e4218 ">
                                       <p>A sample conditional skip rule on <code class="codeph">DBMS_RLS.DROP_POLICY is as follows:</code></p><pre class="oac_no_warn" dir="ltr">create or replace procedure sec.mgr.skip_drop_policy 
is
l_stmt  CLOB; 
l_pkgown varchar2(30); 
l_pkgnam varchar2(30);
l_procnm varchar2(30);
l_cur_schema varchar2(30);
l_xidusn   number;
l_xidslt   number;
l_xidsqn   number;
l_exit_status number;
l_skip_action number;
Begin
-- read all relevant info
dbms_logstdby_context.get_context(name =&gt; 'STATEMENT', value =&gt; l_stmt);
dbms_logstdby_context.get_context(name =&gt; 'PACKAGE_SCHEMA', value =&gt; l_pkgown);
dbms_logstdby_context.get_context(name =&gt; 'PACKAGE_NAME', value =&gt; l_pkgnam);
dbms_logstdby_context.get_context(name =&gt; 'PROCEDURE_NAME', value =&gt; l_procnm);
dbms_logstdby_context.get_context(name =&gt; 'CURRENT_SCHEMA', value =&gt; l_cur_schema);
dbms_logstdby_context.get_context(name =&gt; 'XIDUSN', value =&gt; l_xidusn);
dbms_logstdby_context.get_context(name =&gt; 'XIDSLT', value =&gt; l_xidslt);
dbms_logstdby_context.get_context(name =&gt; 'XIDSQN', value =&gt; l_xidsqn);
dbms_logstdby_context.get_context(name =&gt; 'EXIT_STATUS', value =&gt; l_ext_status);
 
if 0 == l_ext_status then
Insert Into sec_mgr.logit Values
      ('Success: '||l_pkgown||'.'||l_pkgnm||'.'||l_procnm|| ' by '||l_current_user);
 
If l_current_user != 'TESTSCHEMA' Then  
      l_skip_action := DBMS_LOGSTDBY.SKIP_ACTION_APPLY;
    Else
      l_skip_action := DBMS_LOGSTDBY.SKIP_ACTION_SKIP;
    End If;  
  End If;
 
dbms_logstdby_context.set_context(name=&gt;'SKIP_ACTION',
value =&gt; l_skip_action);
 
End skip_drop_policy;
</pre><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_LOGSTDBY.SKIP( -
     stmt =&gt; 'PL/SQL', -
     schema_name =&gt; 'SYS', -
     object_name =&gt; 'DBMS_RLS.DROP_POLICY', -
     proc_name =&gt; 'SEC_MGR.SKIP_DROP_POLICY' -
     use_like=&gt; FALSE);</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d521749e4403" headers="d521749e4215 ">
                                       <p><code class="codeph">use_like</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d521749e4403 d521749e4218 ">
                                       <p>Allows pattern matching to isolate the tables that you want to skip on the logical standby database. The <code class="codeph">use_like</code> parameter matches a portion of one character value to another by searching the first value for the pattern specified by the second, and calculates strings using characters as defined by the input character set. This parameter follows the same rules for pattern matching described in <a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-3FA7F5AB-AC64-4200-8F90-294101428C26"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d521749e4420" headers="d521749e4215 ">
                                       <p><code class="codeph">esc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d521749e4420 d521749e4218 ">
                                       <p>Identifies an escape character (such as the character "/") that you can use for pattern matching. If the escape character appears in the pattern before the character "%" or "_" then Oracle interprets this character literally in the pattern, rather than as a special pattern matching character. See <a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-3FA7F5AB-AC64-4200-8F90-294101428C26"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about pattern matching.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This procedure requires <code class="codeph">DBA</code> privileges to execute.
                              </p>
                           </li>
                           <li>
                              <p>You cannot associate a stored procedure to be invoked in the context of a DML statement. For example, the following statement returns the <code class="codeph">ORA-16104: invalid Logical Standby option requested</code> error:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP(-
     stmt =&gt; 'DML', -
     schema_name =&gt; 'HR', -
     object_name =&gt; 'EMPLOYEES', -
     proc_name =&gt; 'DML_HANDLER');
</pre><p>Also, if an event matches multiple rules either because of the use of wildcards while specifying the rule or because of a specification of overlapping rules. For example, if you specify a rule for the <code class="codeph">SCHEMA_DDL</code> event for the <code class="codeph">HR.EMPLOYEES</code> table, and a rule for the <code class="codeph">ALTER TABLE</code> event for the <code class="codeph">HR.EMPLOYEES</code> table, only one of the matching procedures will be invoked (alphabetically, by procedure). In the following code example, consider the following rules:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP( -
     stmt =&gt; 'SCHEMA_DDL', -
     schema_name =&gt; 'HR', -
     object_name =&gt; 'EMPLOYEES', -
     proc_name =&gt; 'SCHEMA_DDL_HANDLER');
SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP( -
     stmt =&gt; 'ALTER TABLE', -
     schema_name =&gt; 'HR', -
     object_name =&gt; 'EMPLOYEES', -
     proc_name =&gt; 'TABLE_ALTER_HANDLER');
</pre><p>On encountering an <code class="codeph">ALTER TABLE</code> statement, the <code class="codeph">schema_ddl_handler</code> procedure will be invoked because its name will be at the top of an alphabetically sorted list of procedures that are relevant to the statement.Collisions on a rule set because of a specification containing wildcard entries are resolved in a similar fashion. For example, the rules in the following example will result in the <code class="codeph">empddl_handler</code> procedure being invoked upon encountering the <code class="codeph">ALTER TABLE HR.EMPLOYEES ADD COLUMN RATING NUMBER</code> statement:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP(-
     stmt =&gt; 'ALTER TABLE', -
     schema_name =&gt; 'HR', -
     object_name =&gt; 'EMP%', -
     proc_name =&gt; 'EMPDDL_HANDLER');
SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP( -
     stmt =&gt; 'ALTER TABLE', -
     schema_name =&gt; 'HR', -
     object_name =&gt; 'EMPLOYEES', -
     proc_name =&gt; 'EMPLOYEE_DDL_HANDLER');
</pre></li>
                           <li>
                              <p>Use the <code class="codeph">SKIP</code> procedure with caution, particularly when skipping DDL statements. If a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement is skipped, for example, you must also specify other DDL statements that refer to that table in the <code class="codeph">SKIP</code> procedure. Otherwise, the statements will fail and cause an exception. When this happens, SQL Apply stops running.
                              </p>
                           </li>
                           <li>
                              <p>Before calling the <code class="codeph">SKIP</code> procedure, SQL Apply must be halted. Do this by issuing an <code class="codeph">ALTER DATABASE STOP LOGICAL STANDBY APPLY</code> statement. Once all desired filters have been specified, issue an <code class="codeph">ALTER DATABASE START LOGICAL STANDBY APPLY IMMEDIATE</code> statement to start SQL Apply using the new filter settings.
                              </p>
                           </li>
                           <li>
                              <p>See the <code class="codeph">UNSKIP</code> procedure for information about reversing (undoing) the settings of the <code class="codeph">SKIP</code> procedure.
                              </p>
                           </li>
                           <li>
                              <p>For <code class="codeph">USER</code> statements, the <code class="codeph">SCHEMA_NAME</code> parameter will be the user and specify '%' for the <code class="codeph">OBJECT_NAME</code> parameter.
                              </p>
                           </li>
                           <li>
                              <p>If the <code class="codeph">PROC_NAME</code> parameter is supplied, it must already exist in <code class="codeph">DBA_PROCEDURES</code> and it must execute with <code class="codeph">DEFINER</code> rights. If the procedure is declared with <code class="codeph">INVOKER</code> rights, the <code class="codeph">ORA-1031: insufficient privileges</code> message will be returned.
                              </p>
                           </li>
                           <li>
                              <p>If the procedure returns a <code class="codeph">REPLACEMENT</code> statement, the <code class="codeph">REPLACEMENT</code> statement will be executed using the <code class="codeph">SYSTEM</code> and <code class="codeph">OBJECT</code> privileges of the owner of the procedure.
                              </p>
                           </li>
                           <li>
                              <p>The PL/SQL block of a <code class="codeph">SKIP</code> procedure cannot contain transaction control statements (for example, <code class="codeph">COMMIT</code>, <code class="codeph">ROLLBACK</code>, <code class="codeph">SAVEPOINT</code>, and <code class="codeph">SET CONSTRAINT</code>) unless the block is declared to be an autonomous transaction.
                              </p>
                           </li>
                        </ul>
                        <p>Skip Statement Options</p>
                        <p><a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BABGCFCA" title="This table lists and describes optional keywords for the stmt parameter of the DBMS_LOGSTDBY.SKIP procedure.">Table 97-23</a> lists the supported values for the <code class="codeph">stmt</code> parameter of the <code class="codeph">SKIP</code> procedure. The left column of the table lists the keywords that may be used to identify the set of SQL statements to the right of the keyword. In addition, any of the SQL statements listed in the <code class="codeph">sys.audit_actions</code> table (shown in the right column of <a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BABGCFCA" title="This table lists and describes optional keywords for the stmt parameter of the DBMS_LOGSTDBY.SKIP procedure.">Table 97-23</a>) are also valid values. Note that keywords are generally defined by database object.
                        </p>
                        <div class="tblformal" id="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BABGCFCA">
                           <p class="titleintable">Table 97-23 Supported Values for the <code class="codeph">stmt</code> Parameter
                           </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Supported Values for the stmt Parameter" summary="This table lists and describes optional keywords for the stmt parameter of the DBMS_LOGSTDBY.SKIP procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e4617">Keyword</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e4620">Associated SQL Statements</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4625" headers="d521749e4617 ">
                                       <p>There is no keyword for this group of SQL statements.</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4625 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">GRANT</code>
<code class="codeph">REVOKE</code>
ANALYZE TABLE
ANALYZE INDEX
ANALYZE CLUSTER</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4637" headers="d521749e4617 ">
                                       <p><code class="codeph">CLUSTER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4637 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">AUDIT CLUSTER</code>
<code class="codeph">CREATE CLUSTER</code>
<code class="codeph">DROP CLUSTER</code>
<code class="codeph">TRUNCATE CLUSTER</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4655" headers="d521749e4617 ">
                                       <p><code class="codeph">CONTAINER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4655 d521749e4620 ">
                                       <p>See <span class="q">"<a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BGBJGGJA">Skipping Containers</a>"</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4666" headers="d521749e4617 ">
                                       <p><code class="codeph">CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4666 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE CONTEXT</code>
<code class="codeph">DROP CONTEXT</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4678" headers="d521749e4617 ">
                                       <p><code class="codeph">DATABASE LINK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4678 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE DATABASE LINK</code>
<code class="codeph">CREATE PUBLIC DATABASE LINK</code>
<code class="codeph">DROP DATABASE LINK</code>
<code class="codeph">DROP PUBLIC DATABASE LINK</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4696" headers="d521749e4617 ">
                                       <p><code class="codeph">DIMENSION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4696 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER DIMENSION</code>
<code class="codeph">CREATE DIMENSION</code>
<code class="codeph">DROP DIMENSION</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4711" headers="d521749e4617 ">
                                       <p><code class="codeph">DIRECTORY</code><a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, " all="" directory="" objects="" are="" owned="" by="" sys,="" but="" for="" the="" purpose="" of="" filtering="" them="" with="" a="" skip="" directive="" schema="" should="" be="" specified="" as="" '%'\".")"=""><sup>Foot&nbsp;1</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4711 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE DIRECTORY</code>
<code class="codeph">DROP DIRECTORY</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4729" headers="d521749e4617 ">
                                       <p><code class="codeph">DML</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4729 d521749e4620 ">
                                       <p>Includes DML statements on a table (for example: <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4746" headers="d521749e4617 ">
                                       <p><code class="codeph">INDEX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4746 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER INDEX</code>
<code class="codeph">CREATE INDEX</code>
<code class="codeph">DROP INDEX</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4761" headers="d521749e4617 ">
                                       <p><code class="codeph">NON_SCHEMA_DDL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4761 d521749e4620 ">
                                       <p><span class="italic">All DDL that does not pertain to a particular schema</span></p>
                                       <p><span class="bold">Note:</span> <code class="codeph">SCHEMA_NAME</code> and <code class="codeph">OBJECT_NAME</code> must be null
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4780" headers="d521749e4617 ">
                                       <p><code class="codeph">PL/SQL</code><a id="fn_2" name="fn_2" href="#fn_2" onclick="footdisplay(2, " See Oracle Data Guard Concepts and Administration for information about supported packages.")"><sup>Foot&nbsp;2</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4780 d521749e4620 ">
                                       <p>Execute Oracle-supplied package.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4797" headers="d521749e4617 ">
                                       <p><code class="codeph">PROCEDURE</code><a id="fn_3" name="fn_3" href="#fn_3" onclick="footdisplay(3, "Java schema objects (sources, classes, and resources) are considered the same as procedure for purposes of skipping (ignoring) SQL statements.")"><sup>Foot&nbsp;3</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4797 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER FUNCTION</code>
<code class="codeph">ALTER PACKAGE</code>
<code class="codeph">ALTER PACKAGE BODY</code>
<code class="codeph">ALTER PROCEDURE</code>
<code class="codeph">CREATE FUNCTION</code>
<code class="codeph">CREATE LIBRARY</code>
<code class="codeph">CREATE PACKAGE</code>
<code class="codeph">CREATE PACKAGE BODY</code>
<code class="codeph">CREATE PROCEDURE</code>
<code class="codeph">DROP FUNCTION</code>
<code class="codeph">DROP LIBRARY</code>
<code class="codeph">DROP PACKAGE</code>
<code class="codeph">DROP PACKAGE BODY</code>
<code class="codeph">DROP PROCEDURE</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4850" headers="d521749e4617 ">
                                       <p><code class="codeph">PROFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4850 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER PROFILE</code>
<code class="codeph">CREATE PROFILE</code>
<code class="codeph">DROP PROFILE</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4865" headers="d521749e4617 ">
                                       <p><code class="codeph">ROLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4865 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER ROLE</code>
<code class="codeph">CREATE ROLE</code>
<code class="codeph">DROP ROLE</code>
<code class="codeph">SET ROLE</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4883" headers="d521749e4617 ">
                                       <p><code class="codeph">ROLLBACK STATEMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4883 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER ROLLBACK SEGMENT</code>
<code class="codeph">CREATE ROLLBACK SEGMENT</code>
<code class="codeph">DROP ROLLBACK SEGMENT</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4898" headers="d521749e4617 ">
                                       <p><code class="codeph">SCHEMA_DDL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4898 d521749e4620 ">
                                       <p><span class="italic">All DDL statements that create, modify, or drop schema objects (for example: tables, indexes, and columns)</span></p>
                                       <p><span class="bold">Note:</span> <code class="codeph">SCHEMA_NAME</code> and <code class="codeph">OBJECT_NAME</code> must <span class="italic">not</span> be null
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4920" headers="d521749e4617 ">
                                       <p><code class="codeph">SEQUENCE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4920 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER SEQUENCE</code>
<code class="codeph">CREATE SEQUENCE</code>
<code class="codeph">DROP SEQUENCE</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4935" headers="d521749e4617 ">
                                       <p><code class="codeph">SYNONYM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4935 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE PUBLIC SYNONYM</code>
<code class="codeph">CREATE SYNONYM</code>
<code class="codeph">DROP PUBLIC SYNONYM</code>
<code class="codeph">DROP SYNONYM</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4953" headers="d521749e4617 ">
                                       <p><code class="codeph">SYSTEM AUDIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4953 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">AUDIT</code> <span class="variable">SQL_statements</span>
<code class="codeph">NOAUDIT</code> <span class="variable">SQL_statements</span></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4971" headers="d521749e4617 ">
                                       <p><code class="codeph">TABLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4971 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE TABLE</code>
ALTER TABLE
<code class="codeph">DROP TABLE</code>
<code class="codeph">TRUNCATE TABLE</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e4986" headers="d521749e4617 ">
                                       <p><code class="codeph">TABLESPACE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e4986 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE TABLESPACE</code>
<code class="codeph">DROP TABLESPACE</code>
<code class="codeph">ALTER TABLESPACE</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5001" headers="d521749e4617 ">
                                       <p><code class="codeph">TRIGGER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5001 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER TRIGGER</code>
<code class="codeph">CREATE TRIGGER</code>
<code class="codeph">DISABLE ALL TRIGGERS</code>
<code class="codeph">DISABLE TRIGGER</code>
<code class="codeph">DROP TRIGGER</code>
<code class="codeph">ENABLE ALL TRIGGERS</code>
<code class="codeph">ENABLE TRIGGER</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5030" headers="d521749e4617 ">
                                       <p><code class="codeph">TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5030 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER TYPE</code>
<code class="codeph">ALTER TYPE BODY</code>
<code class="codeph">CREATE TYPE</code>
<code class="codeph">CREATE TYPE BODY</code>
<code class="codeph">DROP TYPE</code>
<code class="codeph">DROP TYPE BODY</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5054" headers="d521749e4617 ">
                                       <p><code class="codeph">USER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5054 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ALTER USER</code>
<code class="codeph">CREATE USER</code>
<code class="codeph">DROP USER</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5069" headers="d521749e4617 ">
                                       <p><code class="codeph">VIEW</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5069 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE VIEW</code>
<code class="codeph">DROP VIEW</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5081" headers="d521749e4617 ">
                                       <p><code class="codeph">VIEW</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5081 d521749e4620 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE VIEW</code>
<code class="codeph">DROP VIEW</code></pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>All directory objects are owned by <code class="codeph">SYS</code>, but for the purpose of filtering them with a skip directive the schema should be specified as '%'".
                           </p>
                        <p></p>
                        <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2 </sup></p><p> See <a href="../sbydb/data-type-ddl-support-on-logical-standby-databases.html#SBYDB00315"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about supported packages.
                           </p>
                        <p></p>
                        <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;3 </sup></p><p>Java schema objects (sources, classes, and resources) are considered the same as procedure for purposes of skipping (ignoring) SQL statements.</p>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__GUID-CECC0493-7C9D-4389-A06B-426AB7BE8866">
                           <p class="titleintable">Table 97-24 DBMS_LOGSTDBY.SKIP Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_LOGSTDBY.SKIP Procedure Exceptions" summary="This table lists and describes exceptions returned by the DBMS_LOGSTDBY.SKIP subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d521749e5105">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d521749e5108">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5113" headers="d521749e5105 ">
                                       <p><code class="codeph">ORA-01031</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5113 d521749e5108 ">
                                       <p>Insufficient privileges:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Procedure used <code class="codeph">INVOKER</code> rights
                                             </p>
                                          </li>
                                          <li>
                                             <p>Procedure needs <code class="codeph">DBA</code> privileges
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5134" headers="d521749e5105 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5134 d521749e5108 ">
                                       <p>Logical standby apply must be stopped to allow this operation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5142" headers="d521749e5105 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5142 d521749e5108 ">
                                       <p>Invalid logical standby option requested.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5150" headers="d521749e5105 ">
                                       <p><code class="codeph">ORA-16203</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5150 d521749e5108 ">
                                       <p>"Unable to interpret <code class="codeph">SKIP</code> procedure return values."
                                       </p>
                                       <p>Indicates that a <code class="codeph">SKIP</code> procedure has either generated an exception or has returned ambiguous values. You can identify the offending procedure by examining the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d521749e5169" headers="d521749e5105 ">
                                       <p><code class="codeph">ORA-16236</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d521749e5169 d521749e5108 ">
                                       <p>Logical standby metadata operation in progress.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__GUID-70C408CA-C96F-44B4-8F07-D0B91D948386">
                                 <!-- --></a>Example 1. Skipping all DML and DDL changes made to a schema
                           </dt>
                           <dd>
                              <p>The following example shows how to specify rules so that SQL Apply will skip both DDL and DML statements made to the HR schema.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP(STMT =&gt; 'SCHEMA_DDL', -
     schema_name =&gt; 'HR', -
     object_name =&gt; '%', -
     proc_name =&gt; null);
SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP(STMT =&gt; 'DML', -
     schema_name =&gt; 'HR', -
     object_name =&gt; '%', -
     proc_name =&gt; null);</pre></dd>
                           <dt class="dlterm"><a name="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__GUID-218E990C-F90B-4EB9-86D5-33A13CCA24AC">
                                 <!-- --></a>Example 2. Creating a procedure to handle different file system organization
                           </dt>
                           <dd>
                              <p>For example, if the file system organization in the logical standby database is different than that in the primary database, you can write a <code class="codeph">SKIP</code> procedure to handle DDL statements with file specifications transparently.The following procedure can handle DDL statements as long as you follow a specific naming convention for the file specification string.
                              </p>
                              <ol>
                                 <li>
                                    <p>Create the <code class="codeph">SKIP</code> procedure to handle tablespace DDL statements:
                                    </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE sys.handle_tbs_ddl 
IS
l_old_stmt varchar2(4000);
l_stmt_typ varcahr2(40);
l_schema   varchar2(30);
l_name     varchar2(30);
l_xidusn   number;
l_xidslt   number;
l_xidsqn   number;
l_skip_action number;
l_new_stmt varchar2(4000);
 
-- read all information
dbms_logstdby_context.get_context(name=&gt;'STATEMENT',value=&gt;l_old_stmt);
  dbms_logstdby_context.get_context(name=&gt;'STATEMENT_TYPE',value=&gt;l_stmt_type);
  dbms_logstdby_context.get_context(name=&gt;'OWNER',value=&gt;l_schema);
  dbms_logstdby_context.get_context(name=&gt;'NAME',value=&gt;l_name);
  dbms_logstdby_context.get_context(name=&gt;'XIDUSN',value=&gt;l_xidusn);
  dbms_logstdby_context.get_context(name=&gt;'XIDSLT',value=&gt;l_xidslt);
  dbms_logstdby_context.get_context(name=&gt;'XIDSQN',value=&gt;l_xidsqn);
  dbms_logstdby_context.get_context(name=&gt;'CONTAINER_NAME',value=&gt;l_conname);
 
--
-- All primary file specification that contains a directory
-- /usr/orcl/primary/dbs
-- should go to /usr/orcl/stdby directory specification
 
  BEGIN
  l_new_stmt := replace (l_old_stmt, '/usr/orcl/primary/dbs','/usr/orcl/stdby');
l_skip_action := DBMS_LOGSTDBY.SKIP_ACTION_REPLACE;
  EXCEPTION
  WHEN OTHERS THEN
    l_skip_action := DBMS_LOGSTDBY.SKIP_ACTION_ERROR;
    l_new_stmt := NULL;
  END;
 
  dbms_logstdby_context.set_context(name=&gt;new_statement, value =&gt; l_new_stmt);
dbms_logstdby_context.set_context(name=&gt;'SKIP_ACTION', value =&gt; l_skip_action);
END handle_tbs_ddl;
</pre></li>
                                 <li>
                                    <p>Register the <code class="codeph">SKIP</code> procedure with SQL Apply:
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP (stmt =&gt; 'TABLESPACE', -
             proc_name =&gt; 'SYS.HANDLE_TBS_DDL');</pre></li>
                              </ol>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BGBJGGJA">
                        <p class="subhead3">Skipping Containers</p>
                        <p>To skip a container (either a PDB or the root), use the <code class="codeph">CONTAINER</code> keyword. All SQL statements executed on the container, as well as any other actions taken on the container, are skipped. 
                        </p>
                        <p>You can skip a particular PDB within a CDB. For example, the following command skips the PDB named <code class="codeph">PDB1</code>. The command must be executed at the root level:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP(stmt =&gt; 'CONTAINER', object_name =&gt; 'PDB1');
</pre><p>As shown in the following example, you could also skip only the root of the CDB, but not any of the PDBs that exist under the root. The command must be executed at the root level:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP(stmt =&gt; 'CONTAINER', object_name =&gt; 'CDB$ROOT');</pre><div class="infoboxnote" id="GUID-0A383476-631A-44CC-AA6D-5C2506D59492__GUID-48C51EE6-8B69-4E0C-B320-D4A63250BE22">
                           <p class="notep1">Note:</p>
                           <p>To create other skip rules for a container, create the rules from within the container. The container to which the rules will apply is automatically derived from the container in which the rules are created.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66855"></a><a id="ARPLS66856"></a><a id="ARPLS66857"></a><a id="ARPLS66856"></a><a id="ARPLS66857"></a><a id="ARPLS66855"></a><div class="props_rev_3"><a id="GUID-267A7172-05AD-443A-9AC6-B4D0CF8208A5" name="GUID-267A7172-05AD-443A-9AC6-B4D0CF8208A5"></a><h4 id="ARPLS-GUID-267A7172-05AD-443A-9AC6-B4D0CF8208A5" class="sect4"><span class="enumeration_section">97.4.16 </span>SKIP_ERROR Procedure
                  </h4>
                  <div>
                     <p>The SKIP_ERROR procedure specifies the action to take when a logical standby database detects an error. </p>
                     <div class="section">
                        <p>Upon encountering an error, the logical standby database uses the criteria contained in this procedure to determine a course of action. The default action when a match is found is to skip the error and continue with applying changes. However, if a procedure is supplied, then <code class="codeph">SKIP_ERROR</code> can take other actions depending on the situation. It can do nothing, which causes SQL Apply to stop, or it can change the error message text and stop SQL Apply, or it can actually skip the error.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.SKIP_ERROR (
     stmt                      IN VARCHAR2,
     schema_name               IN VARCHAR2 DEFAULT NULL,
     object_name               IN VARCHAR2 DEFAULT NULL,
     proc_name                 IN VARCHAR2 DEFAULT NULL,
     use_like                  IN BOOLEAN  DEFAULT NULL,
     esc                       IN CHAR1    DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-267A7172-05AD-443A-9AC6-B4D0CF8208A5__BDCBGJDC">
                           <p class="titleintable">Table 97-25 SKIP_ERROR Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP_ERROR Procedure Parameters" summary="This table lists and describes the parameters you can set on the SKIP_ERROR subprogram of the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e5354">Parameter</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e5357">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5362" headers="d521749e5354 ">
                                       <p><code class="codeph">stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5362 d521749e5357 ">
                                       <p>Either a keyword that identifies a set of SQL statements or a specific SQL statement. The use of keywords simplifies configuration because keywords, generally defined by the database object, identify all SQL statements that operate on the specified object. <a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492__BABGCFCA" title="This table lists and describes optional keywords for the stmt parameter of the DBMS_LOGSTDBY.SKIP procedure.">Table 97-23</a> shows a list of keywords and the equivalent SQL statements, either of which is a valid value for this parameter.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5375" headers="d521749e5354 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5375 d521749e5357 ">
                                       <p>The name of one or more schemas (wildcards are permitted) associated with the SQL statements identified by the <code class="codeph">stmt</code> parameter. If not applicable, this value must be set to <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5389" headers="d521749e5354 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5389 d521749e5357 ">
                                       <p>The name of one or more objects (wildcards are permitted) associated with the SQL statements identified by the <code class="codeph">stmt</code>. If not applicable, this value must be set to <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5403" headers="d521749e5354 ">
                                       <p><code class="codeph">proc_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5403 d521749e5357 ">
                                       <p>Name of a stored procedure to call when SQL Apply encounters an error and determines a particular statement matches the filter defined by the <code class="codeph">stmt</code>, <code class="codeph">schema_name</code>, and <code class="codeph">object_name</code> parameters. Specify the procedure in the following format:
                                       </p>
                                       <p><code class="codeph">'"schema"."package"."procedure"'</code></p>
                                       <p>This procedure returns an error message that directs SQL Apply to perform one of the following actions: </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Silently skip the error and continue with SQL Apply</p>
                                          </li>
                                          <li>
                                             <p>Replace the error message that would have been created with a custom one, and stop SQL Apply</p>
                                          </li>
                                          <li>
                                             <p>Do nothing, causing SQL Apply to stop and the original error message to be logged</p>
                                          </li>
                                       </ul>
                                       <p>The procedure registered with SQL Apply does not take any parameters. The context associated with <code class="codeph">LSBY_APPLY_CONTEXT</code> can be used to retrieve all relevant information related to the error. See the <code class="codeph">DBMS_LOGSTDBY_CONTEXT</code> package for a list of all parameters associated with <code class="codeph">LSBY_APPLY_CONTEXT</code>.
                                       </p>
                                       <p>The parameters of interest for procedures registered with <code class="codeph">SKIP_ERROR</code> are <code class="codeph">CONTAINER_NAME</code>, <code class="codeph">STATEMENT</code>, <code class="codeph">STATEMENT_TYPE</code>, <code class="codeph">SCHEMA</code>, <code class="codeph">NAME</code>, <code class="codeph">XIDUSN</code>, <code class="codeph">XIDSLT</code>, <code class="codeph">XIDSQN</code>, <code class="codeph">ERROR</code> and <code class="codeph">NEW_ERROR</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5482" headers="d521749e5354 ">
                                       <p><code class="codeph">use_like</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5482 d521749e5357 ">
                                       <p>Allows pattern matching to isolate the tables that you want to skip on the logical standby database. The <code class="codeph">use_like</code> parameter matches a portion of one character value to another by searching the first value for the pattern specified by the second, and calculates strings using characters as defined by the input character set. This parameter follows the same rules for pattern matching described in <a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-3FA7F5AB-AC64-4200-8F90-294101428C26"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5499" headers="d521749e5354 ">
                                       <p><code class="codeph">esc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5499 d521749e5357 ">
                                       <p>Identifies an escape character (such as the characters "%" or "_") that you can use for pattern matching. If the escape character appears in the pattern before the character "%" or "_" then Oracle interprets this character literally in the pattern, rather than as a special pattern matching character. </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A stored procedure provided to the <code class="codeph">SKIP_ERROR</code> procedure is called when SQL Apply encounters an error that could shut down the application of redo logs to the standby database.
                              </p>
                           </li>
                           <li>
                              <p>Running this stored procedure affects the error being written in the <code class="codeph">STATUS</code> column of the <code class="codeph">DBA_LOGSTDBY_EVENTS</code> table. The <code class="codeph">STATUS_CODE</code> column remains unchanged. If the stored procedure is to have no effect, that is, apply will be stopped, then the <code class="codeph">NEW_ERROR</code> is written to the events table. To truly have no effect, set <code class="codeph">NEW_ERROR</code> to <code class="codeph">ERROR</code> in the procedure.
                              </p>
                           </li>
                           <li>
                              <p>If the stored procedure requires that a shutdown be avoided, then you must set <code class="codeph">NEW_ERROR</code> to <code class="codeph">NULL</code>. 
                              </p>
                           </li>
                           <li>
                              <p>This procedure requires <code class="codeph">DBA</code> privileges to execute.
                              </p>
                           </li>
                           <li>
                              <p>For <code class="codeph">USER</code> statements, the <code class="codeph">SCHEMA_NAME</code> parameter will be the user and you should specify '%' for the <code class="codeph">OBJECT_NAME</code> parameter.
                              </p>
                           </li>
                           <li>
                              <p>If the <code class="codeph">PROC_NAME</code> parameter is specified, it must already exist in <code class="codeph">DBA_PROCEDURES</code> and it must execute with <code class="codeph">DEFINERS</code> rights. If the procedure is declared with <code class="codeph">INVOKERS</code> rights, the <code class="codeph">ORA-1031: insufficient privileges</code> message will be returned.
                              </p>
                           </li>
                           <li>
                              <p>The PL/SQL block of a <code class="codeph">SKIP_ERROR</code> procedure cannot contain transaction control statements (for example: <code class="codeph">COMMIT</code>, <code class="codeph">ROLLBACK</code>, <code class="codeph">SAVEPOINT</code>, and SET <code class="codeph">CONSTRAINT</code>) unless the block is declared to be an autonomous transaction using the following syntax:
                              </p><pre class="oac_no_warn" dir="ltr">PRAGMA AUTONOMOUS_TRANSACTION</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-267A7172-05AD-443A-9AC6-B4D0CF8208A5__GUID-B8C7FBD7-451B-4843-BE12-DEC48054367F">
                           <p class="titleintable">Table 97-26 SKIP_ERROR Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP_ERROR Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the SKIP_ERROR subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e5616">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e5619">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5624" headers="d521749e5616 ">
                                       <p><code class="codeph">ORA-01031</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5624 d521749e5619 ">
                                       <p>Insufficient privileges:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Procedure used <code class="codeph">INVOKER</code> rights
                                             </p>
                                          </li>
                                          <li>
                                             <p>Procedure needs <code class="codeph">DBA</code> privileges
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5645" headers="d521749e5616 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5645 d521749e5619 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5653" headers="d521749e5616 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5653 d521749e5619 ">
                                       <p>invalid Logical Standby option requested</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5661" headers="d521749e5616 ">
                                       <p><code class="codeph">ORA-16236</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5661 d521749e5619 ">
                                       <p>Logical Standby metadata operation in progress</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example 1</p>
                        <p>The following example shows how to specify rules so that SQL Apply will skip any error raised from any <code class="codeph">GRANT DDL</code> command.
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP_ERROR('GRANT') </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example 2</p>
                        <p>To skip errors on <code class="codeph">GRANT</code> statements on <code class="codeph">SYS</code> or <code class="codeph">HR</code> schemas, define a procedure <code class="codeph">handle_error_ddl</code> and register it. In the following example, assume that <code class="codeph">handle_error_ddl</code> is a free-standing procedure in the <code class="codeph">SYS</code> schema.
                        </p>
                        <ol>
                           <li>
                              <p>Create the error-handler procedure:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE sys.handle_error_ddl
is
l_stmt    VARCHAR2(4000);
l_stmt_type VARCHAR2(40); 
l_schema    VARCHAR2(30);
l_name      VARCHAR2(30);
l_xidusn      NUMBER;   
l_xidslt      NUMBER;   
l_xidsqn      NUMBER;
l_error     VARCHAR2(4000);
l_conname    VARCHAR2(30); 
l_newerr   VARCHAR2(4000);
 
BEGIN
 dbms_logstdby_context.get_context(name=&gt;'STATEMENT',value=&gt;l_stmt);
  dbms_logstdby_context.get_context(name=&gt;'STATEMENT_TYPE',value=&gt;l_stmt_type);
  dbms_logstdby_context.get_context(name=&gt;'SCHEMA',value=&gt;l_schema);
  dbms_logstdby_context.get_context(name=&gt;'NAME',value=&gt;l_name);
  dbms_logstdby_context.get_context(name=&gt;'XIDUSN',value=&gt;l_xidusn);
  dbms_logstdby_context.get_context(name=&gt;'XIDSLT',value=&gt;l_xidslt);
  dbms_logstdby_context.get_context(name=&gt;'XIDSQN',value=&gt;l_xidsqn);
  dbms_logstdby_context.get_context(name=&gt;'ERROR',value=&gt;l_error);
  dbms_logstdby_context.get_context(name=&gt;'CONTAINER_NAME',value=&gt;l_conname);
 
-- default error to what we already have
l_new_error := l_error;
 
-- Ignore any GRANT errors on SYS or HR schemas
 
IF INSTR(UPPER(l_stmt), 'GRANT') &gt; 0
THEN
IF l_schema is NULL 
OR (l_schema is NOT NULL AND
(UPPER(l_schema) = 'SYS' OR
UPPER(l_schema) = 'HR')
THEN
l_new_error := NULL;
-- record the fact that we just skipped an error on 'SYS' or 'HR' schemas 
-- code not shown here 
END IF;
END IF;
 
dbms_logstdby_context.set_context(name =&gt; 'NEW_ERROR', value =&gt; l_new_error);
 
END handle_error_ddl;
/
</pre></li>
                           <li>
                              <p>Register the error handler with SQL Apply:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP_ERROR ( -
     statement =&gt; 'NON_SCHEMA_DDL', -
     schema_name =&gt; NULL, -
     object_name =&gt; NULL, -
     proc_name =&gt; 'SYS.HANDLE_ERROR_DDL');</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS927"></a><a id="ARPLS66858"></a><a id="ARPLS66859"></a><a id="ARPLS66858"></a><a id="ARPLS66859"></a><a id="ARPLS927"></a><div class="props_rev_3"><a id="GUID-D4215C30-F4D1-486A-B83C-978ABC39A037" name="GUID-D4215C30-F4D1-486A-B83C-978ABC39A037"></a><h4 id="ARPLS-GUID-D4215C30-F4D1-486A-B83C-978ABC39A037" class="sect4"><span class="enumeration_section">97.4.17 </span>SKIP_TRANSACTION Procedure
                  </h4>
                  <div>
                     <p>This procedure provides a way to skip (ignore) applying transactions to the logical standby database. You can skip specific transactions by specifying transaction identification information.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.SKIP_TRANSACTION (
     xidusn          IN NUMBER,
     xidslt          IN NUMBER,
     xidsqn          IN NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-D4215C30-F4D1-486A-B83C-978ABC39A037__GUID-EC789F2A-7EC1-4CEE-98F5-97EEBB310BB5">
                           <p class="titleintable">Table 97-27 SKIP_TRANSACTION Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP_TRANSACTION Procedure Parameters " summary="This table lists and describes the parameters you set on the SKIP_TRANSACTION subprogram of the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e5826">Parameter</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e5829">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5834" headers="d521749e5826 ">
                                       <p><code class="codeph">XIDUSN NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5834 d521749e5829 ">
                                       <p>Transaction ID undo segment number of the transaction being skipped</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5842" headers="d521749e5826 ">
                                       <p><code class="codeph">XIDSLT NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5842 d521749e5829 ">
                                       <p>Transaction ID slot number of the transaction being skipped</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5850" headers="d521749e5826 ">
                                       <p><code class="codeph">XIDSQN NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5850 d521749e5829 ">
                                       <p>Transaction ID sequence number of the transaction being skipped</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>If SQL Apply stops due to a particular transaction (for example, a DDL transaction), you can specify that transaction ID and then continue to apply. You can call this procedure multiple times for as many transactions as you want SQL Apply to ignore.</p>
                        <div class="infoboxnotewarn" id="GUID-D4215C30-F4D1-486A-B83C-978ABC39A037__GUID-1BB18228-FCFE-48B6-81D8-8256D498DF05">
                           <p class="notep1">WARNING:</p>
                           <p><span class="bold"><code class="codeph">SKIP_TRANSACTION</code></span> is an inherently dangerous operation. Do not invoke this procedure unless you have examined the transaction in question through the <span class="bold"><code class="codeph">V$LOGMNR_CONTENTS</code></span> view and have taken compensating actions at the logical standby database. <span class="bold"><code class="codeph">SKIP_TRANSACTION</code></span> is not the appropriate procedure to invoke to skip DML changes to a table.
                           </p>
                           <p>To skip a DML failure, use a <span class="bold"><code class="codeph">SKIP</code></span> procedure, such as <span class="bold"><code class="codeph">SKIP('DML','MySchema','MyFailed Table').</code></span> Using the <span class="bold"><code class="codeph">SKIP_TRANSACTION</code></span> procedure for DML transactions may skip changes for other tables, thus logically corrupting them.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This procedure requires <code class="codeph">DBA</code> privileges to execute.
                              </p>
                           </li>
                           <li>
                              <p>Use the <code class="codeph">DBA_LOGSTDBY_SKIP_TRANSACTION</code> view to list the transactions that are going to be skipped by SQL Apply.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-D4215C30-F4D1-486A-B83C-978ABC39A037__GUID-3F3F3396-C647-4C9C-AAD2-BDBF431A0B14">
                           <p class="titleintable">Table 97-28 SKIP_TRANSACTION Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP_TRANSACTION Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the SKIP_TRANSACTION subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e5917">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e5920">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5925" headers="d521749e5917 ">
                                       <p><code class="codeph">ORA-01031</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5925 d521749e5920 ">
                                       <p>Need <code class="codeph">DBA</code> privileges
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5936" headers="d521749e5917 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5936 d521749e5920 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e5944" headers="d521749e5917 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e5944 d521749e5920 ">
                                       <p>invalid Logical Standby option requested</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To skip a DDL transaction with (<code class="codeph">XIDUSN</code>, <code class="codeph">XIDSLT</code>, <code class="codeph">XIDSQN</code>) of (1.13.1726) you can register a rule as shown in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP_TRANSACTION (- 
     XIDUSN =&gt; 1, XIDSLT =&gt; 13, XIDSQN =&gt; 1726);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66860"></a><a id="ARPLS66861"></a><a id="ARPLS66861"></a><a id="ARPLS66860"></a><div class="props_rev_3"><a id="GUID-B5B3A174-82B5-437C-80DD-6B389973F8C9" name="GUID-B5B3A174-82B5-437C-80DD-6B389973F8C9"></a><h4 id="ARPLS-GUID-B5B3A174-82B5-437C-80DD-6B389973F8C9" class="sect4"><span class="enumeration_section">97.4.18 </span>UNSKIP Procedure
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">UNSKIP</code> procedure to delete rules specified earlier with the <code class="codeph">SKIP</code> procedure. 
                     </p>
                     <div class="section">
                        <p>The parameters specified in the <code class="codeph">UNSKIP</code> procedure must match exactly for it to delete an already-specified rule.
                        </p>
                        <p>The <code class="codeph">container_name</code> argument is valid only in a CDB.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.UNSKIP (
     stmt                      IN VARCHAR2,
     schema_name               IN VARCHAR2 DEFAULT NULL,
     object_name               IN VARCHAR2 DEFUALT NULL,
     container_name            IN VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <p>The parameter information for the <code class="codeph">UNSKIP</code> procedure is the same as that described for the <code class="codeph">SKIP</code> procedure. See <a href="DBMS_LOGSTDBY.html#GUID-0A383476-631A-44CC-AA6D-5C2506D59492__CHDDEIJI" title="This table lists and describes the parameters you set on the SKIP subprogram of the DBMS_LOGSTDBY package.">Table 97-22</a> for complete parameter information.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-B5B3A174-82B5-437C-80DD-6B389973F8C9__GUID-DD88197E-275C-4F7B-A698-516F036D1DCF">
                           <p class="titleintable">Table 97-29 UNSKIP Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNSKIP Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the UNSKIP subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e6110">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e6113">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6118" headers="d521749e6110 ">
                                       <p><code class="codeph">ORA-01031</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6118 d521749e6113 ">
                                       <p>need <code class="codeph">DBA</code> privileges to execute this procedure
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6129" headers="d521749e6110 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6129 d521749e6113 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6137" headers="d521749e6110 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6137 d521749e6113 ">
                                       <p>invalid Logical Standby option requested</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <div class="infoboxnotewarn" id="GUID-B5B3A174-82B5-437C-80DD-6B389973F8C9__GUID-C793CBF1-38BC-4159-8874-593B8FE42FC3">
                           <p class="notep1">WARNING:</p>
                           <p>If DML changes for a table have been skipped and not compensated for, you must follow the call to the <span class="bold"><code class="codeph">UNSKIP</code></span> procedure with a call to the <span class="bold"><code class="codeph">INSTANTIATE_TABLE</code></span> procedure to synchronize this table with those maintained by SQL Apply.
                           </p>
                        </div>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This procedure requires DBA privileges to execute.</p>
                           </li>
                           <li>
                              <p>Wildcards passed in the <code class="codeph">schema_name</code> or the <code class="codeph">object_name</code> parameter are not expanded. The wildcard character is matched at the character level. Thus, you can delete only one specified rule by invoking the <code class="codeph">UNSKIP</code> procedure, and you will need a distinct <code class="codeph">UNSKIP</code> procedure call to delete each rule that was previously specified.
                              </p>
                              <p>For example, assume you have specified the following two rules to skip applying DML statements to the <code class="codeph">HR.EMPLOYEE</code> and <code class="codeph">HR.EMPTEMP</code> tables:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP (STMT =&gt; 'DML',-
     SCHEMA_NAME =&gt; 'HR', -
     OBJECT_NAME =&gt; 'EMPLOYEE', -
     PROC_NAME =&gt; null);
SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP (STMT =&gt; 'DML',-
     SCHEMA_NAME =&gt; 'HR', -
     OBJECT_NAME =&gt; 'EMPTEMP', -
     PROC_NAME =&gt; null);
</pre><p>In the following example, the wildcard in the <code class="codeph">TABLE_NAME</code> parameter cannot be used to delete the rules that were specified:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.UNSKIP (STMT =&gt; 'DML',-
     SCHEMA_NAME =&gt; 'HR', -
     OBJECT_NAME =&gt; 'EMP%');
</pre><p>In fact, this <code class="codeph">UNSKIP</code> procedure matches neither of the rules, because the wildcard character in the <code class="codeph">TABLE_NAME</code> parameter is not expanded. Instead, the wildcard character will be used in an exact match to find the corresponding <code class="codeph">SKIP</code> rule.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS929"></a><a id="ARPLS66862"></a><a id="ARPLS66862"></a><a id="ARPLS929"></a><div class="props_rev_3"><a id="GUID-B1C13C6B-E683-4407-BEC2-00E5EFD5A181" name="GUID-B1C13C6B-E683-4407-BEC2-00E5EFD5A181"></a><h4 id="ARPLS-GUID-B1C13C6B-E683-4407-BEC2-00E5EFD5A181" class="sect4"><span class="enumeration_section">97.4.19 </span>UNSKIP_ERROR Procedure
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">UNSKIP_ERROR</code> procedure to delete rules specified earlier with the <code class="codeph">SKIP_ERROR</code> procedure.
                     </p>
                     <div class="section">
                        <p>The parameters specified in the <code class="codeph">UNSKIP_ERROR</code> procedure must match exactly for the procedure to delete an already-specified rule. 
                        </p>
                        <p>The <code class="codeph">container_name</code> argument is valid only in a CDB.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.UNSKIP_ERROR (
     stmt                      IN VARCHAR2,
     schema_name               IN VARCHAR2 DEFAULT NULL,
     object_name               IN VARCHAR2 DEFAULT NULL,
     container_name            IN VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <p>The parameter information for the <code class="codeph">UNSKIP_ERROR</code> procedure is the same as that described for the <code class="codeph">SKIP_ERROR</code> procedure. See <a href="DBMS_LOGSTDBY.html#GUID-267A7172-05AD-443A-9AC6-B4D0CF8208A5__BDCBGJDC" title="This table lists and describes the parameters you can set on the SKIP_ERROR subprogram of the DBMS_LOGSTDBY package.">Table 97-25</a> for complete parameter information.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-B1C13C6B-E683-4407-BEC2-00E5EFD5A181__GUID-E644BCF9-8E4E-421C-8BCB-6A0A166E753B">
                           <p class="titleintable">Table 97-30 UNSKIP_ERROR Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNSKIP_ERROR Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the UNSKIP_ERROR subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e6348">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e6351">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6356" headers="d521749e6348 ">
                                       <p><code class="codeph">ORA-01031</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6356 d521749e6351 ">
                                       <p>Need <code class="codeph">DBA</code> privileges
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6367" headers="d521749e6348 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6367 d521749e6351 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6375" headers="d521749e6348 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6375 d521749e6351 ">
                                       <p>invalid Logical Standby option requested</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This procedure requires <code class="codeph">DBA</code> privileges to execute.
                              </p>
                           </li>
                           <li>
                              <p>Wildcards passed in the <code class="codeph">schema_name</code> or the <code class="codeph">object_name</code> parameters are not expanded. Instead, the wildcard character is treated as any other character and an exact match is made. Thus, you can delete only one specified rule by invoking the <code class="codeph">UNSKIP_ERROR</code> procedure, and you need a distinct <code class="codeph">UNSKIP_ERROR</code> procedure call to delete each rule that you previously specified.
                              </p>
                              <p>For example, assume you have specified the following two rules to handle the <code class="codeph">HR.EMPLOYEE</code> and <code class="codeph">HR.EMPTEMP</code> tables:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP_ERROR (STMT =&gt; 'DML',-
     SCHEMA_NAME =&gt; 'HR', -
     OBJECT_NAME =&gt; 'EMPLOYEE', -
     PROC_NAME =&gt; 'hr_employee_handler');
SQL&gt; EXECUTE DBMS_LOGSTDBY.SKIP_ERROR (STMT =&gt; 'DML',-
     SCHEMA_NAME =&gt; 'HR', -
     OBJECT_NAME =&gt; 'EMPTEMP', -
     PROC_NAME =&gt; 'hr_tempemp_handler');
</pre><p>In this case, the following <code class="codeph">UNSKIP</code> procedure cannot be used to delete the rules that you have specified:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_LOGSTDBY.UNSKIP_ERROR (STMT =&gt; 'DML',-
     SCHEMA_NAME =&gt; 'HR', -
     OBJECT_NAME =&gt; 'EMP%');
</pre><p>In fact, the <code class="codeph">UNSKIP</code> procedure will match neither of the rules, because the wildcard character in the <code class="codeph">OBJECT_NAME</code> parameter will not be expanded.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Example</p>
                        <p>To remove a handler that was previously registered with SQL Apply from getting called on encountering an error, you can issue the following statement:</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.UNSKIP_ERROR ( -
      statement =&gt; 'NON_SCHEMA_DDL', -
      schema_name =&gt; NULL, -
      object_name =&gt; NULL);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS930"></a><a id="ARPLS66863"></a><a id="ARPLS66864"></a><a id="ARPLS66863"></a><a id="ARPLS66864"></a><a id="ARPLS930"></a><div class="props_rev_3"><a id="GUID-838D761C-8B3D-47AB-A9C6-ECC6835BE00D" name="GUID-838D761C-8B3D-47AB-A9C6-ECC6835BE00D"></a><h4 id="ARPLS-GUID-838D761C-8B3D-47AB-A9C6-ECC6835BE00D" class="sect4"><span class="enumeration_section">97.4.20 </span>UNSKIP_TRANSACTION Procedure
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">UNSKIP_TRANSACTION</code> procedure to delete rules specified earlier with the <code class="codeph">SKIP_TRANSACTION</code> procedure. 
                     </p>
                     <div class="section">
                        <p>The parameters specified in the <code class="codeph">UNSKIP_TRANSACTION</code> procedure must match exactly for the procedure to delete an already-specified rule.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGSTDBY.UNSKIP_TRANSACTION (
     xidusn_p         IN NUMBER,
     xidslt_p         IN NUMBER,
     xidsqn_p         IN NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-838D761C-8B3D-47AB-A9C6-ECC6835BE00D__GUID-592E5E2E-8D27-46D8-8E69-D9C17964A001">
                           <p class="titleintable">Table 97-31 UNSKIP_TRANSACTION Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNSKIP_TRANSACTION Procedure Parameters " summary="This table lists and describes the parameters on the UNSKIP_TRANSACTION procedure on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d521749e6564">Parameter</th>
                                    <th align="left" valign="bottom" width="79%" id="d521749e6567">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d521749e6572" headers="d521749e6564 ">
                                       <p><code class="codeph">XIDUSN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d521749e6572 d521749e6567 ">
                                       <p>Transaction ID undo segment number of the transaction being skipped</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d521749e6580" headers="d521749e6564 ">
                                       <p><code class="codeph">XIDSLT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d521749e6580 d521749e6567 ">
                                       <p>Transaction ID slot number of the transaction being skipped</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d521749e6588" headers="d521749e6564 ">
                                       <p><code class="codeph">XIDSQN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d521749e6588 d521749e6567 ">
                                       <p>Transaction ID sequence number of the transaction being skipped</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Exceptions</p>
                        <div class="tblformal" id="GUID-838D761C-8B3D-47AB-A9C6-ECC6835BE00D__GUID-D1C68E98-6C6E-44E1-8B47-BB6308DBCA19">
                           <p class="titleintable">Table 97-32 UNSKIP_TRANSACTION Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNSKIP_TRANSACTION Procedure Exceptions" summary="This table lists and describes the exceptions you might encounter when you use the UNSKIP_TRANSACTION subprogram on the DBMS_LOGSTDBY package." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d521749e6608">Exception</th>
                                    <th align="left" valign="bottom" width="73%" id="d521749e6611">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6616" headers="d521749e6608 ">
                                       <p><code class="codeph">ORA-01031</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6616 d521749e6611 ">
                                       <p>need <code class="codeph">DBA</code> privileges to execute this procedure
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6627" headers="d521749e6608 ">
                                       <p><code class="codeph">ORA-16103</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6627 d521749e6611 ">
                                       <p>Logical Standby apply must be stopped to allow this operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d521749e6635" headers="d521749e6608 ">
                                       <p><code class="codeph">ORA-16104</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d521749e6635 d521749e6611 ">
                                       <p>invalid Logical Standby option requested</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This procedure requires <code class="codeph">DBA</code> privileges to execute.
                              </p>
                           </li>
                           <li>
                              <p>Query the <code class="codeph">DBA_LOGSTDBY_SKIP_TRANSACTION</code> view to list the transactions that are going to be skipped by SQL Apply.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>To remove a rule that was originally specified to skip the application of a transaction with (<code class="codeph">XIDUSN</code>, <code class="codeph">XIDSLT</code>, <code class="codeph">XIDSQN</code>) of (1.13.1726) issue the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; DBMS_LOGSTDBY.UNSKIP_TRANSACTION (XIDUSN =&gt; 1, XIDSLT =&gt; 13, XIDSQN =&gt; 1726);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>