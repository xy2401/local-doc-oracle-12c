<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_TRANSFORM package provides an interface to the message format transformation features of Oracle Advanced Queuing.">
      <meta name="description" content="The DBMS_TRANSFORM package provides an interface to the message format transformation features of Oracle Advanced Queuing.">
      <title>DBMS_TRANSFORM</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_TRANSFORM package provides an interface to the message format transformation features of Oracle Advanced Queuing.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-15T02:42:46-07:00">
      <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85717-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="DBMS_TRANSACTION.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_TSDP_MANAGE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ARPLS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_TRANSACTION.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_TSDP_MANAGE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_TRANSFORM</li>
            </ol>
            <a id="GUID-3F9CB6CC-270A-4064-96B8-1105B61A9CAD" name="GUID-3F9CB6CC-270A-4064-96B8-1105B61A9CAD"></a><a id="ARPLS061"></a><a id="ARPLS061"></a>
            
            <h2 id="ARPLS-GUID-3F9CB6CC-270A-4064-96B8-1105B61A9CAD" class="sect2"><span class="enumeration_chapter">173 </span> DBMS_TRANSFORM
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_TRANSFORM</code> package provides an interface to the message format transformation features of Oracle Advanced Queuing. 
               </p>
               <p>This chapter contains the following topic:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_TRANSFORM.html#GUID-DB13A7AB-2064-44BF-ABD9-6894BD69CE7F" title="This table lists the DBMS_TRANSFORM subprograms and briefly describes them.">Summary of DBMS_TRANSFORM Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-3F9CB6CC-270A-4064-96B8-1105B61A9CAD__GUID-4A5E42DF-64DD-46F4-84B5-B1C2C050C1CB">
                  <p class="notep1">See Also:</p>
                  <p><a href="../adque/aq-introduction.html#ADQUE-GUID-95868022-ECDA-4685-9D0A-52ED7663C84B"><span><cite>Oracle Database Advanced Queuing User's Guide</cite></span></a>for more on message format transformations.
                  </p>
               </div>
            </div><a id="ARPLS141"></a><a id="ARPLS68922"></a><a id="ARPLS68922"></a><a id="ARPLS141"></a><div class="props_rev_3"><a id="GUID-DB13A7AB-2064-44BF-ABD9-6894BD69CE7F" name="GUID-DB13A7AB-2064-44BF-ABD9-6894BD69CE7F"></a><h3 id="ARPLS-GUID-DB13A7AB-2064-44BF-ABD9-6894BD69CE7F" class="sect3"><span class="enumeration_section">173.1 </span>Summary of DBMS_TRANSFORM Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_TRANSFORM</code> subprograms and briefly describes them. 
                  </p>
                  <div class="tblformal" id="GUID-DB13A7AB-2064-44BF-ABD9-6894BD69CE7F__GUID-E7058DE4-E212-4662-B370-CFB49C0188E2">
                     <p class="titleintable">Table 173-1 DBMS_TRANSFORM Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TRANSFORM Package Subprograms" summary="This table lists the DBMS_TRANSFORM subprograms in alphabetical order and briefly describes them. " width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d1085069e210">Subprograms</th>
                              <th align="left" valign="bottom" width="66%" id="d1085069e213">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1085069e218" headers="d1085069e210 ">
                                 <p><a href="DBMS_TRANSFORM.html#GUID-54D33551-6C99-419C-B321-244B10AE4E39" title="This procedure creates a transformation that maps an object of the source type to an object of the target type. The transformation expression can be a SQL expression or a PL/SQL function. It must return an object of the target type.">CREATE_TRANSFORMATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1085069e218 d1085069e213 ">
                                 <p>Creates a transformation that maps an object of the source type to an object of the destination type</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1085069e230" headers="d1085069e210 ">
                                 <p><a href="DBMS_TRANSFORM.html#GUID-638CD7A3-8E28-4EB5-809F-81D03A7BAFE7" title="This procedure drops the given transformation.">DROP_TRANSFORMATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1085069e230 d1085069e213 ">
                                 <p>Drops the given transformation</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1085069e242" headers="d1085069e210 ">
                                 <p><a href="DBMS_TRANSFORM.html#GUID-7FE5C262-BAB0-41A0-9BC8-52EDB3CAD2A7" title="This procedure modifies the transformation expression for the given transformation.">MODIFY_TRANSFORMATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1085069e242 d1085069e213 ">
                                 <p>Modifies an existing transformation</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS68923"></a><a id="ARPLS68924"></a><a id="ARPLS68924"></a><a id="ARPLS68923"></a><div class="props_rev_3"><a id="GUID-54D33551-6C99-419C-B321-244B10AE4E39" name="GUID-54D33551-6C99-419C-B321-244B10AE4E39"></a><h4 id="ARPLS-GUID-54D33551-6C99-419C-B321-244B10AE4E39" class="sect4"><span class="enumeration_section">173.1.1 </span>CREATE_TRANSFORMATION Procedure
                  </h4>
                  <div>
                     <p>This procedure creates a transformation that maps an object of the source type to an object of the target type. The transformation expression can be a SQL expression or a PL/SQL function. It must return an object of the target type. </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_TRANSFORM.CREATE_TRANSFORMATION (
    schema               VARCHAR2(30),
    name                 VARCHAR2(30),
    from_schema          VARCHAR2(30),
    from_type            VARCHAR2(30),
    to_schema            VARCHAR2(30),
    to_type              VARCHAR2(30),
    transformation       VARCHAR2(4000)); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-54D33551-6C99-419C-B321-244B10AE4E39__GUID-88270E49-DD6D-4E10-82C0-27B346770CA4">
                           <p class="titleintable">Table 173-2 CREATE_TRANSFORMATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_TRANSFORMATION Procedure Parameters" summary="This table describes the Parameters of DBMS_TRANSFORM.CREATE_TRANSFORMATION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d1085069e361">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d1085069e364">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e369" headers="d1085069e361 ">
                                       <p><code class="codeph">schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e369 d1085069e364 ">
                                       <p>Specifies the schema of the transformation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e377" headers="d1085069e361 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e377 d1085069e364 ">
                                       <p>Specifies the name of the transformation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e385" headers="d1085069e361 ">
                                       <p><code class="codeph">from_schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e385 d1085069e364 ">
                                       <p>Specifies the schema of the source type.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e393" headers="d1085069e361 ">
                                       <p><code class="codeph">from_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e393 d1085069e364 ">
                                       <p>Specifies the source type.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e401" headers="d1085069e361 ">
                                       <p><code class="codeph">to_schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e401 d1085069e364 ">
                                       <p>Specifies the target type schema.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e409" headers="d1085069e361 ">
                                       <p><code class="codeph">to_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e409 d1085069e364 ">
                                       <p>Specifies the target type.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e417" headers="d1085069e361 ">
                                       <p><code class="codeph">transformation</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e417 d1085069e364 ">
                                       <p>Specifies the transformation expression, returning an object of the target type. The expression must be a function returning an object of the target type or a constructor expression for the target type. You can choose not to specify a transformation expression and instead specify transformations for attributes of the target type using <code class="codeph">MODIFY_TRANSFORMATION</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The transformation expression must be a SQL expression or a PL/SQL function returning the type of the specified attribute of the target type. </p>
                           </li>
                           <li>
                              <p>To create, modify or drop transformations, a user must be granted execute privileges on <code class="codeph">DBMS_TRANSFORM</code>. The user must also have execute privileges on the user defined types that are the source and destination types of the transformation. In addition, the user must also have execute privileges on any PLSQL function being used in the transformation function. 
                              </p>
                           </li>
                           <li>
                              <p>The transformation cannot write database state (perform DML) or commit or rollback the current transaction. </p>
                           </li>
                           <li>
                              <p>The transformation must be a SQL function with source type as input type, returning an object of the target type. It could also be a SQL expression of target type, referring to a source type. All references to the source type must be of the form <span class="italic"><code class="codeph">source.user_data</code></span>. 
                              </p>
                           </li>
                           <li>
                              <p>Both source and target types must be non-scalar database types. A null transformation expression maps to a null target object. </p>
                           </li>
                        </ul>
                        <p>For using the transformation at enqueue and dequeue time, the login user invoking the operation must have execute privileges on the PLSQL functions used by the transformation. For propagation, the owning schema of the queue must have these privileges.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68925"></a><a id="ARPLS68926"></a><a id="ARPLS68926"></a><a id="ARPLS68925"></a><div class="props_rev_3"><a id="GUID-638CD7A3-8E28-4EB5-809F-81D03A7BAFE7" name="GUID-638CD7A3-8E28-4EB5-809F-81D03A7BAFE7"></a><h4 id="ARPLS-GUID-638CD7A3-8E28-4EB5-809F-81D03A7BAFE7" class="sect4"><span class="enumeration_section">173.1.2 </span>DROP_TRANSFORMATION Procedure
                  </h4>
                  <div>
                     <p>This procedure drops the given transformation.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_TRANSFORM.DROP_TRANSFORMATION (</pre><p>schema VARCHAR2(30),</p><pre class="oac_no_warn" dir="ltr">    name        VARCHAR2(30));</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-638CD7A3-8E28-4EB5-809F-81D03A7BAFE7__GUID-1B427EA0-BD38-4BC1-9DD0-2CCE9D1B4033">
                           <p class="titleintable">Table 173-3 DROP_TRANSFORMATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_TRANSFORMATION Procedure Parameters" summary="This table describes the Parameters of DBMS_TRANSFORM.DROP_TRANSFORMATION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d1085069e568">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d1085069e571">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e576" headers="d1085069e568 ">
                                       <p><code class="codeph">schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e576 d1085069e571 ">
                                       <p>Specifies the schema of the transformation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e584" headers="d1085069e568 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e584 d1085069e571 ">
                                       <p>Specifies the name of the transformation.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68927"></a><a id="ARPLS68928"></a><a id="ARPLS68928"></a><a id="ARPLS68927"></a><div class="props_rev_3"><a id="GUID-7FE5C262-BAB0-41A0-9BC8-52EDB3CAD2A7" name="GUID-7FE5C262-BAB0-41A0-9BC8-52EDB3CAD2A7"></a><h4 id="ARPLS-GUID-7FE5C262-BAB0-41A0-9BC8-52EDB3CAD2A7" class="sect4"><span class="enumeration_section">173.1.3 </span>MODIFY_TRANSFORMATION Procedure
                  </h4>
                  <div>
                     <p>This procedure modifies the transformation expression for the given transformation. </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_TRANSFORM.MODIFY_TRANSFORMATION (
   schema             VARCHAR2(30),
   name               VARCHAR2(30),
   attribute_number   INTEGER,
   transformation     VARCHAR2(4000));</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-7FE5C262-BAB0-41A0-9BC8-52EDB3CAD2A7__GUID-90A718CE-D455-4BFA-B744-2922258F1601">
                           <p class="titleintable">Table 173-4 MODIFY_TRANSFORMATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MODIFY_TRANSFORMATION Procedure Parameters" summary="This table describes the Parameters of DBMS_TRANSFORM.MODIFY_TRANSFORMATION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d1085069e699">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d1085069e702">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e707" headers="d1085069e699 ">
                                       <p><code class="codeph">schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e707 d1085069e702 ">
                                       <p>Specifies the schema of the transformation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e715" headers="d1085069e699 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e715 d1085069e702 ">
                                       <p>Specifies the name of the transformation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e723" headers="d1085069e699 ">
                                       <p><code class="codeph">attribute_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e723 d1085069e702 ">
                                       <p>The attribute of the target type for which the new transformation expression is being specified. When specifying the new transformation as a single expression of the target type, specify a value of 0.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1085069e731" headers="d1085069e699 ">
                                       <p><code class="codeph">transformation</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1085069e731 d1085069e702 ">
                                       <p>The transformation expression must be a SQL expression or a PL/SQL function returning the type of the specified attribute of the target type. If the attribute_number is 0, then the expression must be a PL/SQL function returning an object of the target type or a constructor expression for the target type. </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the new transformation is a single expression of the target type, it may be specified with an <code class="codeph">attribute_number</code> of 0. The new transformation may also be specified for each attribute of the target type. 
                              </p>
                           </li>
                           <li>
                              <p>You can use this procedure to define the transformation as a separate expression for each attribute of the target type. For large transformations, this representation may be more readable and allow the application of fine grain control over the transformation. If the transformation expression was left unspecified for some of the attributes of the target type, they are evaluated to null when the transformation is applied.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>