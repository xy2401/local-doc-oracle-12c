<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_SQLPA package provides the interface to implement the SQL Performance Analyzer.">
      <meta name="description" content="The DBMS_SQLPA package provides the interface to implement the SQL Performance Analyzer.">
      <title>DBMS_SQLPA</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_SQLPA package provides the interface to implement the SQL Performance Analyzer.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-15T02:42:46-07:00">
      <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85717-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="DBMS_SQLDIAG.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_SQLTUNE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ARPLS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SQLDIAG.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_SQLTUNE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_SQLPA</li>
            </ol>
            <a id="GUID-9AAF3672-1CF3-4354-AF41-5BA50BA295F8" name="GUID-9AAF3672-1CF3-4354-AF41-5BA50BA295F8"></a><a id="ARPLS229"></a><a id="ARPLS229"></a>
            
            <h2 id="ARPLS-GUID-9AAF3672-1CF3-4354-AF41-5BA50BA295F8" class="sect2"><span class="enumeration_chapter">156 </span> DBMS_SQLPA
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The DBMS_SQLPA package provides the interface to implement the SQL Performance Analyzer. </p>
               <p>The chapter contains the following topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_SQLPA.html#GUID-667CF74A-E86B-4265-A724-1C2E0DD15C8E" title="The DBMS_SQLPA package provides a capacity to help users predict the impact of system environment changes on the performance of a SQL workload. The interface lets users build and then compare two different versions of the workload performance, analyze the differences between the two versions, and unmask the SQL statements that might be impacted by the changes.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLPA.html#GUID-B9BAEC64-7F97-4D22-BA48-0CE7B16F6DFB" title="This package is available to PUBLIC and performs its own security checking. All analysis task interfaces (XXX_ANALYSIS_TASK) require privilege ADVISOR.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLPA.html#GUID-69B40030-0C63-4666-B139-F2028AA1DC80" title="This table lists the DBMS_SQLPA subprograms and briefly describes them.">Summary of DBMS_SQLPA Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS68346"></a><a id="ARPLS68346"></a><div class="props_rev_3"><a id="GUID-667CF74A-E86B-4265-A724-1C2E0DD15C8E" name="GUID-667CF74A-E86B-4265-A724-1C2E0DD15C8E"></a><h3 id="ARPLS-GUID-667CF74A-E86B-4265-A724-1C2E0DD15C8E" class="sect3"><span class="enumeration_section">156.1 </span>DBMS_SQLPA Overview
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_SQLPA</code> package provides a capacity to help users predict the impact of system environment changes on the performance of a SQL workload. The interface lets users build and then compare two different versions of the workload performance, analyze the differences between the two versions, and unmask the SQL statements that might be impacted by the changes. 
                  </p>
                  <div class="section">
                     <p>The package provides a task-oriented interface to implement the SQL Performance Analyzer. For example</p>
                     <ol>
                        <li>
                           <p>You use the <a href="DBMS_SQLPA.html#GUID-9C3DB798-3F19-4467-8582-1AAFC32EC655" title="These functions create an advisor task to process and analyze one or more SQL statements.">CREATE_ANALYSIS_TASK Functions</a> to create an analysis task for a single statement or a group of SQL statements.s
                           </p>
                        </li>
                        <li>
                           <p>The <a href="DBMS_SQLPA.html#GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058" title="This function and procedure executes a previously created analysis task, the function version returning the new execution name.">EXECUTE_ANALYSIS_TASK Function &amp; Procedure</a> executes a previously created analysis task.
                           </p>
                        </li>
                        <li>
                           <p>The <a href="DBMS_SQLPA.html#GUID-8524B515-E14F-4F76-9458-F2E579D5A08B" title="This procedure displays the results of an analysis task.">REPORT_ANALYSIS_TASK Function</a> displays the results of an analysis task.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68347"></a><a id="ARPLS68347"></a><div class="props_rev_3"><a id="GUID-B9BAEC64-7F97-4D22-BA48-0CE7B16F6DFB" name="GUID-B9BAEC64-7F97-4D22-BA48-0CE7B16F6DFB"></a><h3 id="ARPLS-GUID-B9BAEC64-7F97-4D22-BA48-0CE7B16F6DFB" class="sect3"><span class="enumeration_section">156.2 </span>DBMS_SQLPA Security Model
               </h3>
               <div>
                  <p>This package is available to <code class="codeph">PUBLIC</code> and performs its own security checking. All analysis task interfaces (<code class="codeph">XXX_ANALYSIS_TASK</code>) require privilege <code class="codeph">ADVISOR</code>.
                  </p>
               </div>
            </div><a id="ARPLS68348"></a><a id="ARPLS68349"></a><a id="ARPLS68349"></a><a id="ARPLS68348"></a><div class="props_rev_3"><a id="GUID-69B40030-0C63-4666-B139-F2028AA1DC80" name="GUID-69B40030-0C63-4666-B139-F2028AA1DC80"></a><h3 id="ARPLS-GUID-69B40030-0C63-4666-B139-F2028AA1DC80" class="sect3"><span class="enumeration_section">156.3 </span>Summary of DBMS_SQLPA Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_SQLPA</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-69B40030-0C63-4666-B139-F2028AA1DC80__GUID-83A07D8B-E294-489E-AA42-8E4170417739">
                     <p class="titleintable">Table 156-1 DBMS_SQLPA Package Subprograms </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLPA Package Subprograms " summary="This table lists the DBMS_SQLPA subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="43%" id="d896579e442">Subprogram</th>
                              <th align="left" valign="bottom" width="57%" id="d896579e445">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e450" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-CBC17582-41B4-4856-986F-7F08FEDFFF94" title="This procedure cancels the currently executing analysis task. All intermediate result data is removed from the task.">CANCEL_ANALYSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e450 d896579e445 ">
                                 <p>Cancels the currently executing task analysis of one or more SQL statements</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e462" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-9C3DB798-3F19-4467-8582-1AAFC32EC655" title="These functions create an advisor task to process and analyze one or more SQL statements.">CREATE_ANALYSIS_TASK Functions</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e462 d896579e445 ">
                                 <p>Creates an advisor task to process and analyze one or more SQL statements</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e474" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-8E2AFE1D-300A-49B5-8AD2-BA26FBD74AEE" title="This procedure drops a SQL analysis task.The task and all its result data are deleted.">DROP_ANALYSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e474 d896579e445 ">
                                 <p>Drops a SQL analysis task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e486" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058" title="This function and procedure executes a previously created analysis task, the function version returning the new execution name.">EXECUTE_ANALYSIS_TASK Function &amp; Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e486 d896579e445 ">
                                 <p>Executes a previously created analysis task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e498" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-BE5A3E82-13D5-4046-BA0B-C0A029911C63" title="This procedure interrupts the currently executing analysis task. All intermediate result data will not be removed from the task.">INTERRUPT_ANALYSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e498 d896579e445 ">
                                 <p>Interrupts the currently executing analysis task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e510" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-8524B515-E14F-4F76-9458-F2E579D5A08B" title="This procedure displays the results of an analysis task.">REPORT_ANALYSIS_TASK Function</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e510 d896579e445 ">
                                 <p>Displays the results of an analysis task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e522" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-AAC78840-3899-479E-BA89-D5688A118244" title="This procedure is called on an analysis task that is not currently executing to prepare it for re-execution.">RESET_ANALYSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e522 d896579e445 ">
                                 <p>Resets the currently executing analysis task to its initial state</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e534" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-DA06D2F1-EFFC-4C50-A607-887FAE238878" title="This procedure resumes a previously interrupted or FAILED (with a fatal error) task execution.">RESUME_ANALYSIS_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e534 d896579e445 ">
                                 <p>Resumes a previously interrupted analysis task that was created to process a SQL tuning set. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e549" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-24792620-7642-48DA-9154-37D10AE58AC2" title="This procedure sets the SQL analysis task parameter value.">SET_ANALYSIS_TASK_PARAMETER Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e549 d896579e445 ">
                                 <p>Sets the SQL analysis task parameter value</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d896579e561" headers="d896579e442 ">
                                 <p><a href="DBMS_SQLPA.html#GUID-CFE070C1-80F3-4A20-96B0-3B38139338D8" title="This procedure sets the SQL analysis task parameter default value.">SET_ANALYSIS_DEFAULT_PARAMETER Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d896579e561 d896579e445 ">
                                 <p>Sets the SQL analysis task parameter default value</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS68350"></a><a id="ARPLS68351"></a><a id="ARPLS68351"></a><a id="ARPLS68350"></a><div class="props_rev_3"><a id="GUID-CBC17582-41B4-4856-986F-7F08FEDFFF94" name="GUID-CBC17582-41B4-4856-986F-7F08FEDFFF94"></a><h4 id="ARPLS-GUID-CBC17582-41B4-4856-986F-7F08FEDFFF94" class="sect4"><span class="enumeration_section">156.3.1 </span>CANCEL_ANALYSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure cancels the currently executing analysis task. All intermediate result data is removed from the task.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.CANCEL_ANALYSIS_TASK(
 task_name         IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-CBC17582-41B4-4856-986F-7F08FEDFFF94__GUID-F28D40BC-6241-46B5-9436-1316B467F119">
                           <p class="titleintable">Table 156-2 CANCEL_ANALYSIS_TASK Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CANCEL_ANALYSIS_TASK Procedure Parameters " summary="This table describes Parameters used by the DBMS_SQLPA.CANCEL_ANALYSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e680">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e683">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e688" headers="d896579e680 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e688 d896579e683 ">
                                       <p>Name of the task to cancel</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>Canceling a task when there is a need to stop it executing and it is not required to view any already-completed results:</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.CANCEL_ANALYSIS_TASK(:my_task);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68352"></a><a id="ARPLS68353"></a><a id="ARPLS68353"></a><a id="ARPLS68352"></a><div class="props_rev_3"><a id="GUID-9C3DB798-3F19-4467-8582-1AAFC32EC655" name="GUID-9C3DB798-3F19-4467-8582-1AAFC32EC655"></a><h4 id="ARPLS-GUID-9C3DB798-3F19-4467-8582-1AAFC32EC655" class="sect4"><span class="enumeration_section">156.3.2 </span>CREATE_ANALYSIS_TASK Functions
                  </h4>
                  <div>
                     <p>These functions create an advisor task to process and analyze one or more SQL statements. </p>
                     <div class="section">
                        <p>You can use different forms of this function to: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Create an analysis task for a single statement given its text.</p>
                           </li>
                           <li>
                              <p>Create an analysis task for a single statement from the cursor cache given its identifier. </p>
                           </li>
                           <li>
                              <p>Create an analysis task for a single statement from the workload repository given a range of snapshot identifiers. </p>
                           </li>
                           <li>
                              <p>Create an analysis task for a SQL tuning set.</p>
                           </li>
                        </ul>
                        <p>In all cases, the function creates an advisor task and sets its parameters. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                        <p>SQL text format. This form of the function is called to prepare the analysis of a single statement given its text.</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.CREATE_ANALYSIS_TASK(
  sql_text         IN CLOB,
  bind_list        IN sql_binds := NULL,
  parsing_schema   IN VARCHAR2  := NULL,
  task_name        IN VARCHAR2  := NULL,
  description      IN VARCHAR2  := NULL)
RETURN VARCHAR2;
</pre><p>SQL ID format. This form of the function is called to prepare the analysis of a single statement from the cursor cache given its identifier. </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.CREATE_ANALYSIS_TASK(
  sql_id           IN VARCHAR2,
  plan_hash_value  IN NUMBER    := NULL,
  task_name        IN VARCHAR2  := NULL,
  con_name         IN VARCHAR2     DEFAULT,
  description      IN VARCHAR2  := NULL)
RETURN VARCHAR2;
</pre><p>Workload Repository format. This form of the function is called to prepare the analysis of a single statement from the workload repository given a range of snapshot identifiers.</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.CREATE_ANALYSIS_TASK(
  dbid             IN NUMBER       DEFAULT,
  begin_snap       IN NUMBER,
  end_snap         IN NUMBER,
  sql_id           IN VARCHAR2,
  plan_hash_value  IN NUMBER    := NULL,
  task_name        IN VARCHAR2  := NULL,
  description      IN VARCHAR2  := NULL)
  con_name         IN VARCHAR2     DEFAULT,
RETURN VARCHAR2;
</pre><p>SQLSET format. This form of the function is called to prepare the analysis of a SQL tuning set.</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.CREATE_ANALYSIS_TASK(
  sqlset_name       IN VARCHAR2,
  basic_filter      IN VARCHAR2 :=  NULL,
  con_name          IN VARCHAR2     DEFAULT,
  order_by          IN VARCHAR2 :=  NULL,
  top_sql           IN VARCHAR2 :=  NULL,
  task_name         IN VARCHAR2 :=  NULL,
  description       IN VARCHAR2 :=  NULL
  sqlset_owner      IN VARCHAR2 :=  NULL)
RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-9C3DB798-3F19-4467-8582-1AAFC32EC655__GUID-A9C192F9-7D02-4C56-B101-020A3C4391A1">
                           <p class="titleintable">Table 156-3 <span class="italic"><span class="bold">CREATE_ANALYSIS_TASK Function Parameters </span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_ANALYSIS_TASK Function Parameters " summary="This table describes the parameters used by the DBMS_SQLPA.CREATE_ANALYSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e845">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e848">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e853" headers="d896579e845 ">
                                       <p><code class="codeph">sql_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e853 d896579e848 ">
                                       <p>Text of a SQL statement</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e861" headers="d896579e845 ">
                                       <p><code class="codeph">bind_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e861 d896579e848 ">
                                       <p>A set of bind values</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e869" headers="d896579e845 ">
                                       <p><code class="codeph">parsing_schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e869 d896579e848 ">
                                       <p>Name of the schema where the statement can be compiled</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e877" headers="d896579e845 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e877 d896579e848 ">
                                       <p>Optional analysis task name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e885" headers="d896579e845 ">
                                       <p><code class="codeph">dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e885 d896579e848 ">
                                       <p>The <code class="codeph">DBID</code> for imported or <code class="codeph">PDB-level AWR</code> data. If <code class="codeph">NULL</code>, then the current database <code class="codeph">DBID</code> is used
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e905" headers="d896579e845 ">
                                       <p><code class="codeph">con_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e905 d896579e848 ">
                                       <p>Container for the SPA task. The semantics depend on the function format:</p>
                                       <p>For the SQL ID format, this parameter specifies the container from which the database fetches the SQL statement for using with SPA. SPA will analyze the statement in this container. If null, then the database uses the current PDB for SPA analysis.</p>
                                       <p>For the AWR format, this parameter specifies the container from whose AWR data the database fetches the SQL statement for using with SPA. SPA will analyze the statement in this container. If null, then the database uses the current PDB for SPA analysis.</p>
                                       <p>The following statements are true of all function formats:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>In a non-CDB, this parameter is ignored.</p>
                                          </li>
                                          <li>
                                             <p>In a PDB, this parameter must be null or match the container name of the PDB. Otherwise, error occurs.</p>
                                          </li>
                                          <li>
                                             <p>In a CDB root, this parameter must be null or match the container name of a container in this CDB. Otherwise, error occurs.</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e929" headers="d896579e845 ">
                                       <p><code class="codeph">description</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e929 d896579e848 ">
                                       <p>Description of the SQL analysis task to a maximum of 256 characters</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e937" headers="d896579e845 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e937 d896579e848 ">
                                       <p>Identifier of a SQL statement</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e945" headers="d896579e845 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e945 d896579e848 ">
                                       <p>Hash value of the SQL execution plan</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e953" headers="d896579e845 ">
                                       <p><code class="codeph">begin_snap</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e953 d896579e848 ">
                                       <p>Begin snapshot identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e961" headers="d896579e845 ">
                                       <p><code class="codeph">end_snap</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e961 d896579e848 ">
                                       <p>End snapshot identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e970" headers="d896579e845 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e970 d896579e848 ">
                                       <p>SQL tuning set name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e978" headers="d896579e845 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e978 d896579e848 ">
                                       <p>SQL predicate to filter the SQL from the SQL tuning set</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e986" headers="d896579e845 ">
                                       <p><code class="codeph">order_by</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e986 d896579e848 ">
                                       <p>Order-by clause on the selected SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e994" headers="d896579e845 ">
                                       <p><code class="codeph">top_sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e994 d896579e848 ">
                                       <p>Top N SQL after filtering and ranking</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1002" headers="d896579e845 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1002 d896579e848 ">
                                       <p>The owner of the SQL tuning set, or <code class="codeph">NULL</code> for the current schema owner
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <p>A SQL analysis task name that is unique by user (two different users can give the same name to their advisor tasks).</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">variable stmt_task VARCHAR2(64);
variable sts_task  VARCHAR2(64);
 
-- Sql text format
EXEC :stmt_task := DBMS_SQLPA.CREATE_ANALYSIS_TASK(
     sql_text =&gt; 'select quantity_sold from sales s, times t where s.time_id = t.time_id and s.time_id = TO_DATE(''24-NOV-00'')');
 
-- Sql id format (cursor cache)
EXEC :stmt_task := DBMS_SQLPA.CREATE_ANALYSIS_TASK(
    sql_id       =&gt; 'ay1m3ssvtrh24');
 
-- Workload repository format
exec :stmt_task := DBMS_SQLPA.CREATE_ANALYSIS_TASK(
    begin_snap  =&gt; 1, 
    end_snap    =&gt; 2, 
    sql_id      =&gt; 'ay1m3ssvtrh24');
 
-- Sql tuning set format (first we need to load an STS, then analyze it)
EXEC :sts_task := DBMS_SQLPA.CREATE_ANALYSIS_TASK( -
  sqlset_name    =&gt;   'my_workload', -
  order_by       =&gt;   'BUFFER_GETS', -
  description    =&gt;   'process workload ordered by buffer gets'); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68354"></a><a id="ARPLS68355"></a><a id="ARPLS68355"></a><a id="ARPLS68354"></a><div class="props_rev_3"><a id="GUID-8E2AFE1D-300A-49B5-8AD2-BA26FBD74AEE" name="GUID-8E2AFE1D-300A-49B5-8AD2-BA26FBD74AEE"></a><h4 id="ARPLS-GUID-8E2AFE1D-300A-49B5-8AD2-BA26FBD74AEE" class="sect4"><span class="enumeration_section">156.3.3 </span>DROP_ANALYSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure drops a SQL analysis task.The task and all its result data are deleted.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.DROP_ANALYSIS_TASK(
 task_name         IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-8E2AFE1D-300A-49B5-8AD2-BA26FBD74AEE__GUID-98722473-9441-4DBC-A308-D23AC3EB74D0">
                           <p class="titleintable">Table 156-4 DROP_ANALYSIS_TASK Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_ANALYSIS_TASK Procedure Parameters " summary="This table describes Parameters used by the DBMS_SQLPA.DROP_TUNING_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e1130">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e1133">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1138" headers="d896579e1130 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1138 d896579e1133 ">
                                       <p>The name of the analysis task to drop</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68356"></a><a id="ARPLS68357"></a><a id="ARPLS68358"></a><a id="ARPLS68359"></a><a id="ARPLS68360"></a><a id="ARPLS68361"></a><a id="ARPLS68362"></a><a id="ARPLS68357"></a><a id="ARPLS68358"></a><a id="ARPLS68359"></a><a id="ARPLS68360"></a><a id="ARPLS68361"></a><a id="ARPLS68362"></a><a id="ARPLS68356"></a><div class="props_rev_3"><a id="GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058" name="GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058"></a><h4 id="ARPLS-GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058" class="sect4"><span class="enumeration_section">156.3.4 </span>EXECUTE_ANALYSIS_TASK Function &amp; Procedure
                  </h4>
                  <div>
                     <p>This function and procedure executes a previously created analysis task, the function version returning the new execution name.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.EXECUTE_ANALYSIS_TASK(
   task_name         IN VARCHAR2,
   execution_type    IN VARCHAR2               := 'test execute',
   execution_name    IN VARCHAR2               := NULL,
   execution_params  IN dbms_advisor.argList   := NULL,
   execution_desc    IN VARCHAR2               := NULL)
 RETURN VARCHAR2;
</pre><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.EXECUTE_ANALYSIS_TASK(
   task_name         IN VARCHAR2,
   execution_type    IN VARCHAR2               := 'test execute',
   execution_name    IN VARCHAR2               := NULL,
   execution_params  IN dbms_advisor.argList   := NULL,
   execution_desc    IN VARCHAR2               := NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058__GUID-230162A8-05B9-49F2-AB3E-23E335EDA6F7">
                           <p class="titleintable">Table 156-5 EXECUTE_ANALYSIS_TASK Function &amp; Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXECUTE_ANALYSIS_TASK Function &amp; Procedure Parameters " summary="This table describes the parameters used by the DBMS_SQLPA.EXECUTE_ANALYSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e1266">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e1269">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1274" headers="d896579e1266 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1274 d896579e1269 ">
                                       <p>Identifier of the task to execute</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1282" headers="d896579e1266 ">
                                       <p><code class="codeph">execution_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1282 d896579e1269 ">
                                       <p>Type of the action to perform by the function. If <code class="codeph">NULL</code> it will default to the value of the <code class="codeph">DEFAULT_EXECUTION_TYPE</code> parameter. Possible values are: 
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">[TEST]</code> <code class="codeph">EXECUTE</code> - test-execute every SQL statement and collect its execution plans and execution statistics. The resulting plans and statistics will be stored in the advisor framework. This is default. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> - generate explain plan for every statement in the SQL workload. This is similar to the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> command. The resulting plans will be stored in the advisor framework in association with the task. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COMPARE</code> <code class="codeph">[PERFORMANCE]</code> - analyze and compare two versions of SQL performance data. The performance data is generated by test-executing or generating explain plan of the SQL statements. Use this option when two executions of type <code class="codeph">EXPLAIN_PLAN</code> or <code class="codeph">TEST_EXECUTE</code> already exist in the task
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CONVERT SQLSET</code> - used to read the statistics captured in a SQL Tuning Set and model them as a task execution. This can be used when you wish to avoid executing the SQL statements because valid data for the experiment already exists in the SQL Tuning Set.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1338" headers="d896579e1266 ">
                                       <p><code class="codeph">execution_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1338 d896579e1269 ">
                                       <p>A name to qualify and identify an execution. If not specified, it will be generated by the advisor and returned by function.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1346" headers="d896579e1266 ">
                                       <p><code class="codeph">execution_params</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1346 d896579e1269 ">
                                       <p>List of parameters (name, value) for the specified execution. The execution parameters have effect only on the execution for which they are specified. They will override the values for the parameters stored in the task (set through the <a href="DBMS_SQLPA.html#GUID-CFE070C1-80F3-4A20-96B0-3B38139338D8" title="This procedure sets the SQL analysis task parameter default value.">SET_ANALYSIS_DEFAULT_PARAMETER Procedures</a>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1361" headers="d896579e1266 ">
                                       <p><code class="codeph">execution_desc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1361 d896579e1269 ">
                                       <p>A 256-length string describing the execution</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>SQL performance analyzer task can be executed multiples times without having to reset it. For example, when a task is created to perform a change impact analysis on a SQL workload, the created task has to be executed before making any change in the system environment to build a version of the workload that will be used as a reference for performance analysis. Once the change has been made, a second execution is required to build the post-change version of the workload. Finally, the task has to be executed a third time to let the advisor analyze and compare the performance of the workload in both versions.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p>
                        <p>1. Create a task with a purpose of change impact analysis</p><pre class="oac_no_warn" dir="ltr">EXEC :tname := DBMS_SQLPA.CREATE_ANALYSIS_TASK(
    sqlset_name     =&gt; 'my_sts');</pre><p>2. Make baseline or the before change execution</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.EXECUTE_ANALYSIS_TASK(
    task_name       =&gt; :tname,
    execution_type  =&gt; 'test execute', 
    execution_name  =&gt; 'before_change');</pre><p>3. Make change</p><pre class="oac_no_warn" dir="ltr">...</pre><p>4. Make the after change version of the workload performance</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.EXECUTE_ANALYSIS_TASK(
   task_name          =&gt; :tname, -
   execution_type     =&gt; 'test execute',
   execution_name     =&gt; 'after_change')</pre><p>5. Compare the two versions of the workload</p>
                        <p>By default we always compare the results of the two last executions. The SQL Performance Analyzer uses the <code class="codeph">elapsed_time</code> as a default metric for comparison. Here we are changing it to <code class="codeph">buffer_gets</code> instead.
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(
   :tname,'comparison_metric', 'buffer_gets');
EXEC DBMS_SQLPA.EXECUTE_ANALYSIS_TASK(
   task_name         =&gt; :tname, -
   execution_type    =&gt; 'compare performance', - 
   execution_name    =&gt; 'after_change');
</pre><p>Use the following call if you would like to explicitly specify the two executions to compare as well as the comparison metric to use.</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.EXECUTE_ANALYSIS_TASK(
   task_name        =&gt; :tname, -
   execution_type   =&gt; 'compare performance', 
   execution_params =&gt; dbms_advisor.arglist(
      'execution_name1', 
      'before_change', 
      'execution_name2', 
      'after_change',
      'comparison_metric', 
      'buffer_gets'));</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68363"></a><a id="ARPLS68364"></a><a id="ARPLS68364"></a><a id="ARPLS68363"></a><div class="props_rev_3"><a id="GUID-BE5A3E82-13D5-4046-BA0B-C0A029911C63" name="GUID-BE5A3E82-13D5-4046-BA0B-C0A029911C63"></a><h4 id="ARPLS-GUID-BE5A3E82-13D5-4046-BA0B-C0A029911C63" class="sect4"><span class="enumeration_section">156.3.5 </span>INTERRUPT_ANALYSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure interrupts the currently executing analysis task. All intermediate result data will not be removed from the task. </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.INTERRUPT_ANALYSIS_TASK(
   task_name         IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-BE5A3E82-13D5-4046-BA0B-C0A029911C63__GUID-2E416B00-C10A-41AF-A1A4-4A15F03C40C7">
                           <p class="titleintable">Table 156-6 INTERRUPT_ANALYSIS_TASK Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INTERRUPT_ANALYSIS_TASK Procedure Parameters " summary="This table describes the parameters used by the DBMS_SQLPA.INTERRUPT_ANALYSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e1518">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e1521">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1526" headers="d896579e1518 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1526 d896579e1521 ">
                                       <p>Identifier of the analysis task to interrupt</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.INTERRUPT_ANALYSIS_TASK(:my_task);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68365"></a><a id="ARPLS68366"></a><a id="ARPLS68366"></a><a id="ARPLS68365"></a><div class="props_rev_3"><a id="GUID-8524B515-E14F-4F76-9458-F2E579D5A08B" name="GUID-8524B515-E14F-4F76-9458-F2E579D5A08B"></a><h4 id="ARPLS-GUID-8524B515-E14F-4F76-9458-F2E579D5A08B" class="sect4"><span class="enumeration_section">156.3.6 </span>REPORT_ANALYSIS_TASK Function
                  </h4>
                  <div>
                     <p>This procedure displays the results of an analysis task.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.REPORT_ANALYSIS_TASK(
   task_name       IN   VARCHAR2,
   type            IN   VARCHAR2   := 'TEXT',
   level           IN   VARCHAR2   := 'TYPICAL',
   section         IN   VARCHAR2   := 'SUMMARY',
   object_id       IN   NUMBER     := NULL,
   top_sql         IN   NUMBER     := 100,
   execution_name  IN   VARCHAR2   := NULL,
   task_owner      IN   VARCHAR2   := NULL,
   order_by        IN   VARCHAR2   := NULL)
RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-8524B515-E14F-4F76-9458-F2E579D5A08B__GUID-3BF7830F-2A69-4F29-8B9D-3D78DCDFDC61">
                           <p class="titleintable">Table 156-7 REPORT_ANALYSIS_TASK Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_ANALYSIS_TASK Function Parameters " summary="This table describes the parameters used by the DBMS_SQLPA.REPORT_ANALYSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e1646">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e1649">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1654" headers="d896579e1646 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1654 d896579e1649 ">
                                       <p>Name of the task to report</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1662" headers="d896579e1646 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1662 d896579e1649 ">
                                       <p>Type of the report to produce. Possible values are <code class="codeph">TEXT</code> (default), <code class="codeph">HTML</code>, <code class="codeph">XML</code> and <code class="codeph">ACTIVE</code> (see Usage Notes). 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1682" headers="d896579e1646 ">
                                       <p><code class="codeph">level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1682 d896579e1649 ">
                                       <p>Level of detail in the report:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">ALL</code> - details of all SQL
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC</code> - currently the same as typical
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CHANGED</code> - only SQL with changed performance
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CHANGED_PLANS</code> - only SQL with plan changes
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ERRORS</code> - SQL with errors only
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IMPROVED</code> - only improved SQL
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REGRESSED</code> - only regressed SQL
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TIMEOUT</code> - only SQL which timed-out during execution
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> (default) - show information about every statement analyzed, including changing and errors
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">UNCHANGED</code> - only SQL with unchanged performance
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">UNCHANGED_PLANS</code> - only SQL with unchanged plans
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">UNSUPPORTED</code> - only SQL not supported by SPAs
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1752" headers="d896579e1646 ">
                                       <p><code class="codeph">section</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1752 d896579e1649 ">
                                       <p>Optionally limit the report to a single section (<code class="codeph">ALL</code> for all sections):
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SUMMARY</code> (default) - workload summary only
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> - summary and details on SQL
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1774" headers="d896579e1646 ">
                                       <p><code class="codeph">object_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1774 d896579e1649 ">
                                       <p>Identifier of the advisor framework object that represents a given SQL in a tuning set (STS)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1782" headers="d896579e1646 ">
                                       <p><code class="codeph">top_sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1782 d896579e1649 ">
                                       <p>Number of SQL statements in a STS for which the report is generated</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1790" headers="d896579e1646 ">
                                       <p><code class="codeph">execution_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1790 d896579e1649 ">
                                       <p>Name of the task execution to use. If <code class="codeph">NULL</code>, the report will be generated for the last task execution.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1801" headers="d896579e1646 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1801 d896579e1649 ">
                                       <p>Owner of the relevant analysis task. Defaults to the current schema owner.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1809" headers="d896579e1646 ">
                                       <p><code class="codeph">order_by</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1809 d896579e1649 ">
                                       <p>How to sort SQL statements in the report (summary and body). Possible values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">CHANGE_DIFF</code> - sort SQL statements by change difference in SQL performance in terms of the comparison Metric
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> (default) - order SQL statement by impact on workload
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_IMPACT</code> - order SQL statement by change impact on SQL
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">WORKLOAD_IMPACT</code> - same as <code class="codeph">NULL</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">METRIC_DELTA</code> - same as <code class="codeph">CHANGE_DIFF</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <p>A <code class="codeph">CLOB</code> containing the desired report.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p><code class="codeph">ACTIVE</code> reports have a rich, interactive user interface similar to Enterprise Manager while not requiring any EM installation. The report file built is in <code class="codeph">HTML</code> format so it can be interpreted by most modern browsers. The code powering the active report is downloaded transparently by the web browser when the report is first viewed, hence viewing it requires outside connectivity.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">-- Get the whole report for the single statement case.
SELECT DBMS_SQLPA.REPORT_ANALYSIS_TASK(:stmt_task) from dual;
 
-- Show me the summary for the sts case.
SELECT DBMS_SQLPA.REPORT_ANALYSIS_TASK(:sts_task, 'TEXT', 'TYPICAL', 'SUMMARY')
FROM DUAL;
 
-- Show me the findings for the statement I'm interested in.
SELECT DBMS_SQLPA.REPORT_ANALYSIS_TASK(:sts_task, 'TEXT', 'TYPICAL', 'ALL', 5) from dual;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68367"></a><a id="ARPLS68368"></a><a id="ARPLS68368"></a><a id="ARPLS68367"></a><div class="props_rev_3"><a id="GUID-AAC78840-3899-479E-BA89-D5688A118244" name="GUID-AAC78840-3899-479E-BA89-D5688A118244"></a><h4 id="ARPLS-GUID-AAC78840-3899-479E-BA89-D5688A118244" class="sect4"><span class="enumeration_section">156.3.7 </span>RESET_ANALYSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure is called on an analysis task that is not currently executing to prepare it for re-execution. </p>
                     <div class="section">
                        <p>All intermediate result data will be deleted.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.RESET_ANALYSIS_TASK(
 task_name         IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-AAC78840-3899-479E-BA89-D5688A118244__GUID-4487F3DB-8C14-439F-9C29-96C89D1BFC34">
                           <p class="titleintable">Table 156-8 RESET_ANALYSIS_TASK Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESET_ANALYSIS_TASK Procedure Parameters " summary="This table describes the parameters used by the DBMS_SQLPA.RESET_ANALYSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e1980">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e1983">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e1988" headers="d896579e1980 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e1988 d896579e1983 ">
                                       <p>Identifier of the analysis task to reset</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">-- reset and re-execute a task
EXEC DBMS_SQLPA.RESET_ANALYSIS_TASK(:sts_task);
 
-- re-execute the task
EXEC DBMS_SQLPA.EXECUTE_ANALYSIS_TASK(:sts_task);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68369"></a><a id="ARPLS68370"></a><a id="ARPLS68370"></a><a id="ARPLS68369"></a><div class="props_rev_3"><a id="GUID-DA06D2F1-EFFC-4C50-A607-887FAE238878" name="GUID-DA06D2F1-EFFC-4C50-A607-887FAE238878"></a><h4 id="ARPLS-GUID-DA06D2F1-EFFC-4C50-A607-887FAE238878" class="sect4"><span class="enumeration_section">156.3.8 </span>RESUME_ANALYSIS_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure resumes a previously interrupted or <code class="codeph">FAILED</code> (with a fatal error) task execution. 
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.RESUME_ANALYSIS_TASK(
 task_name         IN VARCHAR2,
 basic_filter      IN VARCHAR2 := NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-DA06D2F1-EFFC-4C50-A607-887FAE238878__GUID-FEF1B95E-2319-44B9-9E8B-5A3DE8DF3408">
                           <p class="titleintable">Table 156-9 RESUME_ANALYSIS_TASK Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESUME_ANALYSIS_TASK Procedure Parameters " summary="This table describes the parameters used by the DBMS_SQLPA.RESUME_ANALYSIS_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e2112">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e2115">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2120" headers="d896579e2112 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2120 d896579e2115 ">
                                       <p>Identifier of the analysis task to resume</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2128" headers="d896579e2112 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2128 d896579e2115 ">
                                       <p>A SQL predicate to filter the SQL from the SQL tuning set. Note that this filter will be applied in conjunction with the basic filter (parameter <code class="codeph">basic_filter</code>) that was specified when calling the <a href="DBMS_SQLPA.html#GUID-9C3DB798-3F19-4467-8582-1AAFC32EC655" title="These functions create an advisor task to process and analyze one or more SQL statements.">CREATE_ANALYSIS_TASK Functions</a>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>Resuming a single SQL analysis task (a task that was created to analyze a single SQL statement as compared to a SQL Tuning Set) is not supported.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">-- Interrupt the task
EXEC DBMS_SQLPA.INTERRUPT_ANALYSIS_TASK(:conc_task);
 
-- Once a task is interrupted, we can elect to reset it, resume it, or check
-- out its results and then decide.  For this example we will just resume.
 
EXEC DBMS_SQLPA.RESUME_ANALYSIS_TASK(:conc_task);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68371"></a><a id="ARPLS68372"></a><a id="ARPLS68372"></a><a id="ARPLS68371"></a><div class="props_rev_3"><a id="GUID-24792620-7642-48DA-9154-37D10AE58AC2" name="GUID-24792620-7642-48DA-9154-37D10AE58AC2"></a><h4 id="ARPLS-GUID-24792620-7642-48DA-9154-37D10AE58AC2" class="sect4"><span class="enumeration_section">156.3.9 </span>SET_ANALYSIS_TASK_PARAMETER Procedures
                  </h4>
                  <div>
                     <p>This procedure sets the SQL analysis task parameter value.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                        <p>This form of the procedure updates the value of a SQL analysis parameter of type <code class="codeph">VARCHAR2</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(
  task_name         IN VARCHAR2,
  parameter         IN VARCHAR2,
  value             IN VARCHAR2);
</pre><p>This form of the procedure updates the value of a SQL analysis parameter of type <code class="codeph">NUMBER</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(
  task_name         IN VARCHAR2,
  parameter         IN VARCHAR2,
  value             IN NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-24792620-7642-48DA-9154-37D10AE58AC2__GUID-7E219FE3-09A6-4EBE-835E-BC43BCC71FE8">
                           <p class="titleintable">Table 156-10 SET_ANALYSIS_TASK_PARAMETER Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ANALYSIS_TASK_PARAMETER Procedure Parameters " summary="This table describes the parameters used by the DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e2275">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e2278">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2283" headers="d896579e2275 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2283 d896579e2278 ">
                                       <p>Identifier of the task to execute</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2291" headers="d896579e2275 ">
                                       <p><code class="codeph">parameter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2291 d896579e2278 ">
                                       <p>Name of the parameter to set. The possible analysis parameters that can be set by this procedure are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">APPLY_CAPTURED_COMPILENV</code>: indicates whether the advisor could use the compilation environment captured with the SQL statements. The default is 0 (that is, <code class="codeph">NO</code>). 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC_FILTER</code>: basic filter for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CELL_SIMULATION_ENABLED</code>: for more details, see the helper script <code class="codeph">tcellsim.sql</code> in the <code class="codeph">ADMIN</code> directory. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COMPARISON_METRIC</code>: specify an expression of execution statistics to use in performance comparison (Example: <code class="codeph">buffer_gets</code>, <code class="codeph">cpu_time</code> + <code class="codeph">buffer_gets</code> * 10)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DATABASE_LINK</code>: can be set to the global name of a <code class="codeph">PUBLIC</code> database link. When it is set, SQL Performance Analyzer will use the database link for all <code class="codeph">TEST EXECUTE</code> and <code class="codeph">EXPLAIN PLAN</code> operations by sending the SQL statements to the remote database to be processed remotely. The analysis results will still be stored on the local database.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DAYS_TO_EXPIRE</code>: number of days until the task is deleted
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT_EXECUTION_TYPE</code>: the task will default to this type of execution when none is specified by the <a href="DBMS_SQLPA.html#GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058" title="This function and procedure executes a previously created analysis task, the function version returning the new execution name.">EXECUTE_ANALYSIS_TASK Function &amp; Procedure</a>.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2369" headers="d896579e2275 ">
                                       <p><code class="codeph">parameter</code> (contd.)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2369 d896579e2278 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">DISABLE_MULTI_EXEC</code>: SQL statements are executed multiple times and runtime statistics are then averaged. Set this parameter to <code class="codeph">TRUE</code> to disable this capability. In this case, each SQL in the SQL tuning set is executed only once. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTE_TRIGGERS</code>: Set this parameter to <code class="codeph">TRUE</code> to execute all statement-level triggers in the FULLDML mode. If the parameter is set to <code class="codeph">FALSE</code>, then the triggers will not be executed even in FULLDML mode of test execution. Any changes incurred due to potential execution of triggers are always rolled back by SPA. The default value of this parameter is <code class="codeph">FALSE</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTION_DAYS_TO_EXPIRE</code>: number of days until the tasks's executions will be deleted (without deleting the task) 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTE_FULLDML</code>: <code class="codeph">TRUE</code> to execute DML statement fully, including acquiring row locks and modifying rows; <code class="codeph">FALSE</code> (default) to execute only the query part of the DML without modifying data. When <code class="codeph">TRUE</code>, SQL Performance Analyzer will issue a rollback following DML execution to prevent persistent changes from being made by the DML.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTION_NAME1</code>: name of the first task execution to analyze
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTION_NAME2</code>: name of the second task execution to analyze
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LOCAL_TIME_LIMIT</code>: per-statement time out (seconds)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">METRIC_DELTA_THRESHOLD</code>: threshold of the difference between the SQL performance metric before and after the change. The default value is zero.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NUM_ROWS_TO_FETCH</code>: specifies the number of rows to be fetched for an SQL query. You can use one of the following values:
                                             </p>
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><code class="codeph">ALL_ROWS</code>: Fetches all the rows for an SQL query
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">AVERAGE</code>: Number of result rows is calculated as the ratio of total rows processed and total executions for each SQL in the STS
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">AUTO</code>: Number of result rows is determined using the value of <code class="codeph">optimizer_mode</code> parameter of the optimizer environment captured in the STS. If the value of <code class="codeph">optimizer_mode</code> is <code class="codeph">ALL_ROWS</code>, then all result rows will be fetched. If its value is <code class="codeph">FIRST_ROWS_n</code>, then <code class="codeph">n</code> result rows will be fetched by the SPA.
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">A valid number</code>: Fetches the exact number of rows specified by in the SQL query
                                                   </p>
                                                </li>
                                             </ul>
                                             <p>The default value is <code class="codeph">ALL_ROWS</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN_FILTER</code>: plan filter for SQL tuning set (see <code class="codeph">SELECT_SQLSET</code> for possible values)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN_LINES_COMPARISON</code>: 
                                             </p>
                                             <p>- <code class="codeph">ALWAYS</code> --line by line comparison of plans in all scenarios.- <code class="codeph">AUTO</code> -Line by Line comparison of plans only if <code class="codeph">phv2</code> is not available and <code class="codeph">phv1</code> is different- <code class="codeph">NONE</code> (default) - line by line comparison of plans only if <code class="codeph">phv</code> is unknown
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE1</code>: first ranking measure for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE2</code>: second possible ranking measure for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE3</code>: third possible ranking measure for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REPLACE_SYSDATE_WITH</code>: Returns a fixed date for all calls to <code class="codeph">SYSDATE</code> within the SPA task execution. You can use one of the following values:
                                             </p>
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><code class="codeph">CURRENT_SYSDATE</code>: <code class="codeph">SYSDATE</code> calls return the current date.
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQLSET_SYSDATE</code>: <code class="codeph">SYSDATE</code> calls return the value of the column <code class="codeph">LAST_EXEC_START_TIME</code> in the STS
                                                   </p>
                                                </li>
                                             </ul>
                                             <p>The default value is <code class="codeph">CURRENT_SYSDATE</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RESUME_FILTER</code>: a extra filter for SQL tuning sets besides <code class="codeph">BASIC_FILTER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_IMPACT_THRESHOLD</code>: threshold of a change impact on a SQL statement. Same as the previous parameter, but at the level of the SQL statement.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_LIMIT</code>: maximum number of SQL statements to process
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_PERCENTAGE</code>: percentage filter of SQL tuning set statements
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQLSET_NAME</code>: name of the SQL tuning set to associate to the specified task or task execution. This parameter is mainly using in comparing two SQL tuning sets using SPA.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQLSET_OWNER</code>: owner of the SQL tuning set specified using task parameter <code class="codeph">SQLSET_NAME</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TIME_LIMIT</code>: global time out (seconds)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2607" headers="d896579e2275 ">
                                       <p><code class="codeph">parameter</code> (contd.)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2607 d896579e2278 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">WORKLOAD_IMPACT_THRESHOLD</code>: threshold of a SQL statement impact on a workload. Statements which workload change impact is below the absolute value of this threshold will be ignored and not considered for improvement or regression.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CON_DBID_MAPPING</code>: provide a mapping of multitenant container database (CDB) IDs. When it is set, SQL Performance Analyzer uses the new CDB ID when it finds a match for the old CDB ID and executes the SQL in that container. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2625" headers="d896579e2275 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2625 d896579e2278 ">
                                       <p>New value of the specified parameter</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68373"></a><a id="ARPLS68374"></a><a id="ARPLS68374"></a><a id="ARPLS68373"></a><div class="props_rev_3"><a id="GUID-CFE070C1-80F3-4A20-96B0-3B38139338D8" name="GUID-CFE070C1-80F3-4A20-96B0-3B38139338D8"></a><h4 id="ARPLS-GUID-CFE070C1-80F3-4A20-96B0-3B38139338D8" class="sect4"><span class="enumeration_section">156.3.10 </span>SET_ANALYSIS_DEFAULT_PARAMETER Procedures
                  </h4>
                  <div>
                     <p>This procedure sets the SQL analysis task parameter default value.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p>
                        <p>This form of the procedure updates the default value of an analyzer parameter of type <code class="codeph">VARCHAR2</code>.
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.SET_ANALYSIS_DEFAULT_PARAMETER(
   parameter    IN  VARCHAR2,
   value        IN  VARCHAR2);
</pre><p>This form of the procedure updates the <code class="codeph">default</code> value of an analyzer parameter of type <code class="codeph">NUMBER</code>.
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLPA.SET_ANALYSIS_DEFAULT_PARAMETER(
   parameter    IN  VARCHAR2,
   value        IN  NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-CFE070C1-80F3-4A20-96B0-3B38139338D8__GUID-4E604043-CCB2-46AF-8524-F5A81CBE7AF7">
                           <p class="titleintable">Table 156-11 SET_ANALYSIS_DEFAULT_PARAMETER Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ANALYSIS_DEFAULT_PARAMETER Procedure Parameters " summary="This table describes Parameters used by the DBMS_SQLPA.SET_ANALYSIS_DEFAULT_PARAMETER subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896579e2755">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d896579e2758">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2763" headers="d896579e2755 ">
                                       <p><code class="codeph">parameter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2763 d896579e2758 ">
                                       <p>Name of the parameter to set. The possible analysis parameters that can be set by this procedure are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">APPLY_CAPTURED_COMPILENV</code>: indicates whether the advisor could use the compilation environment captured with the SQL statements. The default is 0 (that is, <code class="codeph">NO</code>). 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC_FILTER</code>: basic filter for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COMPARISON_METRIC</code>: specify an expression of execution statistics to use in performance comparison (Example: <code class="codeph">buffer_gets</code>, <code class="codeph">cpu_time</code> + <code class="codeph">buffer_gets</code> * 10)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DATABASE_LINK</code>: can be set to the global name of a <code class="codeph">PUBLIC</code> database link. When it is set, SQL Performance Analyzer will use the database link for all <code class="codeph">TEST EXECUTE</code> and <code class="codeph">EXPLAIN PLAN</code> operations by sending the SQL statements to the remote database to be processed remotely. The analysis results will still be stored on the local database.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DAYS_TO_EXPIRE</code>: number of days until the task is deleted
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DEFAULT_EXECUTION_TYPE</code>: the task will default to this type of execution when none is specified by the <a href="DBMS_SQLPA.html#GUID-7A8BB3B0-89B5-49A7-99A8-59AA0F939058" title="This function and procedure executes a previously created analysis task, the function version returning the new execution name.">EXECUTE_ANALYSIS_TASK Function &amp; Procedure</a>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTE_FULLDML</code>: <code class="codeph">TRUE</code> to execute DML statement fully, including acquiring row locks and modifying rows; <code class="codeph">FALSE</code> (default) to execute only the query part of the DML without modifying data. When <code class="codeph">TRUE</code>, SQL Performance Analyzer will issue a rollback following DML execution to prevent persistent changes from being made by the DML.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTION_DAYS_TO_EXPIRE</code>: number of days until the tasks's executions will be deleted (without deleting the task) 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTION_NAME1</code>: name of the first task execution to analyze
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXECUTION_NAME2</code>: name of the second task execution to analyze
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LOCAL_TIME_LIMIT</code>: per-statement time out (seconds)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2864" headers="d896579e2755 ">
                                       <p><code class="codeph">parameter</code> (contd.)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2864 d896579e2758 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">PLAN_FILTER</code>: plan filter for SQL tuning set (see <code class="codeph">SELECT_SQLSET</code> for possible values)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE1</code>: first ranking measure for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE2</code>: second possible ranking measure for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RANK_MEASURE3</code>: third possible ranking measure for SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RESUME_FILTER</code>: a extra filter for SQL tuning sets besides <code class="codeph">BASIC_FILTER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_IMPACT_THRESHOLD</code>: threshold of a change impact on a SQL statement. Same as the previous parameter, but at the level of the SQL statement.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_LIMIT</code>: maximum number of SQL statements to process
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_PERCENTAGE</code>: percentage filter of SQL tuning set statements
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TIME_LIMIT</code>: global time out (seconds)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">WORKLOAD_IMPACT_THRESHOLD</code>: threshold of a SQL statement impact on a workload. Statements which workload change impact is below the absolute value of this threshold will be ignored and not considered for improvement or regression.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896579e2927" headers="d896579e2755 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896579e2927 d896579e2758 ">
                                       <p>New value of the specified parameter</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>