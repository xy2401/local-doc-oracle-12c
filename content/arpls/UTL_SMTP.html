<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The UTL_SMTP package is designed for sending electronic mails (e-mails) over Simple Mail Transfer Protocol (SMTP) as specified by RFC821.">
      <meta name="description" content="The UTL_SMTP package is designed for sending electronic mails (e-mails) over Simple Mail Transfer Protocol (SMTP) as specified by RFC821.">
      <title>UTL_SMTP</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The UTL_SMTP package is designed for sending electronic mails (e-mails) over Simple Mail Transfer Protocol (SMTP) as specified by RFC821.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-03-15T02:42:46-07:00">
      <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
      <meta name="dcterms.dateCopyrighted" content="1996, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85717-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="UTL_REF.html" title="Previous" type="text/html">
      <link rel="next" href="UTL_SPADV.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ARPLS">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="UTL_REF.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="UTL_SPADV.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> UTL_SMTP</li>
            </ol>
            <a id="GUID-F0065C52-D618-4F8A-A361-7B742D44C520" name="GUID-F0065C52-D618-4F8A-A361-7B742D44C520"></a><a id="ARPLS074"></a><a id="ARPLS074"></a>
            
            <h2 id="ARPLS-GUID-F0065C52-D618-4F8A-A361-7B742D44C520" class="sect2"><span class="enumeration_chapter">273 </span> UTL_SMTP
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">UTL_SMTP</code> package is designed for sending electronic mails (e-mails) over Simple Mail Transfer Protocol (SMTP) as specified by RFC821. 
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-638A0E4D-D120-46A8-BCA9-19291C32203A" title="The UTL_SMTP protocol consists of a set of commands for an e-mail client to dispatch e-mails to an SMTP server. The UTL_SMTP package provides interfaces to the SMTP commands.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-6F87C808-7CEF-48C6-A4BF-4160CB184FD0" title="This package is an invoker's rights package. The invoking user must have the connect privilege granted in the access control list assigned to the remote network host to which the user must connect.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-B0C7BCD3-FF6B-4BA8-8169-566F797A0666" title="UTL_SMTP defines several constants to use when specifying parameter values.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">Types</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-F276839D-E9F1-4FBD-951E-4176EF7DD9AA" title="SMTP servers send reply codes that indicate message or server status.">Reply Codes</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-B52A0EDB-F20B-46BF-8C86-7E880FEAEC85" title="An SMTP connection is initiated by a call to OPEN_CONNECTION Functions which returns a SMTP connection.">UTL_SMTP Operational Notes</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-1A09B588-295E-4414-A374-2824B4A40FF9" title="This table lists the exceptions that can be raised by the interface of the UTL_SMTP package.">Exceptions</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-8FA9313E-7041-45F0-97C5-5F133F8A8BE0" title="The API imposes no imitation or range-checking. However, you must be aware of the limitations on various elements of SMTP. Sending data that exceed these limits may result in errors returned by the server.">Rules and Limits</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-85394BA6-A592-4F14-BE92-51C5D15AC720" title="This example illustrates how UTL_SMTP is used by an application to send e-mail. The application connects to an SMTP server at port 25 and sends a simple text message.">Examples</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_SMTP.html#GUID-BBBEE5B1-AE6E-49B5-B241-D26334EE49D0" title="This table lists the UTL_SMTP subprograms and briefly describes them.">Summary of UTL_SMTP Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-F0065C52-D618-4F8A-A361-7B742D44C520__GUID-82C829AC-746F-4404-869D-1627FD33C417">
                  <p class="notep1">See Also:</p>
                  <p><a href="../adfns/web-applications.html#ADFNS-GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F"><span><cite>Oracle Database Development Guide</cite></span></a></p>
               </div>
            </div><a id="ARPLS71460"></a><a id="ARPLS71460"></a><div class="props_rev_3"><a id="GUID-638A0E4D-D120-46A8-BCA9-19291C32203A" name="GUID-638A0E4D-D120-46A8-BCA9-19291C32203A"></a><h3 id="ARPLS-GUID-638A0E4D-D120-46A8-BCA9-19291C32203A" class="sect3"><span class="enumeration_section">273.1 </span>UTL_SMTP Overview
               </h3>
               <div>
                  <p>The <code class="codeph">UTL_SMTP</code> protocol consists of a set of commands for an e-mail client to dispatch e-mails to an SMTP server. The <code class="codeph">UTL_SMTP</code> package provides interfaces to the SMTP commands.
                  </p>
                  <div class="section">
                     <p>For many of the commands, the package provides both a procedural and a functional interface. The functional form returns the reply from the server for processing by the client. The procedural form checks the reply and raises an exception if the reply indicates a transient (400-range reply code) or permanent error (500-range reply code). Otherwise, it discards the reply.</p>
                     <p>Note that the original SMTP protocol communicates using 7-bit ASCII. Using <code class="codeph">UTL_SMTP</code>, all text data (in other words, those in <code class="codeph">VARCHAR2</code>) is converted to US7ASCII before it is sent to the server. Some implementations of SMTP servers that support SMTP extension 8BITMIME [RFC1652] support full 8-bit communication between client and server. The body of the DATA command can be transferred in full 8 bits, but the rest of the SMTP command and response must be in 7 bits. When the target SMTP server supports 8BITMIME extension, users of multibyte databases may convert their non-US7ASCII, multibyte <code class="codeph">VARCHAR2</code> data to <code class="codeph">RAW</code> and use the <code class="codeph">WRITE_RAW_DATA</code> subprogram to send multibyte data using 8-bit MIME encoding. 
                     </p>
                     <p><code class="codeph">UTL_SMTP</code> provides for SMTP communication as specified in RFC821, but does not provide an API to format the content of the message according to RFC 822 (for example, setting the subject of an electronic mail). You must format the message appropriately. In addition, <code class="codeph">UTL_SMTP</code> does not have the functionality to implement an SMTP server for an e-mail clients to send e-mails using SMTP.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71461"></a><a id="ARPLS71461"></a><div class="props_rev_3"><a id="GUID-6F87C808-7CEF-48C6-A4BF-4160CB184FD0" name="GUID-6F87C808-7CEF-48C6-A4BF-4160CB184FD0"></a><h3 id="ARPLS-GUID-6F87C808-7CEF-48C6-A4BF-4160CB184FD0" class="sect3"><span class="enumeration_section">273.2 </span>UTL_SMTP Security Model
               </h3>
               <div>
                  <p>This package is an invoker's rights package. The invoking user must have the <code class="codeph">connect</code> privilege granted in the access control list assigned to the remote network host to which the user must connect. 
                  </p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-6F87C808-7CEF-48C6-A4BF-4160CB184FD0__GUID-D697C099-27AE-481C-9BE3-979C303035EF">
                        <p class="notep1">Note:</p>
                        <p>For more information on managing fine-grained access, see <a href="../dbseg/managing-fine-grained-access-in-pl-sql-packages-and-types.html#DBSEG-GUID-B7DB516A-3245-417F-BB89-8E8212A97542"><span><cite>Oracle Database Security Guide</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73113"></a><a id="ARPLS73114"></a><a id="ARPLS73114"></a><a id="ARPLS73113"></a><div class="props_rev_3"><a id="GUID-B0C7BCD3-FF6B-4BA8-8169-566F797A0666" name="GUID-B0C7BCD3-FF6B-4BA8-8169-566F797A0666"></a><h3 id="ARPLS-GUID-B0C7BCD3-FF6B-4BA8-8169-566F797A0666" class="sect3"><span class="enumeration_section">273.3 </span>UTL_SMTP Constants
               </h3>
               <div>
                  <p><code class="codeph">UTL_SMTP</code> defines several constants to use when specifying parameter values. 
                  </p>
                  <div class="section">
                     <p>These are shown in the following table.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B0C7BCD3-FF6B-4BA8-8169-566F797A0666__BABHABGG">
                     <p class="titleintable">Table 273-1 UTL_SMTP Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="UTL_SMTP Constants" summary="This table describes the constants used by the UTL_SMTP subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d1556508e517">Name</th>
                              <th align="left" valign="bottom" id="d1556508e520">Type</th>
                              <th align="left" valign="bottom" id="d1556508e523">Value</th>
                              <th align="left" valign="bottom" id="d1556508e526">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1556508e531" headers="d1556508e517 ">
                                 <p><code class="codeph">ALL_SCHEMES</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d1556508e531 d1556508e520 ">
                                 <p><code class="codeph">VARCHAR2(256)</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1556508e531 d1556508e523 ">
                                 <p><code class="codeph">'CRAM-MD5 PLAIN LOGIN'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1556508e531 d1556508e526 ">
                                 <p>List of all authentication schemes <code class="codeph">UTL_SMTP</code> supports, in order of their relative security strength. The subset of the schemes <code class="codeph">in</code> <code class="codeph">ALL_SCHEMES</code> (namely, <code class="codeph">PLAIN</code> and <code class="codeph">LOGIN</code>) in which cleartext passwords are sent over SMTP must be used only in SMTP connections that are secured by Secure Socket Layer / Transport Layer Security (SSL/TLS).
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1556508e563" headers="d1556508e517 ">
                                 <p><code class="codeph">NON_CLEARTEXT_PASSWORD_SCHEMES</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1556508e563 d1556508e520 ">
                                 <p><code class="codeph">VARCHAR2(256)</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1556508e563 d1556508e523 ">
                                 <p><code class="codeph">'CRAM-MD5'</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1556508e563 d1556508e526 ">
                                 <p>List of authentication schemes that <code class="codeph">UTL_SMTP</code> supports and in which no cleartext passwords are sent over SMTP. They can be used in SMTP connections that are not secured by SSL/TLS. Note that these schemes may still be weak when used in an insecure SMTP connection.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS71462"></a><a id="ARPLS71462"></a><div class="props_rev_3"><a id="GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" name="GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2"></a><h3 id="ARPLS-GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" class="sect3"><span class="enumeration_section">273.4 </span>UTL_SMTP Types
               </h3>
               <div>
                  <p><code class="codeph">UTL_SMTP</code> uses a CONNECTION record type and REPLY_REPLIES record types.
                  </p>
                  <div class="section">
                     <p class="subhead2">CONNECTION Record Type</p>
                     <p>This is a PL/SQL record type used to represent an SMTP connection.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">TYPE connection IS RECORD (
    host              VARCHAR2(255),
    port              PLS_INTEGER,
    tx_timeout        PLS_INTEGER, 
    private_tcp_con   utl_tcp.connection,
    private_state     PLS_INTEGER);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Fields</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2__GUID-9840D5F3-9FEE-485B-8FEC-776AA3DFD23D">
                     <p class="titleintable">Table 273-2 CONNECTION Record Type Fields</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="CONNECTION Record Type Fields" summary="This table describes Fields of the  CONNECTION Record Type." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1556508e691">Field</th>
                              <th align="left" valign="bottom" width="69%" id="d1556508e694">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e699" headers="d1556508e691 ">
                                 <p><code class="codeph">host</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e699 d1556508e694 ">
                                 <p>Name of the remote host when connection is established. <code class="codeph">NULL</code> when no connection is established.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e710" headers="d1556508e691 ">
                                 <p><code class="codeph">port</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e710 d1556508e694 ">
                                 <p>Port number of the remote SMTP server connected. <code class="codeph">NULL</code> when no connection is established.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e721" headers="d1556508e691 ">
                                 <p><code class="codeph">tx_timeout</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e721 d1556508e694 ">
                                 <p>Time in seconds that the <code class="codeph">UTL_SMTP</code> package waits before timing out in a read or write operation in this connection. In read operations, this package times out if no data is available for reading immediately. In write operations, this package times out if the output buffer is full and no data is to be sent into the network without being blocked. <code class="codeph">0</code> indicates not to wait at all. <code class="codeph">NULL</code> indicates to wait forever.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e738" headers="d1556508e691 ">
                                 <p><code class="codeph">private_tcp_con</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e738 d1556508e694 ">
                                 <p>Private, for implementation use only. You should not modify this field.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e746" headers="d1556508e691 ">
                                 <p><code class="codeph">private_state</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e746 d1556508e694 ">
                                 <p>Private, for implementation use only. You should not modify this field.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2">Usage Notes</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The read-only fields in a connection record are used to return information about the SMTP connection after the connection is successfully made with the <code class="codeph"><a href="UTL_SMTP.html#GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" title="These functions open a connection to an SMTP server.">OPEN_CONNECTION Functions</a></code>. Changing the values of these fields has no effect on the connection. The fields <code class="codeph">private_tcp_con</code> and <code class="codeph">private_state</code> for implementation use only. You should not modify these fields.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">REPLY_REPLIES Record Types</p>
                     <p>These are PL/SQL record types used to represent an SMTP reply line. Each SMTP reply line consists of a reply code followed by a text message. While a single reply line is expected for most SMTP commands, some SMTP commands expect multiple reply lines. For those situations, a PL/SQL table of reply records is used to represent multiple reply lines.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">TYPE reply IS RECORD (
  code    PLS_INTEGER,
  text    VARCHAR2(508));

TYPE replies IS TABLE OF reply INDEX BY BINARY_INTEGER; </pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Fields</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2__GUID-2E10F0FF-B5EB-4EF9-B434-9B2357BBB45F">
                     <p class="titleintable">Table 273-3 REPLY, REPLIES Record Type Fields</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="REPLY, REPLIES Record Type Fields" summary="This table describes Fields of the  REPLY and REPLIES Record Types." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1556508e798">Field</th>
                              <th align="left" valign="bottom" width="69%" id="d1556508e801">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e806" headers="d1556508e798 ">
                                 <p><code class="codeph">code</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e806 d1556508e801 ">
                                 <p>3-digit reply code</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e814" headers="d1556508e798 ">
                                 <p><code class="codeph">text</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e814 d1556508e801 ">
                                 <p>Text message of the reply</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS71472"></a><a id="ARPLS71473"></a><a id="ARPLS71473"></a><a id="ARPLS71472"></a><div class="props_rev_3"><a id="GUID-F276839D-E9F1-4FBD-951E-4176EF7DD9AA" name="GUID-F276839D-E9F1-4FBD-951E-4176EF7DD9AA"></a><h3 id="ARPLS-GUID-F276839D-E9F1-4FBD-951E-4176EF7DD9AA" class="sect3"><span class="enumeration_section">273.5 </span>UTL_SMTP Reply Codes
               </h3>
               <div>
                  <p>SMTP servers send reply codes that indicate message or server status.</p>
                  <div class="section">
                     <p>The following is a list of the SMTP reply codes. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F276839D-E9F1-4FBD-951E-4176EF7DD9AA__GUID-0739F9A4-09B1-4BA7-9916-2721C7F3352D">
                     <p class="titleintable">Table 273-4 SMTP Reply Codes</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SMTP Reply Codes" summary="This table describes SMTP Reply Codes used by UTL_SMTP subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d1556508e921">Reply Code</th>
                              <th align="left" valign="bottom" width="78%" id="d1556508e924">Meaning</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e929" headers="d1556508e921 ">
                                 <p><code class="codeph">211</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e929 d1556508e924 ">
                                 <p>System status, or system help reply</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e937" headers="d1556508e921 ">
                                 <p><code class="codeph">214</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e937 d1556508e924 ">
                                 <p>Help message [Information on how to use the receiver or the meaning of a particular non-standard command; this reply is useful only to the human user]</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e945" headers="d1556508e921 ">
                                 <p><code class="codeph">220</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e945 d1556508e924 ">
                                 <p><code class="codeph">&lt;domain&gt; </code>Service ready
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e955" headers="d1556508e921 ">
                                 <p><code class="codeph">221</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e955 d1556508e924 ">
                                 <p><code class="codeph">&lt;domain&gt;</code> Service closing transmission channel
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e965" headers="d1556508e921 ">
                                 <p><code class="codeph">250</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e965 d1556508e924 ">
                                 <p>Requested mail action okay, completed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e973" headers="d1556508e921 ">
                                 <p><code class="codeph">251</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e973 d1556508e924 ">
                                 <p>User not local; forwards to <code class="codeph">&lt;forward-path&gt;</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e983" headers="d1556508e921 ">
                                 <p><code class="codeph">252</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e983 d1556508e924 ">
                                 <p>OK, pending messages for node <code class="codeph">&lt;node&gt;</code> started. Cannot <code class="codeph">VRFY</code> user (for example, info is not local), but takes message for this user and attempts delivery.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e997" headers="d1556508e921 ">
                                 <p><code class="codeph">253</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e997 d1556508e924 ">
                                 <p>OK, <code class="codeph">&lt;messages&gt;</code> pending messages for node <code class="codeph">&lt;node&gt;</code> started
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1011" headers="d1556508e921 ">
                                 <p><code class="codeph">354</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1011 d1556508e924 ">
                                 <p>Start mail input; end with <code class="codeph">&lt;CRLF.CRLF&gt;</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1021" headers="d1556508e921 ">
                                 <p><code class="codeph">355</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1021 d1556508e924 ">
                                 <p>Octet-offset is the transaction offset</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1029" headers="d1556508e921 ">
                                 <p><code class="codeph">421</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1029 d1556508e924 ">
                                 <p><code class="codeph">&lt;domain&gt;</code> Service not available, closing transmission channel (This can be a reply to any command if the service knows it must shut down.)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1040" headers="d1556508e921 ">
                                 <p><code class="codeph">450</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1040 d1556508e924 ">
                                 <p>Requested mail action not taken: mailbox unavailable [for example, mailbox busy]</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1048" headers="d1556508e921 ">
                                 <p><code class="codeph">451</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1048 d1556508e924 ">
                                 <p>Requested action terminated: local error in processing</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1056" headers="d1556508e921 ">
                                 <p><code class="codeph">452</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1056 d1556508e924 ">
                                 <p>Requested action not taken: insufficient system storage</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1064" headers="d1556508e921 ">
                                 <p><code class="codeph">453</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1064 d1556508e924 ">
                                 <p>You have no mail.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1072" headers="d1556508e921 ">
                                 <p><code class="codeph">454</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1072 d1556508e924 ">
                                 <p>TLS not available due to temporary reason. Encryption required for requested authentication mechanism.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1080" headers="d1556508e921 ">
                                 <p><code class="codeph">458</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1080 d1556508e924 ">
                                 <p>Unable to queue messages for node <code class="codeph">&lt;node&gt;</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1090" headers="d1556508e921 ">
                                 <p><code class="codeph">459</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1090 d1556508e924 ">
                                 <p>Node <code class="codeph">&lt;node&gt;</code> not allowed: <code class="codeph">reason</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1103" headers="d1556508e921 ">
                                 <p><code class="codeph">500</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1103 d1556508e924 ">
                                 <p>Syntax error, command unrecognized (This may include errors such as command line too long.)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1111" headers="d1556508e921 ">
                                 <p><code class="codeph">501</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1111 d1556508e924 ">
                                 <p>Syntax error in parameters or arguments</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1119" headers="d1556508e921 ">
                                 <p><code class="codeph">502</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1119 d1556508e924 ">
                                 <p>Command not implemented</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1127" headers="d1556508e921 ">
                                 <p><code class="codeph">503</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1127 d1556508e924 ">
                                 <p>Bad sequence of commands</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1136" headers="d1556508e921 ">
                                 <p><code class="codeph">504</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1136 d1556508e924 ">
                                 <p>Command parameter not implemented</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1144" headers="d1556508e921 ">
                                 <p><code class="codeph">521</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1144 d1556508e924 ">
                                 <p><code class="codeph">&lt;Machine&gt;</code> does not accept mail.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1154" headers="d1556508e921 ">
                                 <p><code class="codeph">530</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1154 d1556508e924 ">
                                 <p>Must issue a <code class="codeph">STARTTLS</code> command first. Encryption required for requested authentication mechanism.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1165" headers="d1556508e921 ">
                                 <p><code class="codeph">534</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1165 d1556508e924 ">
                                 <p>Authentication mechanism is too weak.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1173" headers="d1556508e921 ">
                                 <p><code class="codeph">538</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1173 d1556508e924 ">
                                 <p>Encryption required for requested authentication mechanism.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1181" headers="d1556508e921 ">
                                 <p><code class="codeph">550</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1181 d1556508e924 ">
                                 <p>Requested action not taken: mailbox unavailable [for, mailbox not found, no access]</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1189" headers="d1556508e921 ">
                                 <p><code class="codeph">551</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1189 d1556508e924 ">
                                 <p>User not local; please try <code class="codeph">&lt;forward-path&gt;</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1199" headers="d1556508e921 ">
                                 <p><code class="codeph">552</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1199 d1556508e924 ">
                                 <p>Requested mail action terminated: exceeded storage allocation</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1207" headers="d1556508e921 ">
                                 <p><code class="codeph">553</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1207 d1556508e924 ">
                                 <p>Requested action not taken: mailbox name not allowed [for example, mailbox syntax incorrect]</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d1556508e1215" headers="d1556508e921 ">
                                 <p><code class="codeph">554</code></p>
                              </td>
                              <td align="left" valign="top" width="78%" headers="d1556508e1215 d1556508e924 ">
                                 <p>Transaction failed</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-B52A0EDB-F20B-46BF-8C86-7E880FEAEC85" name="GUID-B52A0EDB-F20B-46BF-8C86-7E880FEAEC85"></a><h3 id="ARPLS-GUID-B52A0EDB-F20B-46BF-8C86-7E880FEAEC85" class="sect3"><span class="enumeration_section">273.6 </span>UTL_SMTP Operational Notes
               </h3>
               <div>
                  <p>An SMTP connection is initiated by a call to <code class="codeph">OPEN_CONNECTION</code> Functions which returns a SMTP connection.  
                  </p>
                  <p>After a connection is established, the following calls are required to send a mail:</p>
                  <p><a href="UTL_SMTP.html#GUID-8A0A531F-C532-478B-81A9-02D80F71A181" title="This subprogram performs the initial handshake with SMTP server using the HELO command.">HELO Function and Procedure</a> - identify the domain of the sender
                  </p>
                  <p><a href="UTL_SMTP.html#GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79" title="This subprogram initiate a mail transaction with the server. The destination is a mailbox.">MAIL Function and Procedure</a>- start a mail, specify the sender
                  </p>
                  <p><a href="UTL_SMTP.html#GUID-DBE0E113-9836-4133-91BE-5725E6AC6995" title="This subprogram specifies the recipient of an e-mail message.">RCPT Function</a> - specify the recipient
                  </p>
                  <p><a href="UTL_SMTP.html#GUID-C9BC3845-41CC-45A3-8423-905B584B6200" title="This subprogram sends the DATA command after which you can use WRITE_DATA and WRITE_RAW_DATA to write a portion of the e-mail message.">OPEN_DATA Function and Procedure</a>- start the mail body
                  </p>
                  <p><a href="UTL_SMTP.html#GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_RAW_DATA appends data to the e-mail message.">WRITE_RAW_DATA Procedure</a> - write the mail body (multiple calls allowed)
                  </p>
                  <p><a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a> - close the mail body and send the mail
                  </p>
                  <p>The SMTP connection is closed by calling the <code class="codeph">QUIT</code> Function and Procedure.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="UTL_SMTP.html#GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" title="These functions open a connection to an SMTP server.">OPEN_CONNECTION Functions</a></li>
                        <li><a href="UTL_SMTP.html#GUID-A15C39CE-8937-4075-95A7-E7F8298961CB" title="This subprogram terminates an SMTP session and disconnects from the server.">QUIT Function and Procedure</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="ARPLS71474"></a><a id="ARPLS71475"></a><a id="ARPLS71475"></a><a id="ARPLS71474"></a><div class="props_rev_3"><a id="GUID-1A09B588-295E-4414-A374-2824B4A40FF9" name="GUID-1A09B588-295E-4414-A374-2824B4A40FF9"></a><h3 id="ARPLS-GUID-1A09B588-295E-4414-A374-2824B4A40FF9" class="sect3"><span class="enumeration_section">273.7 </span>UTL_SMTP Exceptions
               </h3>
               <div>
                  <p>This table lists the exceptions that can be raised by the interface of the <code class="codeph">UTL_SMTP</code> package. 
                  </p>
                  <div class="section">
                     <p>The network error is transferred to a reply code of 421- service not available.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1A09B588-295E-4414-A374-2824B4A40FF9__GUID-6FE4A2FC-4682-4F15-8E68-BC2745388C11">
                     <p class="titleintable">Table 273-5 UTL_SMTP Exceptions</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="UTL_SMTP Exceptions" summary="This table describes Exceptions raised by UTL_SMTP subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1556508e1496">Exception</th>
                              <th align="left" valign="bottom" width="69%" id="d1556508e1499">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1504" headers="d1556508e1496 ">
                                 <p><code class="codeph">INVALID_OPERATION</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1504 d1556508e1499 ">
                                 <p>Raised when an invalid operation is made. In other words, calling API other than the <a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a>, the <a href="UTL_SMTP.html#GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_RAW_DATA appends data to the e-mail message.">WRITE_RAW_DATA Procedure</a> or the <a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a> after the <a href="UTL_SMTP.html#GUID-C9BC3845-41CC-45A3-8423-905B584B6200" title="This subprogram sends the DATA command after which you can use WRITE_DATA and WRITE_RAW_DATA to write a portion of the e-mail message.">OPEN_DATA Function and Procedure</a> is called, or calling <code class="codeph">WRITE_DATA, WRITE_RAW_DATA</code> or <code class="codeph">CLOSE_DATA</code> without first calling <code class="codeph">OPEN_DATA.</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1567" headers="d1556508e1496 ">
                                 <p><code class="codeph">TRANSIENT_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1567 d1556508e1499 ">
                                 <p>Raised when receiving a reply code in 400 range</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1575" headers="d1556508e1496 ">
                                 <p><code class="codeph">PERMANENT_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1575 d1556508e1499 ">
                                 <p>Raised when receiving a reply code in 500 range</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS71476"></a><a id="ARPLS71477"></a><a id="ARPLS71477"></a><a id="ARPLS71476"></a><div class="props_rev_3"><a id="GUID-8FA9313E-7041-45F0-97C5-5F133F8A8BE0" name="GUID-8FA9313E-7041-45F0-97C5-5F133F8A8BE0"></a><h3 id="ARPLS-GUID-8FA9313E-7041-45F0-97C5-5F133F8A8BE0" class="sect3"><span class="enumeration_section">273.8 </span>UTL_SMTP Rules and Limits
               </h3>
               <div>
                  <p>The API imposes no imitation or range-checking. However, you must be aware of the limitations on various elements of SMTP. Sending data that exceed these limits may result in errors returned by the server.</p>
                  <div class="section">
                     <p>The following table describes the size limitations encountered by the UTL_SMTP subprograms.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8FA9313E-7041-45F0-97C5-5F133F8A8BE0__GUID-A6D8ED3F-F178-412E-93CB-AC9856908C81">
                     <p class="titleintable">Table 273-6 SMTP Size Limitation</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SMTP Size Limitation" summary="This table describes size limitations encountered by the UTL_SMTP subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1556508e1682">Element</th>
                              <th align="left" valign="bottom" width="69%" id="d1556508e1685">Size Limitation</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1690" headers="d1556508e1682 ">
                                 <p><code class="codeph">user</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1690 d1556508e1685 ">
                                 <p>Maximum total length of a user name is 64 characters</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1698" headers="d1556508e1682 ">
                                 <p><code class="codeph">domain</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1698 d1556508e1685 ">
                                 <p>Maximum total length of a domain name or number is 64 characters</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1706" headers="d1556508e1682 ">
                                 <p><code class="codeph">path</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1706 d1556508e1685 ">
                                 <p>Maximum total length of a reverse-path or forward-path is 256 characters (including the punctuation and element separators)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1714" headers="d1556508e1682 ">
                                 <p><code class="codeph">command line</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1714 d1556508e1685 ">
                                 <p>Maximum total length of a command line including the command word and the <code class="codeph">&lt;CRLF&gt;</code> is 512 characters
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1725" headers="d1556508e1682 ">
                                 <p><code class="codeph">reply line</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1725 d1556508e1685 ">
                                 <p>Maximum total length of a reply line including the reply code and the <code class="codeph">&lt;CRLF&gt;</code> is 512 characters
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1736" headers="d1556508e1682 ">
                                 <p><code class="codeph">text line</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1736 d1556508e1685 ">
                                 <p>Maximum total length of a text line including the <code class="codeph">&lt;CRLF&gt;</code> is 1000 characters (but not counting the leading dot duplicated for transparency)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1747" headers="d1556508e1682 ">
                                 <p><code class="codeph">recipients buffer</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1747 d1556508e1685 ">
                                 <p>Maximum total number of recipients that must be buffered is 100 recipients</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS71478"></a><a id="ARPLS71478"></a><div class="props_rev_3"><a id="GUID-85394BA6-A592-4F14-BE92-51C5D15AC720" name="GUID-85394BA6-A592-4F14-BE92-51C5D15AC720"></a><h3 id="ARPLS-GUID-85394BA6-A592-4F14-BE92-51C5D15AC720" class="sect3"><span class="enumeration_section">273.9 </span>UTL_SMTP Examples
               </h3>
               <div>
                  <p>This example illustrates how <code class="codeph">UTL_SMTP</code> is used by an application to send e-mail. The application connects to an SMTP server at port 25 and sends a simple text message.
                  </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DECLARE
  c UTL_SMTP.CONNECTION;
 
  PROCEDURE send_header(name IN VARCHAR2, header IN VARCHAR2) AS
  BEGIN
    UTL_SMTP.WRITE_DATA(c, name || ': ' || header || UTL_TCP.CRLF);
  END;
 
BEGIN
  c := UTL_SMTP.OPEN_CONNECTION('smtp-server.acme.com');
  UTL_SMTP.HELO(c, 'foo.com');
  UTL_SMTP.MAIL(c, 'sender@foo.com');
  UTL_SMTP.RCPT(c, 'recipient@foo.com');
  UTL_SMTP.OPEN_DATA(c);
  send_header('From',    '"Sender" &lt;sender@foo.com&gt;');
  send_header('To',      '"Recipient" &lt;recipient@foo.com&gt;');
  send_header('Subject', 'Hello');
  UTL_SMTP.WRITE_DATA(c, UTL_TCP.CRLF || 'Hello, world!');
  UTL_SMTP.CLOSE_DATA(c);
  UTL_SMTP.QUIT(c);
EXCEPTION
  WHEN utl_smtp.transient_error OR utl_smtp.permanent_error THEN
    BEGIN
      UTL_SMTP.QUIT(c);
    EXCEPTION
      WHEN UTL_SMTP.TRANSIENT_ERROR OR UTL_SMTP.PERMANENT_ERROR THEN
        NULL; -- When the SMTP server is down or unavailable, we don't have
              -- a connection to the server. The QUIT call raises an
              -- exception that we can ignore.
    END;
    raise_application_error(-20000,
      'Failed to send mail due to the following error: ' || sqlerrm);
END;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71479"></a><a id="ARPLS71480"></a><a id="ARPLS71480"></a><a id="ARPLS71479"></a><div class="props_rev_3"><a id="GUID-BBBEE5B1-AE6E-49B5-B241-D26334EE49D0" name="GUID-BBBEE5B1-AE6E-49B5-B241-D26334EE49D0"></a><h3 id="ARPLS-GUID-BBBEE5B1-AE6E-49B5-B241-D26334EE49D0" class="sect3"><span class="enumeration_section">273.10 </span>Summary of UTL_SMTP Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">UTL_SMTP</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-BBBEE5B1-AE6E-49B5-B241-D26334EE49D0__GUID-272709F9-189E-484A-8DB8-B9F2E1489E2F">
                     <p class="titleintable">Table 273-7 UTL_SMTP Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="UTL_SMTP Package Subprograms" summary="This table lists the UTL_SMTP subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1556508e1943">Subprogram</th>
                              <th align="left" valign="bottom" width="69%" id="d1556508e1946">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1951" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-1C0B13BA-DEDF-41B6-945B-2C7AF649D616" title="This subprogram sends the AUTH command to authenticate to the SMTP server. The UTL_SMTP package goes through the user's choices of authentication schemes, skips any that is not supported by the SMTP server and uses the first supported.">AUTH Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1951 d1556508e1946 ">
                                 <p>Sends the <code class="codeph">AUTH</code> command to authenticate to the SMTP server
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1972" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-308C2422-9093-4016-9C9C-CDABB43CDFCE" title="This procedure closes the SMTP connection, causing the current SMTP operation to terminate. Use this procedure only to cancel an e-mail in the middle of the data session.">CLOSE_CONNECTION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1972 d1556508e1946 ">
                                 <p>Closes the SMTP connection, causing the current SMTP operation to terminate</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1984" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1984 d1556508e1946 ">
                                 <p>Closes the data session</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e1999" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-0310AD19-EC32-4737-AB54-9CB62F26887E" title="This subprogram performs a generic SMTP command.">COMMAND Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e1999 d1556508e1946 ">
                                 <p>Performs a generic SMTP command</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2011" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-F06F848D-361E-4FFB-A403-1090CDC54B97" title="This function performs a generic SMTP command and retrieves multiple reply lines.">COMMAND_REPLIES Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2011 d1556508e1946 ">
                                 <p>Performs a generic SMTP command and retrieves multiple reply lines</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2023" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-FE87CDF0-5FED-4582-A79F-69F0F240C037" title="This subprogram specifies the body of an e-mail message.">DATA Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2023 d1556508e1946 ">
                                 <p>Sends the e-mail body</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2035" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" title="This subprogram performs the initial handshake with SMTP server using the EHLO command.">EHLO Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2035 d1556508e1946 ">
                                 <p>Performs the initial handshake with SMTP server using the <code class="codeph">EHLO</code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2053" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-8A0A531F-C532-478B-81A9-02D80F71A181" title="This subprogram performs the initial handshake with SMTP server using the HELO command.">HELO Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2053 d1556508e1946 ">
                                 <p>Performs the initial handshake with SMTP server using the <code class="codeph">HELO</code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2071" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-5B04613D-B4DF-4215-8D33-92BB29A0578E" title="This function sends the HELP command.">HELP Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2071 d1556508e1946 ">
                                 <p>Sends <code class="codeph">HELP</code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2089" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79" title="This subprogram initiate a mail transaction with the server. The destination is a mailbox.">MAIL Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2089 d1556508e1946 ">
                                 <p>Initiates an e-mail transaction with the server, the destination is a mailbox</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2101" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-26D72CB0-D451-486F-9109-2BD77AEC36F2" title="This subprogram issues the NULL command.">NOOP Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2101 d1556508e1946 ">
                                 <p><code class="codeph">NULL</code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2119" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" title="These functions open a connection to an SMTP server.">OPEN_CONNECTION Functions</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2119 d1556508e1946 ">
                                 <p>Opens a connection to an SMTP server</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2131" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-C9BC3845-41CC-45A3-8423-905B584B6200" title="This subprogram sends the DATA command after which you can use WRITE_DATA and WRITE_RAW_DATA to write a portion of the e-mail message.">OPEN_DATA Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2131 d1556508e1946 ">
                                 <p>Sends the <code class="codeph">DATA</code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2155" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-A15C39CE-8937-4075-95A7-E7F8298961CB" title="This subprogram terminates an SMTP session and disconnects from the server.">QUIT Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2155 d1556508e1946 ">
                                 <p>Terminates an SMTP session and disconnects from the server</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2167" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-DBE0E113-9836-4133-91BE-5725E6AC6995" title="This subprogram specifies the recipient of an e-mail message.">RCPT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2167 d1556508e1946 ">
                                 <p>Specifies the recipient of an e-mail message</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2179" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-DABF4853-8BC3-4DE5-9A73-8BE453894BF8" title="This subprogram terminates the current mail transaction.">RSET Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2179 d1556508e1946 ">
                                 <p>Terminates the current e-mail transaction</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2191" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-3692D4DA-357E-48F7-88CD-6D905EA1F663" title="This subprogram sends the STARTTLS command to secure the SMTP connection using SSL/TLS.">STARTTLS Function and Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2191 d1556508e1946 ">
                                 <p>Sends <code class="codeph">STARTTLS</code> command to secure the SMTP connection using SSL/TLS
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2209" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-AF4CA998-563C-4BEE-A71D-C559D81960D1" title="This function verifies the validity of a destination e-mail address.">VRFY Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2209 d1556508e1946 ">
                                 <p>Verifies the validity of a destination e-mail address</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2221" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2221 d1556508e1946 ">
                                 <p>Writes a portion of the e-mail message </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1556508e2236" headers="d1556508e1943 ">
                                 <p><a href="UTL_SMTP.html#GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_RAW_DATA appends data to the e-mail message.">WRITE_RAW_DATA Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1556508e2236 d1556508e1946 ">
                                 <p>Writes a portion of the e-mail message with <code class="codeph">RAW</code> data 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS72085"></a><a id="ARPLS72086"></a><a id="ARPLS73423"></a><a id="ARPLS72086"></a><a id="ARPLS73423"></a><a id="ARPLS72085"></a><div class="props_rev_3"><a id="GUID-1C0B13BA-DEDF-41B6-945B-2C7AF649D616" name="GUID-1C0B13BA-DEDF-41B6-945B-2C7AF649D616"></a><h4 id="ARPLS-GUID-1C0B13BA-DEDF-41B6-945B-2C7AF649D616" class="sect4"><span class="enumeration_section">273.10.1 </span>AUTH Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram sends the <code class="codeph">AUTH</code> command to authenticate to the SMTP server. The <code class="codeph">UTL_SMTP</code> package goes through the user's choices of authentication schemes, skips any that is not supported by the SMTP server and uses the first supported. 
                     </p>
                     <div class="section">
                        <p>To determine the schemes the SMTP server supports from its <code class="codeph">EHLO</code> reply, the user must call the <a href="UTL_SMTP.html#GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" title="This subprogram performs the initial handshake with SMTP server using the EHLO command.">EHLO Function and Procedure</a>. Otherwise, <code class="codeph">UTL_SMTP</code> uses the first scheme in the list.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.AUTH (
   c          IN OUT NOCOPY connection,
   username   IN            VARCHAR2,
   password   IN            VARCHAR2,
   schemes    IN            VARCHAR2 DEFAULT NON_CLEARTEXT_PASSWORD_SCHEMES)
 RETURN reply;

UTL_SMTP.AUTH (
   c          IN OUT NOCOPY connection,
   username   IN            VARCHAR2,
   password   IN            VARCHAR2,
   schemes    IN            VARCHAR2 DEFAULT NON_CLEARTEXT_PASSWORD_SCHEMES);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-1C0B13BA-DEDF-41B6-945B-2C7AF649D616__GUID-787D00AE-623F-466D-A5A0-B60D76906D51">
                           <p class="titleintable">Table 273-8 AUTH Function and Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="AUTH Function and Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.AUTH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e2388">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e2391">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2396" headers="d1556508e2388 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2396 d1556508e2391 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2404" headers="d1556508e2388 ">
                                       <p><code class="codeph">username</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2404 d1556508e2391 ">
                                       <p>Username</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2412" headers="d1556508e2388 ">
                                       <p><code class="codeph">password</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2412 d1556508e2391 ">
                                       <p>Password</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2420" headers="d1556508e2388 ">
                                       <p><code class="codeph">schemes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2420 d1556508e2391 ">
                                       <p>Space-separated list of authentication schemes <code class="codeph">UTL_SMTP</code> is allowed to use in the preferred order. See the <code class="codeph">ALL_SCHEMES</code> and <code class="codeph">NON_CLEARTEXT_PASSWORD_SCHEMES</code> constants for suggestions.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-1C0B13BA-DEDF-41B6-945B-2C7AF649D616__GUID-036B8947-2888-4C24-AD0B-ECCE22BBA3A3">
                           <p class="titleintable">Table 273-9 AUTH Function and Procedure Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="AUTH Function and Procedure Function Return Values " summary="This table describes Values Returned by the AUTH subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e2449">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e2452">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2457" headers="d1556508e2449 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2457 d1556508e2452 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Currently only <code class="codeph">PLAIN</code>, <code class="codeph">LOGIN</code> and <code class="codeph">CRAM-MD5</code> authentication schemes are supported by <code class="codeph">UTL_SMTP</code>.
                              </p>
                           </li>
                           <li>
                              <p>Since the SMTP server may change the authentication schemes it supports after the SMTP connection is secured by SSL/TLS after the <code class="codeph">STARTTLS</code> command (for example, adding <code class="codeph">PLAIN</code> and <code class="codeph">LOGIN</code>), the caller must call the <a href="UTL_SMTP.html#GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" title="This subprogram performs the initial handshake with SMTP server using the EHLO command.">EHLO Function and Procedure</a> again for <code class="codeph">UTL_SMTP</code> to update the list after the <a href="UTL_SMTP.html#GUID-3692D4DA-357E-48F7-88CD-6D905EA1F663" title="This subprogram sends the STARTTLS command to secure the SMTP connection using SSL/TLS.">STARTTLS Function and Procedure</a> is called.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">DECLARE
  c utl_smtp.connection;
BEGIN
  c := utl_smtp.open_connection(
      host =&gt; 'smtp.example.com',
      port =&gt; 25,
      wallet_path =&gt; 'file:/oracle/wallets/smtp_wallet',
      wallet_password =&gt; '<span class="italic">password</span>',
      secure_connection_before_smtp =&gt; FALSE);
  UTL_SMTP.STARTTLS(c);
  UTL_SMTP.AUTH(
      c =&gt; c,
      username =&gt; 'scott',
      password =&gt; 'password'
      schemes  =&gt; utl_smtp.all_schemes);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73115"></a><a id="ARPLS73116"></a><a id="ARPLS73116"></a><a id="ARPLS73115"></a><div class="props_rev_3"><a id="GUID-308C2422-9093-4016-9C9C-CDABB43CDFCE" name="GUID-308C2422-9093-4016-9C9C-CDABB43CDFCE"></a><h4 id="ARPLS-GUID-308C2422-9093-4016-9C9C-CDABB43CDFCE" class="sect4"><span class="enumeration_section">273.10.2 </span>CLOSE_CONNECTION Procedure
                  </h4>
                  <div>
                     <p>This procedure closes the SMTP connection, causing the current SMTP operation to terminate. Use this procedure only to cancel an e-mail in the middle of the data session. </p>
                     <div class="section">
                        <p>To end the SMTP connection properly, use the <a href="UTL_SMTP.html#GUID-A15C39CE-8937-4075-95A7-E7F8298961CB" title="This subprogram terminates an SMTP session and disconnects from the server.">QUIT Function and Procedure</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.CLOSE_CONNECTION (
   c     IN OUT NOCOPY connection);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-308C2422-9093-4016-9C9C-CDABB43CDFCE__GUID-EBC2CA33-0044-41AD-99F6-E4B7C047C48C">
                           <p class="titleintable">Table 273-10 CLOSE_CONNECTION Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLOSE_CONNECTION Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.CLOSE_CONNECTION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e2655">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e2658">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2663" headers="d1556508e2655 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2663 d1556508e2658 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71481"></a><a id="ARPLS71482"></a><a id="ARPLS71483"></a><a id="ARPLS71482"></a><a id="ARPLS71483"></a><a id="ARPLS71481"></a><div class="props_rev_3"><a id="GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" name="GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5"></a><h4 id="ARPLS-GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" class="sect4"><span class="enumeration_section">273.10.3 </span>CLOSE_DATA Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram ends the e-mail message by sending the sequence <code class="codeph">&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> (a single period at the beginning of a line).
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.CLOSE_DATA (
   c     IN OUT NOCOPY connection) 
RETURN reply;

UTL_SMTP.CLOSE_DATA (
   c     IN OUT NOCOPY connection);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5__GUID-C43E5D3D-2EA8-4BB5-BB93-04F35A1D80B3">
                           <p class="titleintable">Table 273-11 CLOSE_DATA Function and Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLOSE_DATA Function and Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.CLOSE_DATA subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e2783">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e2786">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2791" headers="d1556508e2783 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2791 d1556508e2786 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5__GUID-E9E84CB3-6DE7-4671-8C13-0F1D3B545016">
                           <p class="titleintable">Table 273-12 CLOSE_DATA Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLOSE_DATA Function and Procedure Return Values " summary="This table describes Values Returned by the CLOSE_DATA subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e2811">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e2814">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e2819" headers="d1556508e2811 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e2819 d1556508e2814 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>The calls to <code class="codeph">OPEN_DATA</code>, <code class="codeph">WRITE_DATA</code>, <code class="codeph">WRITE_RAW_DATA</code> and <code class="codeph">CLOSE_DATA</code> must be made in the right order. A program calls <code class="codeph">OPEN_DATA</code> to send the <code class="codeph">DATA</code> command to the SMTP server. After that, it can call <code class="codeph">WRITE_DATA</code> or <code class="codeph">WRITE_RAW_DATA</code> repeatedly to send the actual data. The data is terminated by calling <code class="codeph">CLOSE_DATA</code>. After <code class="codeph">OPEN_DATA</code> is called, the only subprograms that can be called are <code class="codeph">WRITE_DATA</code>, <code class="codeph">WRITE_RAW_DATA,</code> or <code class="codeph">CLOSE_DATA</code>. A call to other subprograms results in an <code class="codeph">INVALID_OPERATION</code> exception being raised.
                        </p>
                        <p><code class="codeph">CLOSE_DATA</code> must be called only after <code class="codeph">OPEN_CONNECTION</code>, <code class="codeph">HELO</code> or <code class="codeph">EHLO</code>, <code class="codeph">MAIL</code>, and <code class="codeph">RCPT</code> have been called. The connection to the SMTP server must be open and a mail transaction must be active when this routine is called.
                        </p>
                        <p>Note that there is no function form of <code class="codeph">WRITE_DATA</code> because the SMTP server does not respond until the data-terminator is sent during the call to <code class="codeph">CLOSE_DATA</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71484"></a><a id="ARPLS71485"></a><a id="ARPLS71486"></a><a id="ARPLS71485"></a><a id="ARPLS71486"></a><a id="ARPLS71484"></a><div class="props_rev_3"><a id="GUID-0310AD19-EC32-4737-AB54-9CB62F26887E" name="GUID-0310AD19-EC32-4737-AB54-9CB62F26887E"></a><h4 id="ARPLS-GUID-0310AD19-EC32-4737-AB54-9CB62F26887E" class="sect4"><span class="enumeration_section">273.10.4 </span>COMMAND Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram performs a generic SMTP command.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.COMMAND (
   c     IN OUT NOCOPY    connection,
   cmd   IN               VARCHAR2,
   arg   IN               VARCHAR2 DEFAULT NULL)
RETURN reply;

UTL_SMTP.COMMAND (
   c     IN OUT NOCOPY    connection,
   cmd   IN               VARCHAR2,
   arg   IN               VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-0310AD19-EC32-4737-AB54-9CB62F26887E__GUID-69A24599-76EC-4938-B67D-CAB5697E87AD">
                           <p class="titleintable">Table 273-13 COMMAND Function and Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMMAND Function and Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.COMMAND subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3021">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3024">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3029" headers="d1556508e3021 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3029 d1556508e3024 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3037" headers="d1556508e3021 ">
                                       <p><code class="codeph">cmd</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3037 d1556508e3024 ">
                                       <p>SMTP command to send to the server</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3045" headers="d1556508e3021 ">
                                       <p><code class="codeph">arg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3045 d1556508e3024 ">
                                       <p>Optional argument to the SMTP argument. A space is inserted between <code class="codeph">cmd</code> and <code class="codeph">arg</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-0310AD19-EC32-4737-AB54-9CB62F26887E__GUID-AAE878AF-295A-4A5C-93B7-3554B685D745">
                           <p class="titleintable">Table 273-14 COMMAND Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMMAND Function and Procedure Return Values " summary="This table describes Values Returned by the COMMAND subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3071">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3074">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3079" headers="d1556508e3071 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3079 d1556508e3074 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>This function is used to invoke generic SMTP commands. Use <code class="codeph">COMMAND</code> if only a single reply line is expected. Use <code class="codeph">COMMAND_REPLIES</code> if multiple reply lines are expected.
                        </p>
                        <p>For <code class="codeph">COMMAND</code>, if multiple reply lines are returned from the SMTP server, it returns the last reply line only. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71487"></a><a id="ARPLS71488"></a><a id="ARPLS71489"></a><a id="ARPLS71488"></a><a id="ARPLS71489"></a><a id="ARPLS71487"></a><div class="props_rev_3"><a id="GUID-F06F848D-361E-4FFB-A403-1090CDC54B97" name="GUID-F06F848D-361E-4FFB-A403-1090CDC54B97"></a><h4 id="ARPLS-GUID-F06F848D-361E-4FFB-A403-1090CDC54B97" class="sect4"><span class="enumeration_section">273.10.5 </span>COMMAND_REPLIES Function
                  </h4>
                  <div>
                     <p>This function performs a generic SMTP command and retrieves multiple reply lines.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.COMMAND_REPLIES (
   c     IN OUT NOCOPY    connection,
   cmd   IN               VARCHAR2,
   arg   IN               VARCHAR2 DEFAULT NULL)
RETURN replies;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-F06F848D-361E-4FFB-A403-1090CDC54B97__GUID-9255CFBE-E125-47FA-A0E5-7575A0A18895">
                           <p class="titleintable">Table 273-15 COMMAND_REPLIES Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMMAND_REPLIES Function Parameters " summary="This table describes the Parameters of the UTL_SMTP.COMMAND_REPLIES subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3222">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3225">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3230" headers="d1556508e3222 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3230 d1556508e3225 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3238" headers="d1556508e3222 ">
                                       <p><code class="codeph">cmd</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3238 d1556508e3225 ">
                                       <p>SMTP command to send to the server</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3246" headers="d1556508e3222 ">
                                       <p><code class="codeph">arg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3246 d1556508e3225 ">
                                       <p>Optional argument to the SMTP argument. A space is inserted between <code class="codeph">cmd</code> and <code class="codeph">arg</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-F06F848D-361E-4FFB-A403-1090CDC54B97__GUID-43050568-CCC9-4BB7-8B1F-4D55456A4B06">
                           <p class="titleintable">Table 273-16 COMMAND_REPLIES Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMMAND_REPLIES Function Return Values " summary="This table describes Values Returned by the COMMAND_REPLIES subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3272">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3275">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3280" headers="d1556508e3272 ">
                                       <p><code class="codeph">replies</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3280 d1556508e3275 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>This function is used to invoke generic SMTP commands. Use <code class="codeph">COMMAND</code> if only a single reply line is expected. Use <code class="codeph">COMMAND_REPLIES</code> if multiple reply lines are expected.
                        </p>
                        <p>For <code class="codeph">COMMAND</code>, if multiple reply lines are returned from the SMTP server, it returns the last reply line only. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71490"></a><a id="ARPLS71491"></a><a id="ARPLS71492"></a><a id="ARPLS71491"></a><a id="ARPLS71492"></a><a id="ARPLS71490"></a><div class="props_rev_3"><a id="GUID-FE87CDF0-5FED-4582-A79F-69F0F240C037" name="GUID-FE87CDF0-5FED-4582-A79F-69F0F240C037"></a><h4 id="ARPLS-GUID-FE87CDF0-5FED-4582-A79F-69F0F240C037" class="sect4"><span class="enumeration_section">273.10.6 </span>DATA Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram specifies the body of an e-mail message.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.DATA (
   c     IN OUT NOCOPY connection
   body  IN  VARCHAR2 CHARACTER SET ANY_CS) 
RETURN reply;

UTL_SMTP.DATA (
   c     IN OUT NOCOPY connection
   body  IN VARCHAR2 CHARACTER SET ANY_CS);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-FE87CDF0-5FED-4582-A79F-69F0F240C037__GUID-C65EEA4F-43EB-4D40-BF5B-7F1F5FBD4383">
                           <p class="titleintable">Table 273-17 DATA Function and Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DATA Function and Procedure Parameters" summary="This table describes the Parameters of the UTL_SMTP.DATA subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3422">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3425">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3430" headers="d1556508e3422 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3430 d1556508e3425 ">
                                       <p>SMTP Connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3438" headers="d1556508e3422 ">
                                       <p><code class="codeph">body</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3438 d1556508e3425 ">
                                       <p>Text of the message to be sent, including headers, in [RFC822] format</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-FE87CDF0-5FED-4582-A79F-69F0F240C037__GUID-945D96DC-130D-4077-B85B-FD292FB1AEA6">
                           <p class="titleintable">Table 273-18 DATA Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DATA Function and Procedure Return Values " summary="This table describes Values Returned by the DATA subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3458">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3461">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3466" headers="d1556508e3458 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3466 d1556508e3461 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>The application must ensure that the contents of the body parameter conform to the MIME(RFC822) specification. The <code class="codeph">DATA</code> routine terminates the message with a <code class="codeph">&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> sequence (a single period at the beginning of a line), as required by RFC821. It also translates any sequence of <code class="codeph">&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> (single period) in body to <code class="codeph">&lt;CR&gt;&lt;LF&gt;..&lt;CR&gt;&lt;LF&gt;</code> (double period). This conversion provides the transparency as described in Section 4.5.2 of RFC821.
                        </p>
                        <p>The <code class="codeph">DATA</code> subprogram must be called only after <code class="codeph">OPEN_CONNECTION</code>, <code class="codeph">HELO</code> or <code class="codeph">EHLO</code>, <code class="codeph">MAIL </code>and<code class="codeph"> RCPT</code> have been called. The connection to the SMTP server must be open, and a mail transaction must be active when this routine is called.
                        </p>
                        <p>The expected response from the server is a message beginning with status code 250. The 354 response received from the initial <code class="codeph">DATA</code> command is not returned to the caller.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71493"></a><a id="ARPLS71494"></a><a id="ARPLS71495"></a><a id="ARPLS71494"></a><a id="ARPLS71495"></a><a id="ARPLS71493"></a><div class="props_rev_3"><a id="GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" name="GUID-1B9BB601-530F-414C-A56E-BD20CADE478F"></a><h4 id="ARPLS-GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" class="sect4"><span class="enumeration_section">273.10.7 </span>EHLO Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram performs the initial handshake with SMTP server using the <code class="codeph">EHLO</code> command.
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.EHLO (
   c       IN OUT NOCOPY connection, 
   domain  IN) 
RETURN replies;

UTL_SMTP.EHLO (
   c       IN OUT NOCOPY connection, 
   domain  IN);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-1B9BB601-530F-414C-A56E-BD20CADE478F__GUID-4DF22836-3019-4B36-9CB2-AA1B08EA3701">
                           <p class="titleintable">Table 273-19 EHLO Function and Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EHLO Function and Procedure Parameters" summary="This table describes the Parameters of the UTL_SMTP.EHLO subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3638">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3641">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3646" headers="d1556508e3638 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3646 d1556508e3641 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3654" headers="d1556508e3638 ">
                                       <p><code class="codeph">domain</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3654 d1556508e3641 ">
                                       <p>Domain name of the local (sending) host. Used for identification purposes.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-1B9BB601-530F-414C-A56E-BD20CADE478F__GUID-8C0703E5-B1C9-4C7C-81DE-EFF204422838">
                           <p class="titleintable">Table 273-20 EHLO Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EHLO Function and Procedure Return Values " summary="This table describes Values Returned by the EHLO subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3674">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3677">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3682" headers="d1556508e3674 ">
                                       <p><code class="codeph">replies</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3682 d1556508e3677 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>The <code class="codeph">EHLO</code> interface is identical to <code class="codeph">HELO</code> except that it allows the server to return more descriptive information about its configuration. [RFC1869] specifies the format of the information returned, which the PL/SQL application can retrieve using the functional form of this call. For compatibility with <code class="codeph">HELO,</code> each line of text returned by the server begins with status code 250.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Related Functions</p>
                        <p><a href="UTL_SMTP.html#GUID-8A0A531F-C532-478B-81A9-02D80F71A181" title="This subprogram performs the initial handshake with SMTP server using the HELO command.">HELO Function and Procedure</a></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71496"></a><a id="ARPLS71497"></a><a id="ARPLS71498"></a><a id="ARPLS71497"></a><a id="ARPLS71498"></a><a id="ARPLS71496"></a><div class="props_rev_3"><a id="GUID-8A0A531F-C532-478B-81A9-02D80F71A181" name="GUID-8A0A531F-C532-478B-81A9-02D80F71A181"></a><h4 id="ARPLS-GUID-8A0A531F-C532-478B-81A9-02D80F71A181" class="sect4"><span class="enumeration_section">273.10.8 </span>HELO Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram performs the initial handshake with SMTP server using the <code class="codeph">HELO</code> command.
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.HELO (
   c       IN OUT NOCOPY   connection, 
   domain  IN              VARCHAR2) 
RETURN reply;

UTL_SMTP.HELO (
   c       IN OUT NOCOPY   connection, 
   domain  IN              VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-8A0A531F-C532-478B-81A9-02D80F71A181__GUID-0AB79CCD-162A-41AC-B96C-F3332E870F1E">
                           <p class="titleintable">Table 273-21 HELO Function and Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HELO Function and Procedure Parameters" summary="This table describes the Parameters of the UTL_SMTP.HELO subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3839">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3842">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3847" headers="d1556508e3839 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3847 d1556508e3842 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3855" headers="d1556508e3839 ">
                                       <p><code class="codeph">domain</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3855 d1556508e3842 ">
                                       <p>Domain name of the local (sending) host. Used for identification purposes.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-8A0A531F-C532-478B-81A9-02D80F71A181__GUID-7A804B8C-20CA-48EB-B1FC-09AB360D226D">
                           <p class="titleintable">Table 273-22 HELO Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HELO Function and Procedure Return Values " summary="This table describes Values Returned by the HELO subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e3875">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e3878">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e3883" headers="d1556508e3875 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e3883 d1556508e3878 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>RFC 821 specifies that the client must identify itself to the server after connecting. This routine performs that identification. The connection must have been opened through a call to <a href="UTL_SMTP.html#GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" title="These functions open a connection to an SMTP server.">OPEN_CONNECTION Functions</a> before calling this routine.
                        </p>
                        <p>The expected response from the server is a message beginning with status code 250.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Related Functions</p>
                        <p><a href="UTL_SMTP.html#GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" title="This subprogram performs the initial handshake with SMTP server using the EHLO command.">EHLO Function and Procedure</a></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71499"></a><a id="ARPLS71500"></a><a id="ARPLS71501"></a><a id="ARPLS71500"></a><a id="ARPLS71501"></a><a id="ARPLS71499"></a><div class="props_rev_3"><a id="GUID-5B04613D-B4DF-4215-8D33-92BB29A0578E" name="GUID-5B04613D-B4DF-4215-8D33-92BB29A0578E"></a><h4 id="ARPLS-GUID-5B04613D-B4DF-4215-8D33-92BB29A0578E" class="sect4"><span class="enumeration_section">273.10.9 </span>HELP Function
                  </h4>
                  <div>
                     <p>This function sends the <code class="codeph">HELP</code> command.
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.HELP (
   c         IN OUT NOCOPY   connection, 
   command   IN              VARCHAR2 DEFAULT NULL) 
RETURN replies;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-5B04613D-B4DF-4215-8D33-92BB29A0578E__GUID-0B5D0173-D88A-4EA6-ABDB-696B1F1BB97A">
                           <p class="titleintable">Table 273-23 HELP Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HELP Function Parameters" summary="This table describes the Parameters of the UTL_SMTP.HELP subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4039">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4042">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4047" headers="d1556508e4039 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4047 d1556508e4042 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4055" headers="d1556508e4039 ">
                                       <p><code class="codeph">command</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4055 d1556508e4042 ">
                                       <p>Command to get the help message</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-5B04613D-B4DF-4215-8D33-92BB29A0578E__GUID-FF461DA2-6A82-4C57-8183-C39CD0C9618A">
                           <p class="titleintable">Table 273-24 HELP Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HELP Function Return Values " summary="This table describes Values Returned by the HELP subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4075">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4078">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4083" headers="d1556508e4075 ">
                                       <p><code class="codeph">replies</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4083 d1556508e4078 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71502"></a><a id="ARPLS71503"></a><a id="ARPLS71504"></a><a id="ARPLS71503"></a><a id="ARPLS71504"></a><a id="ARPLS71502"></a><div class="props_rev_3"><a id="GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79" name="GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79"></a><h4 id="ARPLS-GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79" class="sect4"><span class="enumeration_section">273.10.10 </span>MAIL Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram initiate a mail transaction with the server. The destination is a mailbox.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.MAIL (
   c           IN OUT NOCOPY   connection, 
   sender      IN              VARCHAR2, 
   parameters  IN              VARCHAR2 DEFAULT NULL) 
RETURN reply;

UTL_SMTP.MAIL (
   c           IN OUT NOCOPY   connection, 
   sender      IN              VARCHAR2, 
   parameters  IN              VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79__GUID-99AD560E-AE6C-47C6-AF69-0E5338917460">
                           <p class="titleintable">Table 273-25 MAIL Function and Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MAIL Function and Procedure Parameters" summary="This table describes the Parameters of the UTL_SMTP.MAIL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4209">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4212">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4217" headers="d1556508e4209 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4217 d1556508e4212 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4225" headers="d1556508e4209 ">
                                       <p><code class="codeph">sender</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4225 d1556508e4212 ">
                                       <p>E-mail address of the user sending the message.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4233" headers="d1556508e4209 ">
                                       <p><code class="codeph">parameters</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4233 d1556508e4212 ">
                                       <p>Additional parameters to <code class="codeph">mail</code> command as defined in Section 6 of [RFC1869]. It must follow the format of "XXX=XXX (XXX=XXX ....)".
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79__GUID-3E6D05C4-06F2-4AEC-A97D-D4B8F90AF03C">
                           <p class="titleintable">Table 273-26 MAIL Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MAIL Function and Procedure Return Values " summary="This table describes Values Returned by the MAIL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4256">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4259">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4264" headers="d1556508e4256 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4264 d1556508e4259 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>This command does not send the message; it simply begins its preparation. It must be followed by calls to <code class="codeph">RCPT</code> and <code class="codeph">DATA</code> to complete the transaction. The connection to the SMTP server must be open and a <code class="codeph">HELO</code> or <code class="codeph">EHLO</code> command must have already been sent.
                        </p>
                        <p>The expected response from the server is a message beginning with status code 250.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71505"></a><a id="ARPLS71506"></a><a id="ARPLS71507"></a><a id="ARPLS71506"></a><a id="ARPLS71507"></a><a id="ARPLS71505"></a><div class="props_rev_3"><a id="GUID-26D72CB0-D451-486F-9109-2BD77AEC36F2" name="GUID-26D72CB0-D451-486F-9109-2BD77AEC36F2"></a><h4 id="ARPLS-GUID-26D72CB0-D451-486F-9109-2BD77AEC36F2" class="sect4"><span class="enumeration_section">273.10.11 </span>NOOP Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram issues the <code class="codeph">NULL</code> command.
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.NOOP (
   c  IN OUT NOCOPY connection) 
RETURN reply;

UTL_SMTP.NOOP (
   c  IN OUT NOCOPY connection);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameter</p>
                        <div class="tblformal" id="GUID-26D72CB0-D451-486F-9109-2BD77AEC36F2__GUID-4EE644D7-E8C0-4888-B668-3F3A8207F401">
                           <p class="titleintable">Table 273-27 NOOP Function and Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="NOOP Function and Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.NOOP subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4413">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4416">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4421" headers="d1556508e4413 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4421 d1556508e4416 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-26D72CB0-D451-486F-9109-2BD77AEC36F2__GUID-40C21B61-7009-4917-9A6F-A92D67AE191B">
                           <p class="titleintable">Table 273-28 NOOP Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="NOOP Function and Procedure Return Values " summary="This table describes Values Returned by the NOOP subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4441">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4444">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4449" headers="d1556508e4441 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4449 d1556508e4444 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This command has no effect except to elicit a successful reply from the server. It can be issued at any time after the connection to the server has been established with <code class="codeph">OPEN_CONNECTION</code>. The<code class="codeph"> NOOP</code> command can be used to verify that the server is still connected and is listening properly. 
                              </p>
                           </li>
                           <li>
                              <p>This command replies with a single line beginning with status code 250.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71508"></a><a id="ARPLS71509"></a><a id="ARPLS73424"></a><a id="ARPLS71509"></a><a id="ARPLS73424"></a><a id="ARPLS71508"></a><div class="props_rev_3"><a id="GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" name="GUID-D6826448-1407-4476-AFB8-D1EB14E38F67"></a><h4 id="ARPLS-GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" class="sect4"><span class="enumeration_section">273.10.12 </span>OPEN_CONNECTION Functions
                  </h4>
                  <div>
                     <p>These functions open a connection to an SMTP server.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.OPEN_CONNECTION (
   host                            IN  VARCHAR2, 
   port                            IN  PLS_INTEGER DEFAULT 25, 
   c                               OUT connection, 
   tx_timeout                      IN  PLS_INTEGER DEFAULT NULL,
   wallet_path                     IN  VARCHAR2 DEFAULT NULL,
   wallet_password                 IN  VARCHAR2 DEFAULT NULL, 
   secure_connection_before_smtp   IN  BOOLEAN DEFAULT FALSE,
   secure_host                     IN  VARCHAR2 DEFAULT NULL)
 RETURN reply; 

UTL_SMTP.OPEN_CONNECTION (
   host                           IN  VARCHAR2, 
   port                           IN  PLS_INTEGER DEFAULT 25, 
   tx_timeout                     IN  PLS_INTEGER DEFAULT NULL,
   wallet_path                    IN  VARCHAR2 DEFAULT NULL,
   wallet_password                IN  VARCHAR2 DEFAULT NULL, 
   secure_connection_before_smtp  IN  BOOLEAN DEFAULT FALSE,
   secure_host                    IN  VARCHAR2 DEFAULT NULL) 
RETURN connection; </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-D6826448-1407-4476-AFB8-D1EB14E38F67__GUID-C924CB81-15EB-4F65-8519-897D791BFF0D">
                           <p class="titleintable">Table 273-29 OPEN_CONNECTION Functions Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPEN_CONNECTION Functions Parameters " summary="This table describes the Parameters of the UTL_SMTP.OPEN_CONNECTION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4591">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4594">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4599" headers="d1556508e4591 ">
                                       <p><code class="codeph">host</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4599 d1556508e4594 ">
                                       <p>Name of the SMTP server host</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4607" headers="d1556508e4591 ">
                                       <p><code class="codeph">port</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4607 d1556508e4594 ">
                                       <p>Port number on which SMTP server is listening (usually 25)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4615" headers="d1556508e4591 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4615 d1556508e4594 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4623" headers="d1556508e4591 ">
                                       <p><code class="codeph">tx_timeout</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4623 d1556508e4594 ">
                                       <p>Time in seconds that the <code class="codeph">UTL_SMTP</code> package waits before timing out in a read or write operation for this connection. In read operations, this package times out if no data is available for reading immediately. In write operations, this package times out if the output buffer is full and no data is to be sent into the network without being blocked. <code class="codeph">0</code> indicates not to wait at all. <code class="codeph">NULL</code> indicates to wait forever. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4640" headers="d1556508e4591 ">
                                       <p><code class="codeph">wallet_path</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4640 d1556508e4594 ">
                                       <p>Directory path that contains the Oracle wallet for SSL/TLS. The format is <code class="codeph">file</code>: <code class="codeph">&lt;directory-path&gt;</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4653" headers="d1556508e4591 ">
                                       <p><code class="codeph">wallet_password</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4653 d1556508e4594 ">
                                       <p>Password to open the wallet. When the wallet is auto-login enabled, the password can be set to <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4664" headers="d1556508e4591 ">
                                       <p><code class="codeph">secure_connection_before_smtp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4664 d1556508e4594 ">
                                       <p>If <code class="codeph">TRUE</code>, a secure connection with SSL/TLS is made before SMTP communication. If <code class="codeph">FALSE</code>, no connection is made.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4678" headers="d1556508e4591 ">
                                       <p><code class="codeph">secure_host</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4678 d1556508e4594 ">
                                       <p>The host name to be matched against the common name (CN) of the SMTP server's certificate when a secure connection is used. It can also be a domain name like <code class="codeph">"*.example.com"</code>.
                                       </p>
                                       <p>If <code class="codeph">NULL</code>, the SMTP host name to connect to will be used.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-D6826448-1407-4476-AFB8-D1EB14E38F67__GUID-3AB072A2-9EFF-47EC-8C81-5EF4FCACC1B1">
                           <p class="titleintable">Table 273-30 OPEN_CONNECTION Functions Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPEN_CONNECTION Functions Return Values " summary="This table describes Values Returned by the OPEN_CONNECTION subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4706">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4709">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4714" headers="d1556508e4706 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4714 d1556508e4709 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The expected response from the server is a message beginning with status code 220.</p>
                           </li>
                           <li>
                              <p>The version of <code class="codeph">OPEN_CONNECTION</code> that returns <code class="codeph">UTL_SMTP</code>.<code class="codeph">CONNECTION</code> record checks the reply code returned by an SMTP server when the connection is first established. It raises an exception when the reply indicates an error. Otherwise, it discards the reply. If you want to examine the reply, invoke the version of <code class="codeph">OPEN_CONNECTION</code> that returns <code class="codeph">REPLY</code>. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">tx_timeout</code> is intended to govern both the read operations and the write operations. However, an implementation restriction prevents <code class="codeph">tx_timeout</code> from governing write operations in the current release.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">DECLARE
  c utl_smtp.connection;
BEGIN
  c := UTL_SMTP.OPEN_CONNECTION(
   host =&gt; 'smtp.example.com',
   port =&gt; 465,
   wallet_path =&gt; 'file:/oracle/wallets/smtp_wallet',
   wallet_password =&gt; '<span class="italic">password</span>',
   secure_connection_before_smtp =&gt; TRUE);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71511"></a><a id="ARPLS71512"></a><a id="ARPLS71513"></a><a id="ARPLS71512"></a><a id="ARPLS71513"></a><a id="ARPLS71511"></a><div class="props_rev_3"><a id="GUID-C9BC3845-41CC-45A3-8423-905B584B6200" name="GUID-C9BC3845-41CC-45A3-8423-905B584B6200"></a><h4 id="ARPLS-GUID-C9BC3845-41CC-45A3-8423-905B584B6200" class="sect4"><span class="enumeration_section">273.10.13 </span>OPEN_DATA Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram sends the <code class="codeph">DATA</code> command after which you can use <code class="codeph">WRITE_DATA</code> and <code class="codeph">WRITE_RAW_DATA</code> to write a portion of the e-mail message.
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.OPEN_DATA (
   c     IN OUT NOCOPY connection) 
RETURN reply;

UTL_SMTP.OPEN_DATA (
   c     IN OUT NOCOPY connection);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-C9BC3845-41CC-45A3-8423-905B584B6200__GUID-1B331333-8087-4273-A004-046904B7782C">
                           <p class="titleintable">Table 273-31 OPEN_DATA Function and Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPEN_DATA Function and Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.OPEN_DATA subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4890">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4893">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4898" headers="d1556508e4890 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4898 d1556508e4893 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4906" headers="d1556508e4890 ">
                                       <p><code class="codeph">data</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4906 d1556508e4893 ">
                                       <p>Portion of the text of the message to be sent, including headers, in RFC822 format.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-C9BC3845-41CC-45A3-8423-905B584B6200__GUID-9566B888-DC22-4E9B-A0CC-19F0095DE445">
                           <p class="titleintable">Table 273-32 OPEN_DATA Function and Procedure Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OPEN_DATA Function and Procedure Function Return Values " summary="This table describes Values Returned by the OPEN_DATA subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e4926">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e4929">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e4934" headers="d1556508e4926 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e4934 d1556508e4929 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The calls to <code class="codeph">OPEN_DATA</code>, <code class="codeph">WRITE_DATA</code>, <code class="codeph">WRITE_RAW_DATA</code> and <code class="codeph">CLOSE_DATA</code> must be made in the right order. A program calls <code class="codeph">OPEN_DATA</code> to send the <code class="codeph">DATA</code> command to the SMTP server. After that, it can call <code class="codeph">WRITE_DATA</code> or <code class="codeph">WRITE_RAW_DATA</code> repeatedly to send the actual data. The data is terminated by calling <code class="codeph">CLOSE_DATA</code>. After <code class="codeph">OPEN_DATA</code> is called, the only subprograms that can be called are <code class="codeph">WRITE_DATA</code>, <code class="codeph">WRITE_RAW_DATA,</code> or <code class="codeph">CLOSE_DATA</code>. A call to other subprograms results in an <code class="codeph">INVALID_OPERATION</code> exception being raised.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OPEN_DATA</code> must be called only after <code class="codeph">OPEN_CONNECTION</code>, <code class="codeph">HELO</code> or <code class="codeph">EHLO</code>, <code class="codeph">MAIL</code>, and <code class="codeph">RCPT</code> have been called. The connection to the SMTP server must be open and a mail transaction must be active when this routine is called.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71514"></a><a id="ARPLS71515"></a><a id="ARPLS71516"></a><a id="ARPLS71515"></a><a id="ARPLS71516"></a><a id="ARPLS71514"></a><div class="props_rev_3"><a id="GUID-A15C39CE-8937-4075-95A7-E7F8298961CB" name="GUID-A15C39CE-8937-4075-95A7-E7F8298961CB"></a><h4 id="ARPLS-GUID-A15C39CE-8937-4075-95A7-E7F8298961CB" class="sect4"><span class="enumeration_section">273.10.14 </span>QUIT Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram terminates an SMTP session and disconnects from the server.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.QUIT (
   c  IN OUT NOCOPY connection) 
RETURN reply;

UTL_SMTP.QUIT (
   c  IN OUT NOCOPY connection);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameter</p>
                        <div class="tblformal" id="GUID-A15C39CE-8937-4075-95A7-E7F8298961CB__GUID-C837E44A-0D81-4E5B-95E3-F2A0AF40582D">
                           <p class="titleintable">Table 273-33 QUIT Function and Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="QUIT Function and Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.QUIT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5132">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5135">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5140" headers="d1556508e5132 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5140 d1556508e5135 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-A15C39CE-8937-4075-95A7-E7F8298961CB__GUID-C00E60BF-2B07-44D9-8219-F93184B8BE67">
                           <p class="titleintable">Table 273-34 QUIT Function and Procedure Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="QUIT Function and Procedure Function Return Values " summary="This table describes Values Returned by the QUIT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5160">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5163">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5168" headers="d1556508e5160 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5168 d1556508e5163 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>The <code class="codeph">QUIT</code> command informs the SMTP server of the client's intent to terminate the session. It then closes the connection established by <code class="codeph">OPEN_CONNECTION</code> which must have been called before executing this command. If a mail transaction is in progress when <code class="codeph">QUIT</code> is issued, it is canceled in the same manner as <code class="codeph">RSET.</code> 
                        </p>
                        <p>The function form of this command returns a single line beginning with the status code 221 on successful termination. In all cases, the connection to the SMTP server is closed. The fields <code class="codeph">REMOTE_HOST</code> and <code class="codeph">REMOTE_PORT</code> of <code class="codeph">c</code> are reset.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Related Functions</p>
                        <p><a href="UTL_SMTP.html#GUID-DABF4853-8BC3-4DE5-9A73-8BE453894BF8" title="This subprogram terminates the current mail transaction.">RSET Function and Procedure</a></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71517"></a><a id="ARPLS71518"></a><a id="ARPLS71519"></a><a id="ARPLS71518"></a><a id="ARPLS71519"></a><a id="ARPLS71517"></a><div class="props_rev_3"><a id="GUID-DBE0E113-9836-4133-91BE-5725E6AC6995" name="GUID-DBE0E113-9836-4133-91BE-5725E6AC6995"></a><h4 id="ARPLS-GUID-DBE0E113-9836-4133-91BE-5725E6AC6995" class="sect4"><span class="enumeration_section">273.10.15 </span>RCPT Function
                  </h4>
                  <div>
                     <p>This subprogram specifies the recipient of an e-mail message.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.RCPT (
   c           IN OUT NOCOPY     connection,
   recipient   IN                VARCHAR2,
   parameters  IN                VARCHAR2 DEFAULT NULL)
RETURN reply;

UTL_SMTP.RCPT (
   c           IN OUT NOCOPY     connection,
   recipient   IN                VARCHAR2,
   parameters  IN                VARCHAR2 DEFAULT NULL);</pre><div class="tblformal" id="GUID-DBE0E113-9836-4133-91BE-5725E6AC6995__GUID-A9CC9587-6017-440D-8D6B-3A50CBE5273A">
                           <p class="titleintable">Table 273-35 RCPT Function and Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RCPT Function and Procedure Parameters" summary="This table describes the Parameters of the UTL_SMTP.RCPT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5329">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5332">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5337" headers="d1556508e5329 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5337 d1556508e5332 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5345" headers="d1556508e5329 ">
                                       <p><code class="codeph">recipient</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5345 d1556508e5332 ">
                                       <p>E-mail address of the user to which the message is being sent</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5353" headers="d1556508e5329 ">
                                       <p><code class="codeph">parameters</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5353 d1556508e5332 ">
                                       <p>Additional parameters to RCPT command as defined in Section 6 of [RFC1869]. It must follow the format of "XXX=XXX (XXX=XXX ....)".</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-DBE0E113-9836-4133-91BE-5725E6AC6995__GUID-A57F83B6-8D1B-4A4D-B105-2A8DA03B1F83">
                           <p class="titleintable">Table 273-36 RCPT Function and Procedure Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RCPT Function and Procedure Function Return Values " summary="This table describes Values Returned by the RCPT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5373">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5376">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5381" headers="d1556508e5373 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5381 d1556508e5376 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>To send a message to multiple recipients, call this routine multiple times. Each invocation schedules delivery to a single e-mail address. The message transaction must have been begun by a prior call to <code class="codeph">MAIL</code>, and the connection to the mail server must have been opened and initialized by prior calls to <code class="codeph">OPEN_CONNECTION</code> and <code class="codeph">HELO</code> or <code class="codeph">EHLO</code> respectively.
                        </p>
                        <p>The expected response from the server is a message beginning with status code 250 or 251.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71520"></a><a id="ARPLS71521"></a><a id="ARPLS71522"></a><a id="ARPLS71521"></a><a id="ARPLS71522"></a><a id="ARPLS71520"></a><div class="props_rev_3"><a id="GUID-DABF4853-8BC3-4DE5-9A73-8BE453894BF8" name="GUID-DABF4853-8BC3-4DE5-9A73-8BE453894BF8"></a><h4 id="ARPLS-GUID-DABF4853-8BC3-4DE5-9A73-8BE453894BF8" class="sect4"><span class="enumeration_section">273.10.16 </span>RSET Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram terminates the current mail transaction.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.RSET (
   c  IN OUT NOCOPY connection) 
RETURN reply;

UTL_SMTP.RSET (
   c  IN OUT NOCOPY connection);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-DABF4853-8BC3-4DE5-9A73-8BE453894BF8__GUID-A3396E5A-17E8-4094-974B-5CF9D901AE4E">
                           <p class="titleintable">Table 273-37 RSET Function and Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RSET Function and Procedure Parameters" summary="This table describes the Parameters of the UTL_SMTP.RSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5526">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5529">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5534" headers="d1556508e5526 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5534 d1556508e5529 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-DABF4853-8BC3-4DE5-9A73-8BE453894BF8__GUID-2A141558-1178-4968-A3E9-27D2C29965EB">
                           <p class="titleintable">Table 273-38 RSET Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RSET Function and Procedure Return Values " summary="This table describes Values Returned by the RSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5554">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5557">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5562" headers="d1556508e5554 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5562 d1556508e5557 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This command allows the client to cancel an e-mail message it was in the process of composing. No mail is sent. The client can call <code class="codeph">RSET</code> at any time after the connection to the SMTP server has been opened by means of <code class="codeph">OPEN_CONNECTION</code> until <code class="codeph">DATA</code> or <code class="codeph">OPEN_DATA</code> is called. Once the e-mail data has been sent, it is too late to prevent the e-mail from being sent. 
                              </p>
                           </li>
                           <li>
                              <p>The server responds to <code class="codeph">RSET</code> with a message beginning with status code 250.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Related Functions</p>
                        <p><a href="UTL_SMTP.html#GUID-A15C39CE-8937-4075-95A7-E7F8298961CB" title="This subprogram terminates an SMTP session and disconnects from the server.">QUIT Function and Procedure</a></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73117"></a><a id="ARPLS73118"></a><a id="ARPLS73119"></a><a id="ARPLS73118"></a><a id="ARPLS73119"></a><a id="ARPLS73117"></a><div class="props_rev_3"><a id="GUID-3692D4DA-357E-48F7-88CD-6D905EA1F663" name="GUID-3692D4DA-357E-48F7-88CD-6D905EA1F663"></a><h4 id="ARPLS-GUID-3692D4DA-357E-48F7-88CD-6D905EA1F663" class="sect4"><span class="enumeration_section">273.10.17 </span>STARTTLS Function and Procedure
                  </h4>
                  <div>
                     <p>This subprogram sends the <code class="codeph">STARTTLS</code> command to secure the SMTP connection using SSL/TLS. 
                     </p>
                     <div class="section">
                        <p>SSL/TLS requires an Oracle wallet which must be specified when the connection was opened by the <a href="UTL_SMTP.html#GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" title="These functions open a connection to an SMTP server.">OPEN_CONNECTION Functions</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.STARTTLS (
   c            IN OUT NOCOPY  connection,
   secure_host  IN     VARCHAR2 DEFAULT NULL) 
RETURN reply;

UTL_SMTP.STARTTLS (
   c            IN OUT NOCOPY connection,
   secure_host  IN     VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-3692D4DA-357E-48F7-88CD-6D905EA1F663__GUID-25D3E755-544E-4BCC-8189-0843A31BCD14">
                           <p class="titleintable">Table 273-39 STARTTLS Function and Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STARTTLS Function and Procedure Parameters" summary="This table describes the parameters of the UTL_SMTP.STARTTLS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5737">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5740">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5745" headers="d1556508e5737 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5745 d1556508e5740 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5753" headers="d1556508e5737 ">
                                       <p><code class="codeph">secure_host</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5753 d1556508e5740 ">
                                       <p>The host name to be matched against the common name (CN) of the SMTP server's certificate. It can also be a domain name like <code class="codeph">"*.example.com"</code>. 
                                       </p>
                                       <p>If <code class="codeph">NULL</code>, the SMTP host name to connect to will be used.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-3692D4DA-357E-48F7-88CD-6D905EA1F663__GUID-AA9B9CBF-17CE-4900-8CAA-DF9E007738E7">
                           <p class="titleintable">Table 273-40 STARTTLS Function and Procedure Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STARTTLS Function and Procedure Return Values " summary="This table describes values returned by the UTL_SMTP.STARTTLS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5781">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5784">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5789" headers="d1556508e5781 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5789 d1556508e5784 ">
                                       <p>SMTP reply</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>The <code class="codeph">STARTTLS</code> command must only be issued on an unencrypted connection and when the SMTP server indicates the support of the command in the reply of the <code class="codeph">EHLO</code> command. The wallet to be used for encryption must have been specified when the initial SMTP connection was opened by the <code class="codeph">OPEN_CONNECTION</code> function.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Examples</p><pre class="oac_no_warn" dir="ltr">DECLARE
  c utl_smtp.connection;
BEGIN
  c := utl_smtp.open_connection(
     host =&gt; 'smtp.example.com',
     port =&gt; 25,
     wallet_path =&gt; 'file:/oracle/wallets/smtp_wallet',
     wallet_password =&gt; '<span class="italic">password</span>',
     secure_connection_before_smtp =&gt; FALSE);
  utl_smtp.starttls(c);
END</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71523"></a><a id="ARPLS71524"></a><a id="ARPLS71525"></a><a id="ARPLS71524"></a><a id="ARPLS71525"></a><a id="ARPLS71523"></a><div class="props_rev_3"><a id="GUID-AF4CA998-563C-4BEE-A71D-C559D81960D1" name="GUID-AF4CA998-563C-4BEE-A71D-C559D81960D1"></a><h4 id="ARPLS-GUID-AF4CA998-563C-4BEE-A71D-C559D81960D1" class="sect4"><span class="enumeration_section">273.10.18 </span>VRFY Function
                  </h4>
                  <div>
                     <p>This function verifies the validity of a destination e-mail address.</p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.VRFY (
   c          IN OUT NOCOPY connection
   recipient  IN VARCHAR2) 
RETURN reply;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-AF4CA998-563C-4BEE-A71D-C559D81960D1__GUID-5CBF238E-4C07-424D-9F56-99443C6941BD">
                           <p class="titleintable">Table 273-41 VRFY Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="VRFY Function Parameters" summary="This table describes the parameters of the UTL_SMTP.VRFY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5928">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5931">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5936" headers="d1556508e5928 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5936 d1556508e5931 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5944" headers="d1556508e5928 ">
                                       <p><code class="codeph">recipient</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5944 d1556508e5931 ">
                                       <p>E-mail address to be verified</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Return Values</p>
                        <div class="tblformal" id="GUID-AF4CA998-563C-4BEE-A71D-C559D81960D1__GUID-F689A16D-29F8-46BE-A5C1-06864F82BB7A">
                           <p class="titleintable">Table 273-42 VRFY Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="VRFY Function Return Values " summary="This table describes values returned by the UTL_SMTP.VRFY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e5964">Return Value</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e5967">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e5972" headers="d1556508e5964 ">
                                       <p><code class="codeph">reply</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e5972 d1556508e5967 ">
                                       <p>Reply of the command (see REPLY_ REPLIES Record Types in <a href="UTL_SMTP.html#GUID-D39F9176-4462-4BDD-A383-D6B52DEC93B2" title="UTL_SMTP uses a CONNECTION record type and REPLY_REPLIES record types.">UTl_SMTP Types</a>). In cases where there are multiple replies, the last reply is returned.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <p>The server attempts to resolve the destination address <code class="codeph">recipient.</code> If successful, it returns the recipient's full name and fully qualified mailbox path. The connection to the server must have already been established by means of <code class="codeph">OPEN_CONNECTION</code> and <code class="codeph">HELO</code> or <code class="codeph">EHLO</code> before making this request.
                        </p>
                        <p>Successful verification returns one or more lines beginning with status code 250 or 251.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71526"></a><a id="ARPLS71527"></a><a id="ARPLS71527"></a><a id="ARPLS71526"></a><div class="props_rev_3"><a id="GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" name="GUID-E9866416-3DD3-4915-9198-999ADFACBFFA"></a><h4 id="ARPLS-GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" class="sect4"><span class="enumeration_section">273.10.19 </span>WRITE_DATA Procedure
                  </h4>
                  <div>
                     <p>This procedure writes a portion of the e-mail message. A repeat call to <code class="codeph">WRITE_DATA</code> appends data to the e-mail message.
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.WRITE_DATA (
   c     IN OUT NOCOPY connection, 
   data  IN VARCHAR2 CHARACTER SET ANY_CS);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-E9866416-3DD3-4915-9198-999ADFACBFFA__GUID-B744D62B-D626-4DEC-B487-656B7B2C5852">
                           <p class="titleintable">Table 273-43 WRITE_DATA Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WRITE_DATA Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.WRITE_DATA subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e6118">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e6121">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e6126" headers="d1556508e6118 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e6126 d1556508e6121 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e6134" headers="d1556508e6118 ">
                                       <p><code class="codeph">data</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e6134 d1556508e6121 ">
                                       <p>Portion of the text of the message to be sent, including headers, in [RFC822] format</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The calls to the <a href="UTL_SMTP.html#GUID-C9BC3845-41CC-45A3-8423-905B584B6200" title="This subprogram sends the DATA command after which you can use WRITE_DATA and WRITE_RAW_DATA to write a portion of the e-mail message.">OPEN_DATA Function and Procedure</a>, <a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a>, <a href="UTL_SMTP.html#GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_RAW_DATA appends data to the e-mail message.">WRITE_RAW_DATA Procedure</a> and <a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a> must be made in the correct order. A program calls <code class="codeph">OPEN_DATA</code> to send the <code class="codeph">DATA</code> command to the SMTP server. After that, it can call <code class="codeph">WRITE_DATA</code> or <code class="codeph">WRITE_RAW_DATA</code> repeatedly to send the actual data. The data is terminated by calling <code class="codeph">CLOSE_DATA</code>. After <code class="codeph">OPEN_DATA</code> is called, the only subprograms that can be called are <code class="codeph">WRITE_DATA</code>, <code class="codeph">WRITE_RAW_DATA,</code> or <code class="codeph">CLOSE_DATA</code>. A call to other subprograms results in an <code class="codeph">INVALID_OPERATION</code> exception being raised.
                              </p>
                           </li>
                           <li>
                              <p>The application must ensure that the contents of the body parameter conform to the MIME(RFC822) specification. The <code class="codeph">DATA</code> routine terminates the message with a <code class="codeph">&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> sequence (a single period at the beginning of a line), as required by RFC821. It also translates any sequence of <code class="codeph">&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> (single period) in the body to <code class="codeph">&lt;CR&gt;&lt;LF&gt;..&lt;CR&gt;&lt;LF&gt;</code> (double period). This conversion provides the transparency as described in Section 4.5.2 of RFC821.
                              </p>
                           </li>
                           <li>
                              <p>The <a href="UTL_SMTP.html#GUID-C9BC3845-41CC-45A3-8423-905B584B6200" title="This subprogram sends the DATA command after which you can use WRITE_DATA and WRITE_RAW_DATA to write a portion of the e-mail message.">OPEN_DATA Function and Procedure</a>, <a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a>, <a href="UTL_SMTP.html#GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_RAW_DATA appends data to the e-mail message.">WRITE_RAW_DATA Procedure</a> and <a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a> must be called only after <a href="UTL_SMTP.html#GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" title="These functions open a connection to an SMTP server.">OPEN_CONNECTION Functions</a>, <a href="UTL_SMTP.html#GUID-8A0A531F-C532-478B-81A9-02D80F71A181" title="This subprogram performs the initial handshake with SMTP server using the HELO command.">HELO Function and Procedure</a>, or <a href="UTL_SMTP.html#GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" title="This subprogram performs the initial handshake with SMTP server using the EHLO command.">EHLO Function and Procedure</a>, <a href="UTL_SMTP.html#GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79" title="This subprogram initiate a mail transaction with the server. The destination is a mailbox.">MAIL Function and Procedure</a>, and <a href="UTL_SMTP.html#GUID-DBE0E113-9836-4133-91BE-5725E6AC6995" title="This subprogram specifies the recipient of an e-mail message.">RCPT Function</a> have been called. The connection to the SMTP server must be open and a mail transaction must be active when this routine is called.
                              </p>
                           </li>
                           <li>
                              <p>Note that there is no function form of the <a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a> because the SMTP server does not respond until the data-terminator is sent during the call to <a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a>.
                              </p>
                           </li>
                           <li>
                              <p>Text (<code class="codeph">VARCHAR2</code>) data sent using <code class="codeph">WRITE_DATA</code> is converted to US7ASCII before it is sent. If the text contains multibyte characters, each multibyte character in the text that cannot be converted to US7ASCII is replaced by a '?' character. If 8BITMIME extension is negotiated with the SMTP server using the <code class="codeph">EHLO</code> subprogram, multibyte <code class="codeph">VARCHAR2</code> data can be sent by first converting the text to <code class="codeph">RAW</code> using the <code class="codeph">UTL_RAW</code> package, and then sending the <code class="codeph">RAW</code> data using <code class="codeph">WRITE_RAW_DATA</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71528"></a><a id="ARPLS71529"></a><a id="ARPLS71529"></a><a id="ARPLS71528"></a><div class="props_rev_3"><a id="GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" name="GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71"></a><h4 id="ARPLS-GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" class="sect4"><span class="enumeration_section">273.10.20 </span>WRITE_RAW_DATA Procedure
                  </h4>
                  <div>
                     <p>This procedure writes a portion of the e-mail message. A repeat call to <code class="codeph">WRITE_RAW_DATA</code> appends data to the e-mail message. 
                     </p>
                     <div class="section">
                        <p class="subhead3">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_SMTP.WRITE_RAW_DATA (
   c     IN OUT NOCOPY connection
   data  IN RAW);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Parameters</p>
                        <div class="tblformal" id="GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71__GUID-552EBFE3-57AF-4081-911A-9F86CC544786">
                           <p class="titleintable">Table 273-44 WRITE_RAW_DATA Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WRITE_RAW_DATA Procedure Parameters " summary="This table describes the Parameters of the UTL_SMTP.WRITE_RAW_DATA subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1556508e6495">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1556508e6498">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e6503" headers="d1556508e6495 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e6503 d1556508e6498 ">
                                       <p>SMTP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1556508e6511" headers="d1556508e6495 ">
                                       <p><code class="codeph">data</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1556508e6511 d1556508e6498 ">
                                       <p>Portion of the text of the message to be sent, including headers, in [RFC822] format</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The calls to the <a href="UTL_SMTP.html#GUID-C9BC3845-41CC-45A3-8423-905B584B6200" title="This subprogram sends the DATA command after which you can use WRITE_DATA and WRITE_RAW_DATA to write a portion of the e-mail message.">OPEN_DATA Function and Procedure</a>, <a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a>, <a href="UTL_SMTP.html#GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_RAW_DATA appends data to the e-mail message.">WRITE_RAW_DATA Procedure</a> and <a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a> must be made in the correct order. A program calls <code class="codeph">OPEN_DATA</code> to send the <code class="codeph">DATA</code> command to the SMTP server. After that, it can call <code class="codeph">WRITE_DATA</code> or <code class="codeph">WRITE_RAW_DATA</code> repeatedly to send the actual data. The data is terminated by calling <code class="codeph">CLOSE_DATA</code>. After <code class="codeph">OPEN_DATA</code> is called, the only subprograms that can be called are <code class="codeph">WRITE_DATA</code>, <code class="codeph">WRITE_RAW_DATA,</code> or <code class="codeph">CLOSE_DATA</code>. A call to other subprograms results in an <code class="codeph">INVALID_OPERATION</code> exception being raised.
                              </p>
                           </li>
                           <li>
                              <p>The application must ensure that the contents of the body parameter conform to the MIME(RFC822) specification. The <code class="codeph">DATA</code> routine terminates the message with a <code class="codeph">&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> sequence (a single period at the beginning of a line), as required by RFC821. It also translates any sequence of <code class="codeph">&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> (single period) in the body to <code class="codeph">&lt;CR&gt;&lt;LF&gt;..&lt;CR&gt;&lt;LF&gt;</code> (double period). This conversion provides the transparency as described in Section 4.5.2 of RFC821.
                              </p>
                           </li>
                           <li>
                              <p>The <a href="UTL_SMTP.html#GUID-C9BC3845-41CC-45A3-8423-905B584B6200" title="This subprogram sends the DATA command after which you can use WRITE_DATA and WRITE_RAW_DATA to write a portion of the e-mail message.">OPEN_DATA Function and Procedure</a>, <a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a>, <a href="UTL_SMTP.html#GUID-80B5BE9D-AE60-4BC4-A003-997BC360BC71" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_RAW_DATA appends data to the e-mail message.">WRITE_RAW_DATA Procedure</a> and <a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a> must be called only after <a href="UTL_SMTP.html#GUID-D6826448-1407-4476-AFB8-D1EB14E38F67" title="These functions open a connection to an SMTP server.">OPEN_CONNECTION Functions</a>, <a href="UTL_SMTP.html#GUID-8A0A531F-C532-478B-81A9-02D80F71A181" title="This subprogram performs the initial handshake with SMTP server using the HELO command.">HELO Function and Procedure</a>, or <a href="UTL_SMTP.html#GUID-1B9BB601-530F-414C-A56E-BD20CADE478F" title="This subprogram performs the initial handshake with SMTP server using the EHLO command.">EHLO Function and Procedure</a>, <a href="UTL_SMTP.html#GUID-A5512EE5-1E78-4660-B859-2A4047CEAD79" title="This subprogram initiate a mail transaction with the server. The destination is a mailbox.">MAIL Function and Procedure</a>, and <a href="UTL_SMTP.html#GUID-DBE0E113-9836-4133-91BE-5725E6AC6995" title="This subprogram specifies the recipient of an e-mail message.">RCPT Function</a> have been called. The connection to the SMTP server must be open and a mail transaction must be active when this routine is called.
                              </p>
                           </li>
                           <li>
                              <p>Note that there is no function form of the <a href="UTL_SMTP.html#GUID-E9866416-3DD3-4915-9198-999ADFACBFFA" title="This procedure writes a portion of the e-mail message. A repeat call to WRITE_DATA appends data to the e-mail message.">WRITE_DATA Procedure</a> because the SMTP server does not respond until the data-terminator is sent during the call to <a href="UTL_SMTP.html#GUID-E2238C80-F0EC-417B-A6EB-8FACD7FD6EF5" title="This subprogram ends the e-mail message by sending the sequence <CR&gt;<LF&gt;.<CR&gt;<LF&gt; (a single period at the beginning of a line).">CLOSE_DATA Function and Procedure</a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>