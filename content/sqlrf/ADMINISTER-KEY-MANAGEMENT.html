<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>ADMINISTER KEY MANAGEMENT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-11-29T11:56:42-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83703-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="How-the-SQL-Statement-Chapters-are-Organized.html" title="Previous" type="text/html">
      <link rel="next" href="ALTER-ANALYTIC-VIEW.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="How-the-SQL-Statement-Chapters-are-Organized.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="ALTER-ANALYTIC-VIEW.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ADMINISTER-KEY-MANAGEMENT-to-ALTER-JAVA.html" property="item" typeof="WebPage"><span property="name"> SQL Statements: ADMINISTER KEY MANAGEMENT to ALTER JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ADMINISTER KEY MANAGEMENT</li>
            </ol>
            <a id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9" name="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9"></a><a id="SQLRF55977"></a><a id="SQLRF55978"></a><a id="SQLRF55979"></a><a id="SQLRF55983"></a><a id="SQLRF56251"></a><a id="SQLRF55984"></a><a id="SQLRF55980"></a><a id="SQLRF55981"></a><a id="SQLRF55982"></a><a id="SQLRF55986"></a><a id="SQLRF56252"></a><a id="SQLRF55987"></a><a id="SQLRF55988"></a><a id="SQLRF55989"></a><a id="SQLRF55991"></a><a id="SQLRF55990"></a><a id="SQLRF56071"></a><a id="SQLRF56253"></a><a id="SQLRF55992"></a><a id="SQLRF55993"></a><a id="SQLRF55994"></a><a id="SQLRF56254"></a><a id="SQLRF56255"></a><a id="SQLRF56256"></a><a id="SQLRF56257"></a><a id="SQLRF56258"></a><a id="SQLRF56259"></a><a id="SQLRF56260"></a><a id="SQLRF56261"></a><a id="SQLRF56262"></a><a id="SQLRF56267"></a><a id="SQLRF56268"></a><a id="SQLRF56269"></a><a id="SQLRF56272"></a><a id="SQLRF56270"></a><a id="SQLRF56271"></a><a id="SQLRF56273"></a><a id="SQLRF56275"></a><a id="SQLRF56625"></a><a id="SQLRF56274"></a><a id="SQLRF56276"></a><a id="SQLRF56277"></a><a id="SQLRF56278"></a><a id="SQLRF56279"></a><a id="SQLRF56280"></a><a id="SQLRF56522"></a><a id="SQLRF56340"></a><a id="SQLRF56341"></a><a id="SQLRF56493"></a><a id="SQLRF56494"></a><a id="SQLRF56495"></a><a id="SQLRF56496"></a><a id="SQLRF56497"></a><a id="SQLRF56498"></a><a id="SQLRF56499"></a><a id="SQLRF56500"></a><a id="SQLRF56501"></a><a id="SQLRF56502"></a><a id="SQLRF56503"></a><a id="SQLRF56504"></a><a id="SQLRF56626"></a><a id="SQLRF56505"></a><a id="SQLRF56506"></a><a id="SQLRF56507"></a><a id="SQLRF55976"></a>
            
            <h2 id="SQLRF-GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9" class="sect2"><span class="enumeration_section">10.3 </span>ADMINISTER KEY MANAGEMENT
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1">Purpose</p>
                  <p>The <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> statement provides a unified key management interface for Transparent Data Encryption. Use this statement to:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Manage software and hardware keystores</p>
                     </li>
                     <li>
                        <p>Manage encryption keys</p>
                     </li>
                     <li>
                        <p>Manage secrets</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Prerequisites</p>
                  <p>You must have the <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> or <code class="codeph">SYSKM</code> system privilege.
                  </p>
                  <p>To specify the <code class="codeph">CONTAINER</code> clause, you must be connected to a multitenant container database (CDB). To specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>, the current container must be the root and you must have the commonly granted <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> or <code class="codeph">SYSKM</code> privilege.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">administer_key_management</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-153AE32B-309C-4F30-A706-664D18507604"><img src="img/administer_key_management.gif" alt="Description of administer_key_management.eps follows" title="Description of administer_key_management.eps follows" longdesc="img_text/administer_key_management.html"><br><a href="img_text/administer_key_management.html">Description of the illustration administer_key_management.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJEEFB">keystore_management_clauses::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFECGG">key_management_clauses::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEJDAI">secret_management_clauses::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJEEFB">
                  <p class="subhead1"><span class="italic">keystore_management_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C48F50F7-BEAE-4DCD-9470-7994B53BDA6E"><img src="img/keystore_management_clauses.gif" alt="Description of keystore_management_clauses.eps follows" title="Description of keystore_management_clauses.eps follows" longdesc="img_text/keystore_management_clauses.html"><br><a href="img_text/keystore_management_clauses.html">Description of the illustration keystore_management_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFAFFD">create_keystore::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDBEJF">open_keystore::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDHCEE">close_keystore::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJDBFF">backup_keystore::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFDIEE">alter_keystore_password::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGJCGG">merge_into_new_keystore::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFFGDF">merge_into_existing_keystore::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFAFFD">
                  <p class="subhead1"><span class="italic">create_keystore</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-237FEC5C-365A-4EA6-B4BC-CAB276A92613"><img src="img/create_keystore.gif" alt="Description of create_keystore.eps follows" title="Description of create_keystore.eps follows" longdesc="img_text/create_keystore.html"><br><a href="img_text/create_keystore.html">Description of the illustration create_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDBEJF">
                  <p class="subhead1"><span class="italic">open_keystore</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-F77A22EF-D732-47C9-8539-47F949D484C9"><img src="img/open_keystore.gif" alt="Description of open_keystore.eps follows" title="Description of open_keystore.eps follows" longdesc="img_text/open_keystore.html"><br><a href="img_text/open_keystore.html">Description of the illustration open_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDHCEE">
                  <p class="subhead1"><span class="italic">close_keystore</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-E4ABEB03-9472-4ECC-AC75-B69E8C7E34B8"><img src="img/close_keystore.gif" alt="Description of close_keystore.eps follows" title="Description of close_keystore.eps follows" longdesc="img_text/close_keystore.html"><br><a href="img_text/close_keystore.html">Description of the illustration close_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJDBFF">
                  <p class="subhead1"><span class="italic">backup_keystore</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-2BFE6D64-8679-41B3-BD27-284E751B3D3D"><img src="img/backup_keystore.gif" alt="Description of backup_keystore.eps follows" title="Description of backup_keystore.eps follows" longdesc="img_text/backup_keystore.html"><br><a href="img_text/backup_keystore.html">Description of the illustration backup_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFDIEE">
                  <p class="subhead1"><span class="italic">alter_keystore_password</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9791208A-A4B2-416C-BD60-96A568DBE6A2"><img src="img/alter_keystore_password.gif" alt="Description of alter_keystore_password.eps follows" title="Description of alter_keystore_password.eps follows" longdesc="img_text/alter_keystore_password.html"><br><a href="img_text/alter_keystore_password.html">Description of the illustration alter_keystore_password.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGJCGG">
                  <p class="subhead1"><span class="italic">merge_into_new_keystore</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-DC120BBD-AAD7-4694-872F-A89EE4923EC7"><img src="img/merge_into_new_keystore.gif" alt="Description of merge_into_new_keystore.eps follows" title="Description of merge_into_new_keystore.eps follows" longdesc="img_text/merge_into_new_keystore.html"><br><a href="img_text/merge_into_new_keystore.html">Description of the illustration merge_into_new_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFFGDF">
                  <p class="subhead1"><span class="italic">merge_into_existing_keystore</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-06368538-79EE-4283-BD52-B28D65015EB4"><img src="img/merge_into_existing_keystore.gif" alt="Description of merge_into_existing_keystore.eps follows" title="Description of merge_into_existing_keystore.eps follows" longdesc="img_text/merge_into_existing_keystore.html"><br><a href="img_text/merge_into_existing_keystore.html">Description of the illustration merge_into_existing_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFECGG">
                  <p class="subhead1"><span class="italic">key_management_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9CFBDAE5-D4CA-4BD8-875D-2D9D9AEDAA0A"><img src="img/key_management_clauses.gif" alt="Description of key_management_clauses.eps follows" title="Description of key_management_clauses.eps follows" longdesc="img_text/key_management_clauses.html"><br><a href="img_text/key_management_clauses.html">Description of the illustration key_management_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEHAIAI">set_key::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGGEGI">create_key::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJHBCJ">use_key::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBBAC">set_key_tag::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGECAFFH">export_keys::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJBIFJ">import_keys::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBHGHA">migrate_key::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEAGHG">reverse_migrate_key::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEHAIAI">
                  <p class="subhead1"><span class="italic">set_key</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-38DA1A10-3ED1-4314-8111-D7E9FA377590"><img src="img/set_key.gif" alt="Description of set_key.eps follows" title="Description of set_key.eps follows" longdesc="img_text/set_key.html"><br><a href="img_text/set_key.html">Description of the illustration set_key.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGGEGI">
                  <p class="subhead1"><span class="italic">create_key</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5B421E25-BD50-461A-ABAA-81CBB8C55AF7"><img src="img/create_key.gif" alt="Description of create_key.eps follows" title="Description of create_key.eps follows" longdesc="img_text/create_key.html"><br><a href="img_text/create_key.html">Description of the illustration create_key.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJHBCJ">
                  <p class="subhead1"><span class="italic">use_key</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-011FE799-EF5A-4724-A5BE-C357AED57915"><img src="img/use_key.gif" alt="Description of use_key.eps follows" title="Description of use_key.eps follows" longdesc="img_text/use_key.html"><br><a href="img_text/use_key.html">Description of the illustration use_key.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBBAC">
                  <p class="subhead1"><span class="italic">set_key_tag</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-51283FCF-615E-4DDC-B264-B6AAC7302A8C"><img src="img/set_key_tag.gif" alt="Description of set_key_tag.eps follows" title="Description of set_key_tag.eps follows" longdesc="img_text/set_key_tag.html"><br><a href="img_text/set_key_tag.html">Description of the illustration set_key_tag.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGECAFFH">
                  <p class="subhead1"><span class="italic">export_keys</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C13EE6AD-98E1-42ED-9EA5-CE708AD6BA87"><img src="img/export_keys.gif" alt="Description of export_keys.eps follows" title="Description of export_keys.eps follows" longdesc="img_text/export_keys.html"><br><a href="img_text/export_keys.html">Description of the illustration export_keys.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJBIFJ">
                  <p class="subhead1"><span class="italic">import_keys</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-37B83242-EF07-4D82-BFD7-ADB1070A6446"><img src="img/import_keys.gif" alt="Description of import_keys.eps follows" title="Description of import_keys.eps follows" longdesc="img_text/import_keys.html"><br><a href="img_text/import_keys.html">Description of the illustration import_keys.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBHGHA">
                  <p class="subhead1"><span class="italic">migrate_key</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C1BA77A8-0A97-4667-8BF2-1F6D16BF8D93"><img src="img/migrate_key.gif" alt="Description of migrate_key.eps follows" title="Description of migrate_key.eps follows" longdesc="img_text/migrate_key.html"><br><a href="img_text/migrate_key.html">Description of the illustration migrate_key.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEAGHG">
                  <p class="subhead1"><span class="italic">reverse_migrate_key</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-F214D1D3-F8ED-4718-A933-7CA2547B276E"><img src="img/reverse_migrate_key.gif" alt="Description of reverse_migrate_key.eps follows" title="Description of reverse_migrate_key.eps follows" longdesc="img_text/reverse_migrate_key.html"><br><a href="img_text/reverse_migrate_key.html">Description of the illustration reverse_migrate_key.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEJDAI">
                  <p class="subhead1"><span class="italic">secret_management_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-B3627463-A82F-432A-8BE5-D7A68E8446BB"><img src="img/secret_management_clauses.gif" alt="Description of secret_management_clauses.eps follows" title="Description of secret_management_clauses.eps follows" longdesc="img_text/secret_management_clauses.html"><br><a href="img_text/secret_management_clauses.html">Description of the illustration secret_management_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBDBJI">add_update_secret::=</a></span>, <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBIEH">delete_secret::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBDBJI">
                  <p class="subhead1"><span class="italic">add_update_secret</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-3B971662-D93F-4F10-A1CE-8D70A50495F2"><img src="img/add_update_secret.gif" alt="Description of add_update_secret.eps follows" title="Description of add_update_secret.eps follows" longdesc="img_text/add_update_secret.html"><br><a href="img_text/add_update_secret.html">Description of the illustration add_update_secret.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBIEH">
                  <p class="subhead1"><span class="italic">delete_secret</span>::=
                  </p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-8BB58324-F0E9-4F22-BF14-DC8582FF8F84"><img src="img/delete_secret.gif" alt="Description of delete_secret.eps follows" title="Description of delete_secret.eps follows" longdesc="img_text/delete_secret.html"><br><a href="img_text/delete_secret.html">Description of the illustration delete_secret.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">keystore_management_clauses</span></p>
                  <p>Use these clauses to perform the following keystore management operations:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Create a software keystore</p>
                     </li>
                     <li>
                        <p>Open and close a software keystore or a hardware keystore</p>
                     </li>
                     <li>
                        <p>Back up a password-based software keystore</p>
                     </li>
                     <li>
                        <p>Change the password of a password-based software keystore</p>
                     </li>
                     <li>
                        <p>Merge two existing software keystores into a new password-based software keystore</p>
                     </li>
                     <li>
                        <p>Merge one existing software keystore into an existing password-based software keystore</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">create_keystore</span></p>
                  <p>This clause lets you create the following types of software keystores: password-based software keystores and auto-login software keystores. To issue this clause in a multitenant environment, you must be connected to the root.</p>
                  <p><span class="bold">CREATE KEYSTORE</span></p>
                  <p>Specify this clause to create a password-based software keystore.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore_location</code></span>, specify the full path name of the software keystore directory. The keystore will be created in this directory in a file named <code class="codeph">ewallet.p12</code>. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10276"><span class="italic">Oracle Database Advanced Security Guide</span></a> to learn how to determine the software keystore directory for your system.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to set the password for the keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">CREATE [ LOCAL ] AUTO_LOGIN KEYSTORE</span></p>
                  <p>Specify this clause to create an auto-login software keystore. An auto-login software keystore is created from an existing password-based software keystore. The auto-login keystore has a system-generated password. It is stored in a PKCS#12-based file named <code class="codeph">cwallet.sso</code> in the same directory as the password-based software keystore.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>By default, Oracle creates an auto-login keystore, which can be opened from computers other than the computer on which the keystore resides. If you specify the <code class="codeph">LOCAL</code> keyword, then Oracle Database creates a local auto-login keystore, which can be opened only from the computer on which the keystore resides.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore_location</code></span>, specify the full path name of the directory in which the existing password-based software keystore resides. The password-based software keystore can be open or closed.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the existing password-based software keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Restriction on Creating Keystores</span></p>
                  <p>You can create at most one password-based software keystore and one auto-login software keystore, either local or not, in any single directory.</p>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-23BB4783-6DA1-4260-9D49-F574949C2338">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10282"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on creating software keystores
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__OPEN_KEYSTORE-2C9ED408">
                  <p class="subhead1"><span class="italic">open_keystore</span></p>
                  <p>This clause lets you open a password-based software keystore or a hardware keystore.</p>
                  <div class="infoboxnote" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-69716C18-E518-494E-BFB4-03DA5616E1C5">
                     <p class="notep1">Note:</p>
                     <p>You do not need to use this clause to open auto-login and local auto-login software keystores because they are opened automatically when they are requiredâ€”that is, when the master encryption key is accessed.</p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause is useful when opening a keystore in a PDB. It ensures that the CDB root keystore is open before opening the PDB keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">CONTAINER</code> clause applies when you are connected to a CDB.
                        </p>
                        <p>If the current container is a pluggable database (PDB), then specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> to open the keystore in the PDB. The keystore must be open in the root before you open it in the PDB.
                        </p>
                        <p>If the current container is the root, then specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> to open the keystore in the root, or specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code> to open the keystore in the root and in all PDBs.
                        </p>
                        <p>If you omit this clause, then <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> is the default.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-0B76CA9F-CA45-4C2C-B604-08F4D1DAFF3C">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic">Oracle Database Advanced Security Guide</span> for more information on opening <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10285">password-based software keystores</a> and <a href="../asoag/configuring-transparent-data-encryption.html#ASOAG10296">hardware keystores</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">close_keystore</span></p>
                  <p>This clause lets you close a password-based software keystore, an auto-login software keystore, or a hardware keystore. Closing a keystore disables all encryption and decryption operations. Any attempt to encrypt or decrypt data or access encrypted data results in an error.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>To close a password-based software keystore or a hardware keystore, specify the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>To close an auto-login keystore, do not specify the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause. Before you close an auto-login keystore, check the <code class="codeph">WALLET_TYPE</code> column of the <code class="codeph">V$ENCRYPTION_WALLET</code> view. If it returns <code class="codeph">AUTOLOGIN</code>, then you can close the keystore. Otherwise, if you attempt to close the keystore, then an error occurs.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">CONTAINER</code> clause applies when you are connected to a CDB.
                        </p>
                        <p>If the current container is a PDB, then specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> to close the keystore in the PDB.
                        </p>
                        <p>If the current container is the root, then the <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> and <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code> clauses have the same effect; both clauses close the keystore in the root and in all PDBs.
                        </p>
                        <p>If you omit this clause, then <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> is the default.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-0EE29E4A-1B40-46B5-8F7E-A7841747FF86">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10321"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on closing keystores
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">backup_keystore</span></p>
                  <p>This clause lets you back up a password-based software keystore. The keystore must be open.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>By default, Oracle Database creates a backup file with a name of the form <code class="codeph">ewallet_</code><span class="italic"><code class="codeph">timestamp</code></span><code class="codeph">.p12</code>, where <span class="italic"><code class="codeph">timestamp</code></span> is the file creation timestamp in UTC format. The optional <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause lets you specify a backup identifier which is added to the backup file name. For example, if you specify a backup identifier of <code class="codeph">'Backup1'</code>, then Oracle Database creates a backup file with a name of the form <code class="codeph">ewallet_</code><span class="italic"><code class="codeph">timestamp</code></span><code class="codeph">_Backup1.p12</code>. 
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The optional <code class="codeph">TO</code> '<span class="italic"><code class="codeph">keystore_location</code></span>' clause lets you specify the directory in which the backup file is created. If you omit this clause, then the backup is created in the same directory as the keystore that you are backing up.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9E919638-F7BC-40AB-89B8-C33999F02AAA">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10313"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on backing up password-based software keystores
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">alter_keystore_password</span></p>
                  <p>This clause lets you change the password for a password-based software keystore. The keystore must be open.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">old_keystore_password</code></span>, specify the old password for the keystore. For <span class="italic"><code class="codeph">new_keystore_password</code></span>, specify the new password for the keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The optional <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause instructs the database to create a backup of the keystore before changing the password. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5D6F1521-42E5-4596-874F-82BC62D5DB91">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10312"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on changing a password-based software keystore password
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">merge_into_new_keystore</span></p>
                  <p>This clause lets you merge two software keystores into a new keystore. The keys and attributes in the two constituent keystores are added to the new keystore. The constituent keystores can be password-based or auto-login (including local auto-login) software keystores; they can be open or closed. The new keystore is a password-based software keystore. It is in a closed state when the merge completes. Any or none of the keystores specified in this clause can be the keystore configured for use by the database.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore1_location</code></span>, specify the full path name of the directory in which the first keystore resides.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">keystore1_password</code></span> only if the first keystore is a password-based software keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore2_location</code></span>, specify the full path name of the directory in which the second keystore resides.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">keystore2_password</code></span> only if the second keystore is a password-based software keystore.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore3_location</code></span>, specify the full path name of the directory in which the new keystore is created.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore3_password</code></span>, specify the password for the new keystore.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-23E7D3D8-C402-495D-8CDA-1E3EE95283BC">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10314"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on merging software keystores
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">merge_into_existing_keystore</span></p>
                  <p>This clause lets you merge a software keystore into another existing software keystore. The keys and attributes in the keystore from which you merge are added to the keystore into which you merge. The keystore from which you merge can be a password-based or auto-login (including local auto-login) software keystore; it can be open or closed. The keystore into which you merge must be a password-based software keystore. It can be open or closed when the merge begins. However, it will be in a closed state when the merge completes. Either or neither of the keystores specified in this clause can be the keystore configured for use by the database.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore1_location</code></span>, specify the full path name of the directory in which the keystore from which you merge resides.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">keystore1_password</code></span> only if the keystore from which you merge is a password-based software keystore.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore2_location</code></span>, specify the full path name of the directory in which the keystore into which you merge resides.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">keystore2_password</code></span>, specify the password for the keystore into which you merge.
                        </p>
                     </li>
                     <li>
                        <p>The optional <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause instructs the database to create a backup of the keystore into which you merge before performing the merge. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9B64296B-0EE6-4002-8BE0-7DE9C85A83CD">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10314"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on merging software keystores
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">key_management_clauses</span></p>
                  <p>Use these clauses to perform the following key management operations:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Create and activate a master encryption key</p>
                     </li>
                     <li>
                        <p>Set the tag for an encryption key</p>
                     </li>
                     <li>
                        <p>Export encryption keys from a keystore into a file</p>
                     </li>
                     <li>
                        <p>Import encryption keys from a file into a keystore</p>
                     </li>
                     <li>
                        <p>Migrate from a password-based software keystore to a hardware keystore</p>
                     </li>
                     <li>
                        <p>Migrate from a hardware keystore to a password-based software keystore</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__SET_KEY-52AF4A21">
                  <p class="subhead1"><span class="italic">set_key</span></p>
                  <p>This clause creates a new master encryption key and activates it. You can use this clause to create the first master encryption key in a keystore or to rotate (change) the master encryption key. If a master encryption key is active when you use this clause, then it is deactivated before the new master encryption key is activated. The keystore that contains the key can be a password-based software keystore or a hardware keystore. The keystore must be open.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">ENCRYPTION</code> keyword is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>Specify the optional <code class="codeph">USING</code> <code class="codeph">TAG</code> clause to associate a tag to the new master encryption key. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE">Notes on the USING TAG Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>If you specify the <code class="codeph">USING</code> <code class="codeph">ALGORITHM</code> clause, then the database creates a master encryption key that conforms to the specified encryption algorithm. For <span class="italic"><code class="codeph">encrypt_algorithm</code></span>, you can specify <code class="codeph">AES256</code>, <code class="codeph">ARIA256</code>, <code class="codeph">GOST256</code>, or <code class="codeph">SEED128</code>. To specify this clause, the <code class="codeph">COMPATIBLE</code> initialization parameter must be set to <code class="codeph">12</code>.<code class="codeph">2</code> or higher. If you omit this clause, then the default is <code class="codeph">AES256</code>.
                        </p>
                        <p>The ARIA, SEED, and GOST algorithms are country-specific national and government standards for encryption and hashing. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=DBSEG1047"><span class="italic">Oracle Database Security Guide</span></a> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before the new master encryption key is created. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">CONTAINER</code> clause applies when you are connected to a CDB.
                        </p>
                        <p>If the current container is a PDB, then specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> to create and activate a new master encryption key in the PDB. A master encryption key must exist in the root before you create a master encryption key in the PDB.
                        </p>
                        <p>If the current container is the root, then specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> to create and activate a new master encryption key in the root, or specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code> to create and activate new master encryption keys in the root and in all PDBs.
                        </p>
                        <p>If you omit this clause, then <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> is the default.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-A37AFA12-6D9D-452D-B42F-8B8A47B536FC">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG9527"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on creating and activating a master encryption key
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__CREATE_KEY-52AF5596">
                  <p class="subhead1"><span class="italic">create_key</span></p>
                  <p>This clause lets you create a master encryption key for later use. You can subsequently activate the key by using the <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEIBAF">use_key</a></span> clause. The keystore that contains the key can be a password-based software keystore or a hardware keystore. The keystore must be open.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">ENCRYPTION</code> keyword is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>Specify the optional <code class="codeph">USING</code> <code class="codeph">TAG</code> clause to associate a tag to the encryption key. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE">Notes on the USING TAG Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>If you specify the <code class="codeph">USING</code> <code class="codeph">ALGORITHM</code> clause, then the database creates a master encryption key that conforms to the specified encryption algorithm. For <span class="italic"><code class="codeph">encrypt_algorithm</code></span>, you can specify <code class="codeph">AES256</code>, <code class="codeph">ARIA256</code>, <code class="codeph">GOST256</code>, or <code class="codeph">SEED128</code>. To specify this clause, the <code class="codeph">COMPATIBLE</code> initialization parameter must be set to <code class="codeph">12</code>.<code class="codeph">2</code> or higher. If you omit this clause, then the default is <code class="codeph">AES256</code>.
                        </p>
                        <p>The ARIA, SEED, and GOST algorithms are country-specific national and government standards for encryption and hashing. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=DBSEG1047"><span class="italic">Oracle Database Security Guide</span></a> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore in which the key will be created. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before the key is created. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">CONTAINER</code> clause applies when you are connected to a CDB.
                        </p>
                        <p>If the current container is a PDB, then specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> to create a master encryption key in the PDB. A master encryption key must exist in the root before you create a master encryption key in the PDB
                        </p>
                        <p>If the current container is the root, then specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> to create a master encryption key in the root, or specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code> to create master encryption keys in the root and in all PDBs.
                        </p>
                        <p>If you omit this clause, then <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> is the default.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-91BBB94B-412F-4765-8E1D-AEDB3E2580BB">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10414"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on creating a master encryption key for later use
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEIBAF">
                  <p class="subhead1"><span class="italic">use_key</span></p>
                  <p>This clause lets you activate a master encryption key that has already been created. If a master encryption key is active when you use this clause, then it is deactivated before the new master encryption key is activated. The keystore that contains the key can be a password-based software keystore or a hardware keystore. The keystore must be open</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">ENCRYPTION</code> keyword is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">key_id</code></span>, specify the identifier of the key that you want to activate. You can find the key identifier by querying the <code class="codeph">KEY_ID</code> column of the <code class="codeph">V$ENCRYPTION_KEYS</code> view.
                        </p>
                     </li>
                     <li>
                        <p>Specify the optional <code class="codeph">USING</code> <code class="codeph">TAG</code> clause to associate a tag to the encryption key. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE">Notes on the USING TAG Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore that contains the key. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before the key is activated. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-110CD1D5-B916-4704-88A2-CAF882AB47A8">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10419"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on activating a master encryption key
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">set_key_tag</span></p>
                  <p>This clause lets you set the tag for the specified encryption key. The tag is an optional, user-defined descriptor for the key. If the key has no tag, then use this clause to create a tag. If the key already has a tag, then use this clause to replace the tag. You can view encryption key tags by querying the <code class="codeph">TAG</code> column of the <code class="codeph">V$ENCRYPTION_KEYS</code> view. The keystore must be open.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">tag</code></span>, specify an alphanumeric string. Enclose <span class="italic"><code class="codeph">tag</code></span> in single quotation marks.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">key_id</code></span>, specify the identifier of the encryption key. You can find the key identifier by querying the <code class="codeph">KEY_ID</code> column of the <code class="codeph">V$ENCRYPTION_KEYS</code> view.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore that contains the key. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before you set the key tag. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-6103784E-27E1-4EE7-B2DD-276F7F45577E">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10335"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on setting a key tag
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEACDI">
                  <p class="subhead1"><span class="italic">export_keys</span></p>
                  <p>Use this clause to export one or more encryption keys from a password-based software keystore into a file. The keystore must be open. Each encryption key is exported together with its key identifier and key attributes. The exported keys are protected in the file with a password (secret). You can subsequently import one or more of the keys into a password-based software keystore by using the <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFGECA">import_keys</a></span> clause.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">ENCRYPTION</code> keyword is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>Specify <span class="italic"><code class="codeph">secret</code></span> to set the password (secret) that protects the keys in the file. The secret is an alphanumeric string. You can optionally enclose the secret in double quotation marks. Quoted and nonquoted secrets are case sensitive.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">filename</code></span>, specify the full path name of the file to which the keys are to be exported. Enclose <span class="italic"><code class="codeph">filename</code></span> in single quotation marks.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore that contains the keys you want to export. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">WITH</code> <code class="codeph">IDENTIFIER</code> <code class="codeph">IN</code> clause to specify one or more encryption keys that you would like to export using one of the following methods:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use <span class="italic"><code class="codeph">key_id</code></span> to specify the identifier of the encryption key you would like to export. You can specify more than one <span class="italic"><code class="codeph">key_id</code></span> in a comma-separated list. You can find key identifiers by querying the <code class="codeph">KEY_ID</code> column of the <code class="codeph">V$ENCRYPTION_KEYS</code> view.
                              </p>
                           </li>
                           <li>
                              <p>Use <span class="italic"><code class="codeph">subquery</code></span> to specify a query that returns a list of key identifiers for the encryption keys you would like to export. For example, the following <span class="italic"><code class="codeph">subquery</code></span> returns the key identifiers for all encryption keys in the database whose tags begin with the string <code class="codeph">mytag</code>:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT KEY_ID FROM V$ENCRYPTION_KEYS WHERE TAG LIKE 'mytag%'
</pre><p>Be aware that Oracle Database executes <span class="italic"><code class="codeph">subquery</code></span> within the current user's rights and not with definer's rights.
                              </p>
                           </li>
                           <li>
                              <p>If you omit the <code class="codeph">WITH</code> <code class="codeph">IDENTIFIER</code> <code class="codeph">IN</code> clause, then all encryption keys in the database are exported.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">Restriction on the WITH IDENTIFIER IN Clause</span></p>
                  <p>In a multitenant environment, you cannot specify <code class="codeph">WITH</code> <code class="codeph">IDENTIFIER</code> <code class="codeph">IN</code> when exporting keys from a PDB. This ensures that all of the keys in the PDB are exported, along with metadata about the active encryption key. If you subsequently clone the PDB, or unplug and plug in the PDB, then you can use the export file to import the keys into the cloned or newly plugged-in PDB and preserve information about the active encryption key.
                  </p>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-8AFC9E63-12BD-421E-8107-8ECF971E73C8">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10424"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on exporting encryption keys
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFGECA">
                  <p class="subhead1"><span class="italic">import_keys</span></p>
                  <p>Use this clause to import one or more encryption keys from a file into a password-based software keystore. The keystore must be open. Each encryption key is imported together with its key identifier and key attributes. The keys must have been previously exported to the file by using the <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEACDI">export_keys</a></span> clause. You cannot re-import keys that have already been imported into the keystore.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">ENCRYPTION</code> keyword is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">secret</code></span>, specify the password (secret) that protects the keys in the file. The secret is an alphanumeric string. You can optionally enclose the secret in double quotation marks. Quoted and nonquoted secrets are case sensitive.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">filename</code></span>, specify the full path name of the file from which the keys are to be imported. Enclose <span class="italic"><code class="codeph">filename</code></span> in single quotation marks.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore into which you want to import the keys. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before the keys are imported. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5F2AB37D-F9EA-464C-B608-0E57769F520C">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10427"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on importing encryption keys
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">migrate_key</span></p>
                  <p>Use this clause to migrate from a password-based software keystore to a hardware keystore. This clause decrypts existing table encryption keys and tablespace encryption keys with the master encryption key in the software keystore and then re-encrypts them with the newly created master encryption key in the hardware keystore.</p>
                  <div class="infoboxnote" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-D3B93698-BDC8-4F45-9349-398244660C81">
                     <p class="notep1">Note:</p>
                     <p>The use of this clause is only one step in a series of steps for migrating from a password-based software keystore to a hardware keystore. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10377"><span class="italic">Oracle Database Advanced Security Guide</span></a> for the complete set of steps before you use this clause.
                     </p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">ENCRYPTION</code> keyword is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">HSM_auth_string</code></span>, specify the hardware keystore password. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystores are closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">software_keystore_password</code></span>., specify the password-based software keystore password. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before the migration occurs. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">reverse_migrate_key</span></p>
                  <p>Use this clause to migrate from a hardware keystore to a password-based software keystore. This clause decrypts existing table encryption keys and tablespace encryption keys with the master encryption key in the hardware keystore and then re-encrypts them with the newly created master encryption key in the password-based software keystore.</p>
                  <div class="infoboxnote" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-33DB4C7C-12A0-4202-A187-7FCC5B996572">
                     <p class="notep1">Note:</p>
                     <p>The use of this clause is only one step in a series of steps for migrating from a hardware keystore to a password-based software keystore. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10327"><span class="italic">Oracle Database Advanced Security Guide</span></a> for the complete set of steps before you use this clause.
                     </p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">ENCRYPTION</code> keyword is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">software_keystore_password</code></span>., specify the password-based software keystore password. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystores are closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">HSM_auth_string</code></span>, specify the hardware keystore password. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">secret_management_clauses</span></p>
                  <p>Use these clauses to add, update, and delete secrets in a password-based software keystores or a hardware keystore.</p>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5A9F98AF-E79F-47F5-8F65-C5FE93E77BE8">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG10398"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on adding, updating, and deleting secrets
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">add_update_secret</span></p>
                  <p>This clause lets you add a secret to a keystore or update an existing secret in a keystore. The keystore must be open.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">ADD</code> to add a secret to a keystore.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">UPDATE</code> to update an existing secret in a keystore.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">secret</code></span>, specify the secret to be added or updated. The secret is an alphanumeric string. Enclose the secret in single quotation marks.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">client_identifier</code></span>, specify an alphanumeric string used to identify the secret. Enclose <span class="italic"><code class="codeph">client_identifier</code></span> in single quotation marks. This value is case-sensitive.
                        </p>
                     </li>
                     <li>
                        <p>Specify the optional <code class="codeph">USING</code> <code class="codeph">TAG</code> clause to associate a tag to <span class="italic"><code class="codeph">secret</code></span>. The <span class="italic"><code class="codeph">tag</code></span> is an optional, user-defined descriptor for the secret. Enclose the tag in single quotation marks. You can view secret tags by querying the <code class="codeph">SECRET_TAG</code> column of the <code class="codeph">V$CLIENT_SECRETS</code> view.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before adding or updating the secret in a password-based software keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">delete_secret</span></p>
                  <p>This clause lets you delete a secret from a keystore. The keystore must be open.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">client_identifier</code></span>, specify an alphanumeric string used to identify the secret. Enclose <span class="italic"><code class="codeph">client_identifier</code></span> in single quotation marks. You can view client identifiers by querying the <code class="codeph">CLIENT</code> column of the <code class="codeph">V$CLIENT_SECRETS</code> view.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables this operation even if the keystore is closed. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">Notes on the FORCE KEYSTORE Clause</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> clause to specify the password for the keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">Notes on Specifying Keystore Passwords</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, and optionally the <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause, to create a backup of the keystore before deleting the secret from a password-based software keystore. Refer to <span class="q">"<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">Notes on the WITH BACKUP Clause</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE"><span class="bold">Notes on the USING TAG Clause</span></p>
                  <p>Many <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> operations include the <code class="codeph">USING</code> <code class="codeph">TAG</code> clause, which lets you associate a tag to an encryption key. The <span class="italic"><code class="codeph">tag</code></span> is an optional, user-defined descriptor for the key. It is a character string enclosed in single quotation marks.
                  </p>
                  <p>You can view encryption key tags by querying the <code class="codeph">TAG</code> column of the <code class="codeph">V$ENCRYPTION_KEYS</code> view.
                  </p>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF"><span class="bold">Notes on the FORCE KEYSTORE Clause</span></p>
                  <p>The <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause enables a keystore operation even if the keystore is closed. The behavior of this clause depends on whether you are connected to a non-CDB, a CDB root, or a PDB:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>When you are connected to a non-CDB:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the password-based software or hardware keystore is closed, then the database opens the password-based software or hardware keystore while the operation is performed and leaves it open, and then updates the auto-login keystore, if one exists, with the new information.</p>
                           </li>
                           <li>
                              <p>If the auto-login keystore is open, then the database opens the password-based software or hardware keystore temporarily while the operation is performed and updates the auto-login keystore with the new information, without switching out the auto-login keystore.</p>
                           </li>
                           <li>
                              <p>If the password-based software or hardware keystore is open, then the <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code> clause is not necessary and has no effect.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>When you are connected to the CDB root:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To perform an operation on the CDB root keystore (<code class="codeph">CONTAINER=CURRENT</code>), the CDB root keystore must be open. Therefore, the behavior described for a non-CDB applies to the CDB root.
                              </p>
                           </li>
                           <li>
                              <p>To perform an operation on the CDB root keystore and all PDB keystores (<code class="codeph">CONTAINER=ALL</code>), the CDB root keystore and all PDB keystores must be open. Therefore, the behavior described for a non-CDB applies to the CDB root and each PDB. 
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>When you are connected to a PDB:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To perform an operation on a PDB keystore, the CDB root keystore and the keystore for that PDB must be open. Therefore, the behavior described for a non-CDB applies to the CDB root and that PDB.</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD"><span class="bold">Notes on Specifying Keystore Passwords</span></p>
                  <p>Specify keystore passwords as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For a password-based software keystore, specify the password as a character string. You can optionally enclose the password in double quotation marks. Quoted and nonquoted passwords are case sensitive. Keystore passwords adhere to the same rules as database user passwords. Refer to the <a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__BABHHFHD">BY password</a> clause of <code class="codeph">CREATE</code> <code class="codeph">USER</code> for the complete details.
                        </p>
                     </li>
                     <li>
                        <p>For a hardware keystore, specify the password as a string of the form <code class="codeph">"</code><span class="italic"><code class="codeph">user_id</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">password</code></span><code class="codeph">"</code> where:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="italic"><code class="codeph">user_id</code></span> is the user ID created for the database using the HSM management interface
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">password</code></span> is the password created for the user ID using the HSM management interface
                              </p>
                           </li>
                        </ul>
                        <p>Enclose the <span class="italic"><code class="codeph">user_id</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">password</code></span> string in double quotation marks (<code class="codeph">"</code> <code class="codeph">"</code>) and separate <span class="italic"><code class="codeph">user_id</code></span> and <span class="italic"><code class="codeph">password</code></span> with a colon (<code class="codeph">:</code>).
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">EXTERNAL</code> <code class="codeph">STORE</code>, then the database uses the keystore password stored in the external store to perform the operation. This feature enables you to store the password in a separate location where it can be centrally managed and accessed. To use this functionality, you must first set the <code class="codeph">EXTERNAL_KEYSTORE_CREDENTIAL_LOCATION</code> initialization parameter to a location where the keystore password will be stored. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/12.2/sqlrf&amp;id=ASOAG-GUID-4F6206B6-A33F-4FB1-9223-DD61FFAD3F12"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information on configuring an external store for a keystore password.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB"><span class="bold">Notes on the WITH BACKUP Clause</span></p>
                  <p>Many <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> operations include the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause. This clause applies only to password-based software keystores. It indicates that the keystore must be backed up before the operation is performed. Therefore, you must either specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause when performing the operation, or issue the <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> <span class="italic"><code class="codeph">backup_clause</code></span> statement immediately <span class="italic">before</span> performing the operation. 
                  </p>
                  <p>When you specify the <code class="codeph">WITH</code> <code class="codeph">BACKUP</code> clause, Oracle Database creates a backup file with a name of the form <code class="codeph">ewallet_</code><span class="italic"><code class="codeph">timestamp</code></span><code class="codeph">.p12</code>, where <span class="italic"><code class="codeph">timestamp</code></span> is the file creation timestamp in UTC format. The backup file is created in the same directory as the keystore you are backing up.
                  </p>
                  <p>The optional <code class="codeph">USING</code> <code class="codeph">'</code><span class="italic"><code class="codeph">backup_identifier</code></span><code class="codeph">'</code> clause lets you specify a backup identifier, which is added to the backup file name. For example, if you specify a backup identifier of <code class="codeph">'Backup1'</code>, then Oracle Database creates a backup file with a name of the form <code class="codeph">ewallet_</code><span class="italic"><code class="codeph">timestamp</code></span><code class="codeph">_Backup1.p12</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Examples</p>
                  <p><span class="bold">Creating a Keystore: Examples</span></p>
                  <p>The following statement creates a password-based software keystore in directory <code class="codeph">/etc/ORACLE/WALLETS/orcl</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  CREATE KEYSTORE '/etc/ORACLE/WALLETS/orcl'
  IDENTIFIED BY <span class="italic">password</span>;
</pre><p>The following statement creates an auto-login software keystore from the keystore created in the previous statement:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  CREATE AUTO_LOGIN KEYSTORE FROM KEYSTORE '/etc/ORACLE/WALLETS/orcl'
  IDENTIFIED BY <span class="italic">password</span>;</pre><p><span class="bold">Opening a Keystore: Examples</span></p>
                  <p>The following statement opens a password-based software keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE OPEN
  IDENTIFIED BY <span class="italic">password</span>;
</pre><p>If you are connected to a CDB, then the following statement opens a password-based software keystore in the current container:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE OPEN
  IDENTIFIED BY <span class="italic">password</span>
  CONTAINER = CURRENT;
</pre><p>The following statement opens a hardware keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE OPEN
  IDENTIFIED BY "<span class="italic">user_id</span>:<span class="italic">password</span>";</pre><p>The following statement opens a keystore whose password is stored in the external store:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE OPEN
  IDENTIFIED BY EXTERNAL STORE;
</pre><p><span class="bold">Closing a Keystore: Examples</span></p>
                  <p>The following statement closes a password-based software keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE CLOSE
  IDENTIFIED BY <span class="italic">password</span>;
</pre><p>The following statement closes an auto-login software keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE CLOSE;
</pre><p>The following statement closes a hardware keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE CLOSE
  IDENTIFIED BY "<span class="italic">user_id</span>:<span class="italic">password</span>";</pre><p>The following statement closes a keystore whose password is stored in the external store:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEYSTORE CLOSE
  IDENTIFIED BY EXTERNAL STORE;</pre><p><span class="bold">Backing Up a Keystore: Example</span></p>
                  <p>The following statement creates a backup of a password-based software keystore. The backup is stored in directory <code class="codeph">/etc/ORACLE/KEYSTORE/DB1</code> and the backup file name contains the tag <code class="codeph">hr.emp_keystore</code>.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  BACKUP KEYSTORE USING 'hr.emp_keystore'
  IDENTIFIED BY <span class="italic">password</span>
  TO '/etc/ORACLE/KEYSTORE/DB1/';</pre><p><span class="bold">Changing a Keystore Password: Example</span></p>
                  <p>The following statement changes the password for a password-based software keystore. It also creates a backup of the keystore, with the tag <code class="codeph">pwd_change</code>, before changing the password.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  ALTER KEYSTORE PASSWORD IDENTIFIED BY <span class="italic">old_password</span>
  SET <span class="italic">new_password</span> WITH BACKUP USING 'pwd_change';</pre><p><span class="bold">Merging Two Keystores Into a New Keystore: Example</span></p>
                  <p>The following statement merges an auto-login software keystore with a password-based software keystore to create a new password-based software keystore at a new location:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  MERGE KEYSTORE '/etc/ORACLE/KEYSTORE/DB1'
  AND KEYSTORE '/etc/ORACLE/KEYSTORE/DB2'
    IDENTIFIED BY <span class="italic">existing_keystore_password</span>
  INTO NEW KEYSTORE '/etc/ORACLE/KEYSTORE/DB3'
    IDENTIFIED BY <span class="italic">new_keystore_password</span>;</pre><p><span class="bold">Merging a Keystore Into an Existing Keystore: Example</span></p>
                  <p>The following statement merges an auto-login software keystore into a password-based software keystore. It also creates a backup of the password-based software keystore before performing the merge.</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  MERGE KEYSTORE '/etc/ORACLE/KEYSTORE/DB1'
  INTO EXISTING KEYSTORE '/etc/ORACLE/KEYSTORE/DB2'
    IDENTIFIED BY <span class="italic">existing_keystore_password</span>
  WITH BACKUP;</pre><p><span class="bold">Creating and Activating a Master Encryption Key: Examples</span></p>
                  <p>The following statement creates and activates a master encryption key in a password-based software keystore. It encrypts the key using the <code class="codeph">SEED128</code> algorithm. It also creates a backup of the keystore before creating the new master encryption key.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET KEY USING ALGORITHM 'SEED128'
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;
</pre><p>The following statement creates a master encryption key in a password-based software keystore, but does not activate the key. It also creates a backup of the keystore before creating the new master encryption key.</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  CREATE KEY USING TAG 'mykey1'
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;
</pre><p>The following query displays the key identifier for the master encryption key that was created in the previous statement:</p><pre class="oac_no_warn" dir="ltr">SELECT TAG, KEY_ID
  FROM V$ENCRYPTION_KEYS
  WHERE TAG = 'mykey1';

TAG     KEY_ID
---     ----------------------------------------------------
mykey1  ARgEtzPxpE/Nv8WdPu8LJJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
</pre><p>The following statement activates the master encryption key that was queried in the previous statement. It also creates a backup of the keystore before activating the new master encryption key.</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  USE KEY 'ARgEtzPxpE/Nv8WdPu8LJJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;</pre><p><span class="bold">Setting a Key Tag: Example</span></p>
                  <p>This example assumes that the keystore is closed. The following statement temporarily opens the keystore and changes the tag to <code class="codeph">mykey2</code> for the master encryption key that was activated in the previous example. It also creates a backup of the keystore before changing the tag.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET TAG 'mykey2' FOR 'ARgEtzPxpE/Nv8WdPu8LJJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'
  FORCE KEYSTORE
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;</pre><p><span class="bold">Exporting Keys: Examples</span></p>
                  <p>The following statement exports two master encryption keys from a password-based software keystore to file <code class="codeph">/etc/TDE/export.exp</code>. The statement encrypts the master encryption keys in the file using the secret <code class="codeph">my_secret</code>. The identifiers of the master encryption keys to be exported are provided as a comma-separated list.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  EXPORT KEYS WITH SECRET "my_secret"
  TO '/etc/TDE/export.exp'
  IDENTIFIED BY <span class="italic">password</span>
  WITH IDENTIFIER IN 'AdoxnJ0uH08cv7xkz83ovwsAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',
                     'AW5z3CoyKE/yv3cNT5CWCXUAAAAAAAAAAAAAAAAAAAAAAAAAAAAA';
</pre><p>The following statement exports master encryption keys from a password-based software keystore to file <code class="codeph">/etc/TDE/export.exp</code>. Only the keys whose tags are <code class="codeph">mytag1</code> or <code class="codeph">mytag2</code> are exported. The master encryption keys in the file are encrypted using the secret <code class="codeph">my_secret</code>. The key identifiers are found by querying the <code class="codeph">V$ENCRYPTION_KEYS</code> view.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  EXPORT KEYS WITH SECRET "my_secret"
  TO '/etc/TDE/export.exp'
  IDENTIFIED BY <span class="italic">password</span>
  WITH IDENTIFIER IN
    (SELECT KEY_ID FROM V$ENCRYPTION_KEYS WHERE TAG IN ('mytag1', 'mytag2'));
</pre><p>The following statement exports all master encryption keys of the database to file <code class="codeph">/etc/TDE/export.exp</code>. The master encryption keys in the file are encrypted using the secret <code class="codeph">my_secret</code>.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  EXPORT KEYS WITH SECRET "my_secret"
  TO '/etc/TDE/export.exp'
  IDENTIFIED BY <span class="italic">password</span>;
</pre><p>In a multitenant environment, the following statements exports all master encryption keys of the PDB <code class="codeph">salespdb</code>, along with metadata, to file <code class="codeph">/etc/TDE/salespdb.exp</code>. The master encryption keys in the file are encrypted using the secret <code class="codeph">my_secret</code>. If the PDB is subsequently cloned, or unplugged and plugged back in, then the export file created by this statement can be used to import the keys into the cloned or newly plugged-in PDB.
                  </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CONTAINER = salespdb;
ADMINISTER KEY MANAGEMENT
  EXPORT KEYS WITH SECRET "my_secret"
  TO '/etc/TDE/salespdb.exp'
  IDENTIFIED BY <span class="italic">password</span>;</pre><p><span class="bold">Importing Keys: Example</span></p>
                  <p>The following statement imports the master encryption keys, encrypted with secret <code class="codeph">my_secret</code>, from file <code class="codeph">/etc/TDE/export.exp</code> to a password-based software keystore. It also creates a backup of the password-based software keystore before importing the keys.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  IMPORT KEYS WITH SECRET "my_secret"
  FROM '/etc/TDE/export.exp'
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;</pre><p><span class="bold">Migrating a Keystore: Example</span></p>
                  <p>The following statement migrates from a password-based software keystore to a hardware keystore. It also creates a backup of the password-based software keystore before performing the migration.</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET ENCRYPTION KEY IDENTIFIED BY "<span class="italic">user_id</span>:<span class="italic">password</span>"
  MIGRATE USING <span class="italic">software_keystore_password</span>
  WITH BACKUP;</pre><p><span class="bold">Reverse Migrating a Keystore: Example</span></p>
                  <p>The following statement reverse migrates from a hardware keystore to a password-based software keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  SET ENCRYPTION KEY IDENTIFIED BY <span class="italic">software_keystore_password</span>
  REVERSE MIGRATE USING "<span class="italic">user_id</span>:<span class="italic">password</span>";</pre><p><span class="bold">Adding a Secret to a Keystore: Examples</span></p>
                  <p>The following statement adds secret <code class="codeph">secret1</code>, with the tag <code class="codeph">My first secret</code>, for client <code class="codeph">client1</code> to a password-based software keystore. It also creates a backup of the password-based software keystore before adding the secret.
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  ADD SECRET 'secret1' FOR CLIENT 'client1'
  USING TAG 'My first secret'
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;
</pre><p>The following statement adds a similar secret to a hardware keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  ADD SECRET 'secret2' FOR CLIENT 'client2'
  USING TAG 'My second secret'
  IDENTIFIED BY "<span class="italic">user_id</span>:<span class="italic">password</span>";</pre><p><span class="bold">Updating a Secret in a Keystore: Examples</span></p>
                  <p>The following statement updates the secret that was created in the previous example in a password-based software keystore. It also creates a backup of the password-based software keystore before updating the secret.</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  UPDATE SECRET 'secret1' FOR CLIENT 'client1'
  USING TAG 'New Tag 1'
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;
</pre><p>The following statement updates the secret that was created in the previous example in a hardware keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  UPDATE SECRET 'secret2' FOR CLIENT 'client2'
  USING TAG 'New Tag 2'
  IDENTIFIED BY "<span class="italic">user_id</span>:<span class="italic">password</span>";</pre><p><span class="bold">Deleting a Secret from a Keystore: Examples</span></p>
                  <p>The following statement deletes the secret that was updated in the previous example from a password-based software keystore. It also creates a backup of the password-based software keystore before deleting the secret.</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  DELETE SECRET FOR CLIENT 'client1'
  IDENTIFIED BY <span class="italic">password</span>
  WITH BACKUP;
</pre><p>The following statement deletes the secret that was updated in the previous example from a hardware keystore:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
  DELETE SECRET FOR CLIENT 'client2'
  IDENTIFIED BY "<span class="italic">user_id</span>:<span class="italic">password</span>";</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>