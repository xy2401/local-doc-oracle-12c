<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Calculated Measure Expressions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-11-29T11:56:42-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E83703-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="Compound-Expressions.html" title="Previous" type="text/html">
      <link rel="next" href="CASE-Expressions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Compound-Expressions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CASE-Expressions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Expressions.html" property="item" typeof="WebPage"><span property="name"> Expressions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Calculated Measure Expressions</li>
            </ol>
            <a id="GUID-2E9CCE5B-D490-414F-A111-7741EBB1B933" name="GUID-2E9CCE5B-D490-414F-A111-7741EBB1B933"></a>
            
            <h2 id="SQLRF-GUID-2E9CCE5B-D490-414F-A111-7741EBB1B933" class="sect2"><span class="enumeration_section">5.4 </span>Calculated Measure Expressions
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>A calculated measure expression defines a calculated measure in an analytic view. You use a calculated measure expression as the <span class="italic"><code class="codeph">calc_meas_expression</code></span> parameter in a <span class="italic"><code class="codeph">calc_measure_clause</code></span> in a <code class="codeph">CREATE</code> <code class="codeph">ANALYTIC</code> <code class="codeph">VIEW</code> statement.
                  </p>
                  <div class="infoboxnotealso" id="GUID-2E9CCE5B-D490-414F-A111-7741EBB1B933__GUID-4D39F314-82D8-4A80-AAEB-26D23B877BAB">
                     <p class="notep1">Tip:</p> You can view and run SQL scripts that create analytic views with calculated measures at the Oracle Live SQL website at <a href="https://livesql.oracle.com/apex/livesql/file/index.html">https://livesql.oracle.com/apex/livesql/file/index.html</a>. The website has scripts and tutorials that demonstrate the creation and use of analytic views.
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1"><span class="italic">calc_meas_expression</span>::=
                  </p>
                  <div class="figure" id="GUID-2E9CCE5B-D490-414F-A111-7741EBB1B933__GUID-7692F1A2-EBC6-4F49-B0A2-539BC40E3588"><img src="img/calc_meas_expression.gif" alt="Description of calc_meas_expression.eps follows" title="Description of calc_meas_expression.eps follows" longdesc="img_text/calc_meas_expression.html"><br><a href="img_text/calc_meas_expression.html">Description of the illustration calc_meas_expression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1">Semantics</p>
                  <p><span class="bold"><span class="italic">calc_meas_expression</span></span></p>
                  <p>The calculated measure expressions that have syntax specific to analytic views are described in the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="Calculated-Measure-Expressions.html#GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0">Analytic View Measure Expressions</a></p>
                     </li>
                     <li>
                        <p><a href="Calculated-Measure-Expressions.html#GUID-1431620E-C5DA-48F0-A5A4-6BFCF8FB8AF3">Analytic View Simple Expressions</a></p>
                     </li>
                     <li>
                        <p><a href="Calculated-Measure-Expressions.html#GUID-D8B634C2-2018-4729-A487-E9A9F3EA0E69">Single Row Function Expression</a></p>
                     </li>
                  </ul>
                  <p>For the other types of permissible expressions for a calculated measure, see the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="CASE-Expressions.html#GUID-CA29B333-572B-4E1D-BA64-851FABDBAE96">CASE Expressions</a></p>
                     </li>
                     <li>
                        <p><a href="Compound-Expressions.html#GUID-533C7BA0-C8B4-4323-81EA-1379657AF64A">Compound Expressions</a></p>
                     </li>
                     <li>
                        <p><a href="Datetime-Expressions.html#GUID-F72A753A-98A4-4EBD-84E9-C014CE058384">Datetime Expressions</a></p>
                     </li>
                     <li>
                        <p><a href="Interval-Expressions.html#GUID-EB9B5B5D-357B-494C-A237-153A2CF8425C">Interval Expressions</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-2E9CCE5B-D490-414F-A111-7741EBB1B933__GUID-2F33925F-26D2-4434-AB28-9987C49EC9A5">
                     <p class="notep1">See Also:</p>
                     <p><a href="CREATE-ANALYTIC-VIEW.html#GUID-EBA7E9BC-3F49-4AA7-9EF6-9255FE7AE466">CREATE ANALYTIC VIEW</a></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div class="props_rev_3"><a id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0" name="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0"></a><h3 id="SQLRF-GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0" class="sect3"><span class="enumeration_section">5.4.1 </span>Analytic View Measure Expressions
               </h3>
               <div>
                  <div class="section">
                     <p>An analytic view measure expression is based on a measure in an analytic view.</p>
                     <div class="infoboxnotealso" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-B99E73B7-EBD4-414D-A243-49062BC211A5">
                        <p class="notep1">Tip:</p> You can view and run SQL scripts that create analytic views with calculated measures at the Oracle Live SQL website at <a href="https://livesql.oracle.com/apex/livesql/file/index.html">https://livesql.oracle.com/apex/livesql/file/index.html</a>. The website has scripts and tutorials that demonstrate the creation and use of analytic views.
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">av_meas_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-89BE54A3-5235-4653-9945-5D240D6A40DE"><img src="img/av_meas_expression.gif" alt="Description of av_meas_expression.eps follows" title="Description of av_meas_expression.eps follows" longdesc="img_text/av_meas_expression.html"><br><a href="img_text/av_meas_expression.html">Description of the illustration av_meas_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">lead_lag_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-34A62F43-2D47-4606-80FC-ECBC59BCCD62"><img src="img/lead_lag_expression.gif" alt="Description of lead_lag_expression.eps follows" title="Description of lead_lag_expression.eps follows" longdesc="img_text/lead_lag_expression.html"><br><a href="img_text/lead_lag_expression.html">Description of the illustration lead_lag_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">lead_lag_function_name</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-1BE3691A-D8F8-4E07-88EF-E8B433433D25"><img src="img/lead_lag_function_name.gif" alt="Description of lead_lag_function_name.eps follows" title="Description of lead_lag_function_name.eps follows" longdesc="img_text/lead_lag_function_name.html"><br><a href="img_text/lead_lag_function_name.html">Description of the illustration lead_lag_function_name.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">lead_lag_clause</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-75580681-98F9-4BCB-814F-7033CDFB8B04"><img src="img/lead_lag_clause.gif" alt="Description of lead_lag_clause.eps follows" title="Description of lead_lag_clause.eps follows" longdesc="img_text/lead_lag_clause.html"><br><a href="img_text/lead_lag_clause.html">Description of the illustration lead_lag_clause.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hierarchy_ref</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-6D93F1F5-0C43-4E37-837A-A0EB934F66C9"><img src="img/hierarchy_ref.gif" alt="Description of hierarchy_ref.eps follows" title="Description of hierarchy_ref.eps follows" longdesc="img_text/hierarchy_ref.html"><br><a href="img_text/hierarchy_ref.html">Description of the illustration hierarchy_ref.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">window_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-2E6DB72C-A851-4161-86B4-845863761F0F"><img src="img/window_expression.gif" alt="Description of window_expression.eps follows" title="Description of window_expression.eps follows" longdesc="img_text/window_expression.html"><br><a href="img_text/window_expression.html">Description of the illustration window_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">window_clause</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-18553BF8-3AD3-4831-A85A-E0D1494BE8BC"><img src="img/window_clause.gif" alt="Description of window_clause.eps follows" title="Description of window_clause.eps follows" longdesc="img_text/window_clause.html"><br><a href="img_text/window_clause.html">Description of the illustration window_clause.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">preceding_boundary </span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-5F55513A-B5F8-4F48-9BA9-44BDEE68D24E"><img src="img/preceding_boundary.gif" alt="Description of preceding_boundary.eps follows" title="Description of preceding_boundary.eps follows" longdesc="img_text/preceding_boundary.html"><br><a href="img_text/preceding_boundary.html">Description of the illustration preceding_boundary.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">following_boundary</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-D30F4D8B-2845-4E2D-BB5F-A894485A0778"><img src="img/following_boundary.gif" alt="Description of following_boundary.eps follows" title="Description of following_boundary.eps follows" longdesc="img_text/following_boundary.html"><br><a href="img_text/following_boundary.html">Description of the illustration following_boundary.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">calc_meas_order_by_clause</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-BFB36F33-9C4A-424F-975D-DB3D429B34A7"><img src="img/calc_meas_order_by_clause.gif" alt="Description of calc_meas_order_by_clause.eps follows" title="Description of calc_meas_order_by_clause.eps follows" longdesc="img_text/calc_meas_order_by_clause.html"><br><a href="img_text/calc_meas_order_by_clause.html">Description of the illustration calc_meas_order_by_clause.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">share_of_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-CD364817-D556-4CCC-8ECB-524EB9329DAC"><img src="img/share_of_expression.gif" alt="Description of share_of_expression.eps follows" title="Description of share_of_expression.eps follows" longdesc="img_text/share_of_expression.html"><br><a href="img_text/share_of_expression.html">Description of the illustration share_of_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">share_clause</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-596CA26C-C1D1-489E-92FD-F6E5A7FA91C0"><img src="img/share_clause.gif" alt="Description of share_clause.eps follows" title="Description of share_clause.eps follows" longdesc="img_text/share_clause.html"><br><a href="img_text/share_clause.html">Description of the illustration share_clause.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">level_member_literal</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-A6324656-7616-4240-BA82-632B858015F5"><img src="img/level_member_literal.gif" alt="Description of level_member_literal.eps follows" title="Description of level_member_literal.eps follows" longdesc="img_text/level_member_literal.html"><br><a href="img_text/level_member_literal.html">Description of the illustration level_member_literal.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">pos_member_keys</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-36DA018D-02B7-4E59-9AB5-E9C4B2765684"><img src="img/pos_member_keys.gif" alt="Description of pos_member_keys.eps follows" title="Description of pos_member_keys.eps follows" longdesc="img_text/pos_member_keys.html"><br><a href="img_text/pos_member_keys.html">Description of the illustration pos_member_keys.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">named_member_keys</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-EE825ADA-3A3B-41AD-89F8-06C2D105D191"><img src="img/named_member_keys.gif" alt="Description of named_member_keys.eps follows" title="Description of named_member_keys.eps follows" longdesc="img_text/named_member_keys.html"><br><a href="img_text/named_member_keys.html">Description of the illustration named_member_keys.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_navigation_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-4DA4C212-5F9A-4777-8905-7263844967A3"><img src="img/hier_navigation_expression.gif" alt="Description of hier_navigation_expression.eps follows" title="Description of hier_navigation_expression.eps follows" longdesc="img_text/hier_navigation_expression.html"><br><a href="img_text/hier_navigation_expression.html">Description of the illustration hier_navigation_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_ancestor_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-A99AADF8-8647-44AD-A17A-DEDA384DF509"><img src="img/hier_ancestor_expression.gif" alt="Description of hier_ancestor_expression.eps follows" title="Description of hier_ancestor_expression.eps follows" longdesc="img_text/hier_ancestor_expression.html"><br><a href="img_text/hier_ancestor_expression.html">Description of the illustration hier_ancestor_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">member_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-39876B35-D1BF-41E5-B2D3-B5C39304B7ED"><img src="img/member_expression.gif" alt="Description of member_expression.eps follows" title="Description of member_expression.eps follows" longdesc="img_text/member_expression.html"><br><a href="img_text/member_expression.html">Description of the illustration member_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_parent_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-F9393928-A1FC-485E-ABDE-ADB1F737B352"><img src="img/hier_parent_expression.gif" alt="Description of hier_parent_expression.eps follows" title="Description of hier_parent_expression.eps follows" longdesc="img_text/hier_parent_expression.html"><br><a href="img_text/hier_parent_expression.html">Description of the illustration hier_parent_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_lead_lag_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-4E5DC34A-0834-4ED3-8783-8A1BB1AA4DDE"><img src="img/hier_lead_lag_expression.gif" alt="Description of hier_lead_lag_expression.eps follows" title="Description of hier_lead_lag_expression.eps follows" longdesc="img_text/hier_lead_lag_expression.html"><br><a href="img_text/hier_lead_lag_expression.html">Description of the illustration hier_lead_lag_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_lead_lag_clause</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-82ABC79B-72BB-4DE0-9FF0-9D712F1CD5A5"><img src="img/hier_lead_lag_clause.gif" alt="Description of hier_lead_lag_clause.eps follows" title="Description of hier_lead_lag_clause.eps follows" longdesc="img_text/hier_lead_lag_clause.html"><br><a href="img_text/hier_lead_lag_clause.html">Description of the illustration hier_lead_lag_clause.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">qdr_expression</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-F1B9CA14-6BC7-4D31-A4CB-F01736BD58D8"><img src="img/qdr_expression.gif" alt="Description of qdr_expression.eps follows" title="Description of qdr_expression.eps follows" longdesc="img_text/qdr_expression.html"><br><a href="img_text/qdr_expression.html">Description of the illustration qdr_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">qualifier</span>::=
                     </p>
                     <div class="figure" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-ABB13C54-477B-4EEA-BB11-966D225878C2"><img src="img/qualifier.gif" alt="Description of qualifier.eps follows" title="Description of qualifier.eps follows" longdesc="img_text/qualifier.html"><br><a href="img_text/qualifier.html">Description of the illustration qualifier.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Semantics</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">av_meas_expression</span></p>
                     <p>An expression that performs hierarchical navigation to locate related measure values.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">lead_lag_expression</span></p>
                     <p>An expression that specifies a lead or lag operation that locates a related measure value by navigating forward or backward by some number of members within a hierarchy.</p>
                     <p>The <span class="italic"><code class="codeph">calc_meas_expression</code></span> parameter is evaluated in the new context created by the <span class="italic"><code class="codeph">lead_lag_expression</code></span>. This context has the same members as the outer context, except that the member of the specified hierarchy is changed to the related member specified by the lead or lag operation. The lead or lag function is run over the hierarchy members specified by the <span class="italic"><code class="codeph">lead_lag_clause</code></span> parameter.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">lead_lag_function_name</span></p>
                     <p>The lead or lag function may be one of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">LAG</code> returns the measure value of an earlier member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LAG_DIFF</code> returns the difference between the measure value of the current member and the measure value of an earlier member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LAG_DIFF_PERCENT</code> returns the percent difference between the measure value of the current member and the measure value of an earlier member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LEAD</code> returns the measure value of a later member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LEAD_DIFF</code> returns the difference between the measure value of the current member and the measure value of a later member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LEAD_DIFF_PERCENT</code> returns the percent difference between the measure value of the current member and the measure value of a later member.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">lead_lag_clause</span></p>
                     <p>Specifies the hierarchy to evaluate and an offset value. The parameters of the <span class="italic"><code class="codeph">lead_lag_clause</code></span> are the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">HIERARCHY</code> <span class="italic"><code class="codeph">hierarchy_ref</code></span> specifies the name of a hierarchy in the analytic view.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OFFSET</code> <span class="italic"><code class="codeph">offset_expr</code></span> specifies a <span class="italic"><code class="codeph">calc_meas_expression</code></span> that resolves to a number. The number specifies how many members to move either forward or backward from the current member. The ordering of members within a level is determined by the definition of the attribute dimension used by the hierarchy.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">LEVEL</code> specifies locating the related member by moving forward or backward by the offset number of members within the members that have the same level depth as the current member. The ordering of members within the level is determined by the definition of the attribute dimension used by the hierarchy.
                           </p>
                           <p>The <code class="codeph">WITHIN</code> <code class="codeph">LEVEL</code> operation is the default if neither the <code class="codeph">WITHIN</code> <code class="codeph">LEVEL</code> nor the <code class="codeph">ACROSS</code> <code class="codeph">ANCESTOR</code> <code class="codeph">AT</code> <code class="codeph">LEVEL</code> keywords are specified.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">PARENT</code> specifies locating the related member by moving forward or backward by the offset number of members within the members that have the same parent as the current member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACROSS</code> <code class="codeph">ANCESTOR</code> <code class="codeph">AT</code> <code class="codeph">LEVEL</code> <span class="italic"><code class="codeph">level_ref</code></span> specifies locating the related member by navigating up to the ancestor (or to the member itself if no ancestor exists) of the current member at the level specified by <span class="italic"><code class="codeph">level_ref</code></span>, and noting the position of each ancestor member (including the member itself) within its parent. The <span class="italic"><code class="codeph">level_ref</code></span> parameter is the name of a level in the specified hierarchy.
                           </p>
                           <p>Once the ancestor member is found, navigation moves either forward or backward the offset number of members within the members that have the same depth as the ancestor member. After locating the related ancestor, navigation proceeds back down the hierarchy from this member, matching the position within the parent as recorded on the way up (in reverse order). The position within the parent is either an offset from the first child or the last child depending on whether <code class="codeph">POSITION</code> <code class="codeph">FROM</code> <code class="codeph">BEGINNING</code> or <code class="codeph">POSITION</code> <code class="codeph">FROM</code> <code class="codeph">END</code> is specified. The default value is <code class="codeph">POSITION</code> <code class="codeph">FROM</code> <code class="codeph">BEGINNING</code>. The ordering of members within the level is determined by the definition of the attribute dimension used by the hierarchy.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">window_expression</span></p>
                     <p>A <span class="italic"><code class="codeph">window_expression</code></span> selects the set of members that are in the specified range starting from the current member and that are at the same depth as the current member. You can further restrict the selection of members by specifying a hierarchical relationship using a WITHIN phrase. Aggregation is then performed over the selected measure values to produce a single result for the expression.
                     </p>
                     <p>The parameters for a <span class="italic"><code class="codeph">window_expression</code></span> are the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">aggregate_function</code></span> is any existing SQL aggregate function except <code class="codeph">COLLECT</code>, <code class="codeph">GROUP_ID</code>, <code class="codeph">GROUPING</code>, <code class="codeph">GROUPING_ID</code>, <code class="codeph">SYS_XMLAGG</code>, <code class="codeph">XMLAGG</code>, and any multi-argument function. A user defined aggregate function is also allowed. The arguments to the aggregate function are <span class="italic"><code class="codeph">calc_meas_expression</code></span> expressions. These expressions are evaluated using the outer context, with the member of the specified hierarchy changed to each member in the related range. Therefore, each expression argument is evaluated once per related member. The results are then aggregated using the <span class="italic"><code class="codeph">aggregate_function</code></span>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OVER</code> <code class="codeph">(</code><span class="italic"><code class="codeph">window_clause</code></span><code class="codeph">)</code> specifies the hierarchy to use and the boundaries of the window to consider. 
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0__GUID-68812EF3-7487-4B57-9340-6C7D5BD4BAAB">
                        <p class="notep1">See Also:</p>
                        <p><a href="Aggregate-Functions.html#GUID-62BE676B-AF18-4E63-BD14-25206FEA0848">Aggregate Functions</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">window_clause</span></p>
                     <p>The <span class="italic"><code class="codeph">window_clause</code></span> parameter selects a range of members related to the current member. The range is between the members specified by the <span class="italic"><code class="codeph">preceding_boundary</code></span> or <span class="italic"><code class="codeph">following_boundary</code></span> parameters. The range is always computed over members at the same level as the current member.
                     </p>
                     <p>The parameters for a <span class="italic"><code class="codeph">window_clause</code></span> are the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">HIERARCHY</code> <span class="italic"><code class="codeph">hierarchy_ref</code></span> specifies the name of the hierarchy in the analytic view.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">BETWEEN</code> <span class="italic"><code class="codeph">preceding_boundary</code></span> or <span class="italic"><code class="codeph">following_boundary</code></span> defines the set of members to relate to the current member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">LEVEL</code> selects the related members by applying the boundary clause to all members of the current level. This is the default when the <code class="codeph">WITHIN</code> keyword is not specified.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">PARENT</code> selects the related members by applying the boundary clause to all members that share a parent with the current member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">ANCESTOR</code> <code class="codeph">AT</code> <code class="codeph">LEVEL</code> selects the related members by applying the boundary clause to all members at the current depth that share an ancestor (or is the member itself) at the specified level with the current member. The value of the window expression is <code class="codeph">NULL</code> if the current member is above the specified level. If the level is not in the specified hierarchy, then an error occurs.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">preceding_boundary</span></p>
                     <p>The <span class="italic"><code class="codeph">preceding_boundary</code></span> parameter defines a range of members from the specified number of members backward in the level from the current member and forward to the specified end of the boundary. The following parameters specify the range:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">UNBOUNDED</code> <code class="codeph">PRECEDING</code> begins the range at the first member in the level.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">offset_expr</code></span> <code class="codeph">PRECEDING</code> begins the range at the <span class="italic"><code class="codeph">offset_expr</code></span> number of members backward from the current member. The <span class="italic"><code class="codeph">offset_expr</code></span> expression is a <span class="italic"><code class="codeph">calc_meas_expression</code></span> that resolves to a number. If the offset number is greater than the number of members from the current member to the first member in the level, than the first member is used as the start of the range.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CURRENT</code> <code class="codeph">MEMBER</code> ends the range at the current member.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">offset_expr</code></span> <code class="codeph">PRECEDING</code> ends the range at the member that is <span class="italic"><code class="codeph">offset_expr</code></span> backward from the current member.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">offset_expr</code></span> <code class="codeph">FOLLOWING</code> ends the range at the member that is <span class="italic"><code class="codeph">offset_expr</code></span> forward from the current member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">UNBOUNDED</code> <code class="codeph">FOLLOWING</code> ends the range at the last member in the level.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">following_boundary</span></p>
                     <p>The <span class="italic"><code class="codeph">following_boundary</code></span> parameter defines a range of members from the specified number of members from the current member forward to the specified end of the range. The following parameters specify the range:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CURRENT</code> <code class="codeph">MEMBER</code> begins the range at the current member.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">offset_expr</code></span> <code class="codeph">FOLLOWING</code> begins the range at the member that is <span class="italic"><code class="codeph">offset_expr</code></span> forward from the current member.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">offset_expr</code></span> <code class="codeph">FOLLOWING</code> ends the range at the member that is <span class="italic"><code class="codeph">offset_expr</code></span> forward from the current member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">UNBOUNDED</code> <code class="codeph">FOLLOWING</code> ends the range at the last member in the level.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hierarchy_ref</span></p>
                     <p>A reference to a hierarchy of an analytic view. The <span class="italic"><code class="codeph">hier_alias</code></span> parameter specifies the name of a hierarchy in the definition of the analytic view. You may use double quotes to escape special characters or preserve case, or both.
                     </p>
                     <p>The optional <span class="italic"><code class="codeph">attr_dim_alias</code></span> parameter is the name of an alias specified in the definition of the analytic view. You may use the <span class="italic"><code class="codeph">attr_dim_alias</code></span> parameter to resolve the ambiguity if the specified hierarchy alias conflicts with another hierarchy alias in the analytic view or if an attribute dimension is used more than once in the analytic view definition. You may use the <span class="italic"><code class="codeph">attr_dim_alias</code></span> parameter even when a name conflict does not exist.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">share_of_expression</span></p>
                     <p>A <span class="italic"><code class="codeph">share_of_expression</code></span> expression calculates the ratio of an expression's value for the current context over the expression's value at a related context. The expression is a <span class="italic"><code class="codeph">calc_meas_expression</code></span> that is evaluated at the current context and the related context. The <span class="italic"><code class="codeph">share_clause</code></span> specification determines the related context to use.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">share_clause</span></p>
                     <p>A <span class="italic"><code class="codeph">share_clause</code></span> modifies the outer context by setting the member for the specified hierarchy to a related member.
                     </p>
                     <p>The parameters of the share clause are the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">HIERARCHY</code> <span class="italic"><code class="codeph">hierarchy_ref</code></span> specifies the name of the hierarchy that is the outer context for the <span class="italic"><code class="codeph">share_of_expression</code></span> calculations.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PARENT</code> specifies that the related member is the parent of the current member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LEVEL</code> <span class="italic"><code class="codeph">level_ref</code></span> specifies that the related member is the ancestor (or is the member itself) of the current member at the specified level in the hierarchy. If the current member is above the specified level, then <code class="codeph">NULL</code> is returned for the share expression. If the level is not in the hierarchy, then an error occurs.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MEMBER</code> <span class="italic"><code class="codeph">member_expression</code></span> specifies that the related member is the member returned after evaluating the <span class="italic"><code class="codeph">member_expression</code></span> in the current context. If the value of the specified member is <code class="codeph">NULL</code>, then <code class="codeph">NULL</code> is returned for the share expression.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">level_member_literal</span></p>
                     <p>A <span class="italic"><code class="codeph">level_member_literal</code></span> is an expression that resolves to a single member of the hierarchy. The expression contains the name of the level and one or more member keys. The member key or keys may be identified by position or by name. If the specified level is not in the context hierarchy, then an error occurs.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">pos_member_keys</span></p>
                     <p>The <span class="italic"><code class="codeph">member_key_expr</code></span> expression resolves to the key value for the member. When specified by position, all components of the key must be given in the order found in the <code class="codeph">ALL_HIER_LEVEL_ID_ATTRS</code> dictionary view. For a hierarchy in which the specified level is not determined by the child level, then all member key values of all such child levels must be provided preceding the current level's member key or keys. Duplicate key components are only specified the first time they appear.
                     </p>
                     <p>The primary key is used when <span class="italic"><code class="codeph">level_member_literal</code></span> is specified using the <span class="italic"><code class="codeph">pos_member_keys</code></span> phrase. You can reference an alternate key by using the <span class="italic"><code class="codeph">named_member_keys</code></span> phrase.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">named_member_keys</span></p>
                     <p>The <span class="italic"><code class="codeph">member_key_expr</code></span> expression resolves to the key value for the member. The <span class="italic"><code class="codeph">attr_name</code></span> parameter is an identifier for the name of the attribute. If all of the attribute names do not make up a key or alternate key of the specified level, then an error occurs.
                     </p>
                     <p>When specified by name, all components of the key must be given and all must use the attribute <span class="italic">name = value</span> form, in any order. For a hierarchy in which the specified level is not determined by the child level, then all member key values of all such child levels must be provided, also using the named form. Duplicate key components are only specified once.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_navigation_expression</span></p>
                     <p>A <span class="italic"><code class="codeph">hier_navigation_expression</code></span> expression navigates from the specified member to a different member in the hierarchy.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_ancestor_expression</span></p>
                     <p>Navigates from the specified member to the ancestor member (or to the member itself) at the specified level or depth. The depth is specified as an expression that must resolve to a number. If the member is at a level or depth above the specified member or the member is <code class="codeph">NULL</code>, then <code class="codeph">NULL</code> is returned for the expression value. If the specified level is not in the context hierarchy, then an error occurs.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">member_expression</span></p>
                     <p>A <span class="italic"><code class="codeph">member_expression</code></span> evaluates to a member of the specified hierarchy. The hierarchy can always be determined from the outer expression (enforced by the syntax). A <span class="italic"><code class="codeph">member_expression</code></span> can be one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">level_member_literal</code></span> is an expression that evaluates to a hierarchy member.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">hier_navigation_expr</code></span> is an expression that relates one member of the hierarchy to another member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CURRENT</code> <code class="codeph">MEMBER</code> specifies the member of the hierarchy as determined by the outer context.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NULL</code> is a way to specify a non-existent member.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL</code> specifies the single topmost member of every hierarchy.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_parent_expression</span></p>
                     <p>Navigates from the specified member to the parent member.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_lead_lag_expression</span></p>
                     <p>Navigates from the specified member to a related member by moving forward or backward some number of members within the context hierarchy. The <code class="codeph">HIER_LEAD</code> keyword returns a later member. The <code class="codeph">HIER_LAG</code> keyword returns an earlier member.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">hier_lead_lag_clause</span></p>
                     <p>Navigates the <span class="italic"><code class="codeph">offset_expr</code></span> number of members forward or backward from the specified member. The ordering of members within a level is specified in the definition of the attribute dimension.
                     </p>
                     <p>The optional parameters of <span class="italic"><code class="codeph">hier_lead_lag_clause</code></span> are the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">LEVEL</code> locates the related member by moving forward or backward <span class="italic"><code class="codeph">offset_expr</code></span> members within the members that have the same depth as the current member. The ordering of members within the level is determined by the definition of the attribute dimension. The <code class="codeph">WITHIN</code> <code class="codeph">LEVEL</code> operation is the default if neither the <code class="codeph">WITHIN</code> nor the <code class="codeph">ACROSS</code> keywords are used.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">PARENT</code> locates the related member by moving forward or backward <span class="italic"><code class="codeph">offset_expr</code></span> members within the members that have the same depth as the current member, but only considers members that share a parent with the current member. The ordering of members within the level is determined by the definition of the attribute dimension.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WITHIN</code> <code class="codeph">ACROSS</code> <code class="codeph">ANCESTOR</code> <code class="codeph">AT</code> <code class="codeph">LEVEL</code> locates the related member by navigating up to the ancestor of the current member (or to the member itself) at the specified level, noting the position of each ancestor member (including the member itself) within its parent. Once the ancestor member is found, navigation moves forward or backward <span class="italic"><code class="codeph">offset_expr</code></span> members within the members that have the same depth as the ancestor member.
                           </p>
                           <p>After locating the related ancestor, navigation moves back down the hierarchy from that member, matching the position within the parent as recorded on the way up (in reverse order). The position within the parent is either an offset from the first child or the last child depending on whether <code class="codeph">POSITION</code> <code class="codeph">FROM</code> <code class="codeph">BEGINNING</code> or <code class="codeph">POSITION</code> <code class="codeph">FROM</code> <code class="codeph">END</code> is specified, defaulting to <code class="codeph">POSITION</code> <code class="codeph">FROM</code> <code class="codeph">BEGINNING</code>. The ordering of members within the level is determined by the definition of the attribute dimension.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">qdr_expression</span></p>
                     <p>A <span class="italic"><code class="codeph">qdr_expression</code></span> is a qualified data reference that evaluates the specified <span class="italic"><code class="codeph">calc_meas_expression</code></span> in a new context and sets the hierarchy member to the new value.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">qualifier</span></p>
                     <p>A qualifier modifies the outer context by setting the member for the specified hierarchy to the member resulting from evaluating <span class="italic"><code class="codeph">member_expression</code></span>. If <span class="italic"><code class="codeph">member_expression</code></span> is <code class="codeph">NULL</code>, then the result of the <span class="italic"><code class="codeph">qdr_expression</code></span> selection is <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-1431620E-C5DA-48F0-A5A4-6BFCF8FB8AF3" name="GUID-1431620E-C5DA-48F0-A5A4-6BFCF8FB8AF3"></a><h3 id="SQLRF-GUID-1431620E-C5DA-48F0-A5A4-6BFCF8FB8AF3" class="sect3"><span class="enumeration_section">5.4.2 </span>Analytic View Simple Expressions
               </h3>
               <div>
                  <div class="section">
                     <p>A calculated measure expression may be an analytic view simple expression. An analytic view simple expression may be any SQL literal or a reference to a measure in an analytic view.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">av_simple_expression</span>::=
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-1431620E-C5DA-48F0-A5A4-6BFCF8FB8AF3__GUID-51D66DD8-3EFC-4554-B2B1-5C5DA7A6B840"><img src="img/av_simple_expression.gif" alt="Description of av_simple_expression.eps follows" title="Description of av_simple_expression.eps follows" longdesc="img_text/av_simple_expression.html"><br><a href="img_text/av_simple_expression.html">Description of the illustration av_simple_expression.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">measure_ref</span>::=
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-1431620E-C5DA-48F0-A5A4-6BFCF8FB8AF3__GUID-C73317B4-64AA-4DEA-A411-3D0AB8F49860"><img src="img/measure_ref.gif" alt="Description of measure_ref.eps follows" title="Description of measure_ref.eps follows" longdesc="img_text/measure_ref.html"><br><a href="img_text/measure_ref.html">Description of the illustration measure_ref.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2"><span class="italic">measure_ref</span></p>
                     <p>A reference to a measure in an analytic view. The <span class="italic"><code class="codeph">meas_name</code></span> parameter must be the name of a measure in the definition of an analytic view. You may use double quotes to escape special characters or preserve case, or both. If the measure name conflicts with the name of an attribute dimension used by the analytic view, then you may use the optional <code class="codeph">MEASURES</code> keyword to resolve the ambiguity. You may use the <code class="codeph">MEASURES</code> keyword even when a name conflict does not exist.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-D8B634C2-2018-4729-A487-E9A9F3EA0E69" name="GUID-D8B634C2-2018-4729-A487-E9A9F3EA0E69"></a><h3 id="SQLRF-GUID-D8B634C2-2018-4729-A487-E9A9F3EA0E69" class="sect3"><span class="enumeration_section">5.4.3 </span>Single Row Function Expression
               </h3>
               <div>
                  <div class="section">
                     <p>A calculated measure expression may be any SQL single row function expression.</p>
                     <div class="infoboxnotealso" id="GUID-D8B634C2-2018-4729-A487-E9A9F3EA0E69__GUID-321AB336-0345-4D74-8A81-B96D87F309CB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="Function-Expressions.html#GUID-C47F0B7D-9058-481F-815E-A31FB21F3BD5">Function Expressions</a></p>
                           </li>
                           <li>
                              <p><a href="Single-Row-Functions.html#GUID-B93F789D-B486-49FF-B0CD-0C6181C5D85C">Single-Row Functions</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-595B6AC1-9204-4119-890A-0C38F933D03C" name="GUID-595B6AC1-9204-4119-890A-0C38F933D03C"></a><h3 id="SQLRF-GUID-595B6AC1-9204-4119-890A-0C38F933D03C" class="sect3"><span class="enumeration_section">5.4.4 </span>Examples of Calculated Measure Expressions
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2">Examples of LAG Expressions</p>
                     <p>This topic contains examples that show calculated measures defined in the <code class="codeph">MEASURES</code> clause of an analytic view. For more examples, see the tutorials on analytic views at the SQL Live website at <a href="https://livesql.oracle.com/apex/livesql/file/index.html">https://livesql.oracle.com/apex/livesql/file/index.html</a>.
                     </p>
                     <p>These calculated measures different <code class="codeph">LAG</code> operations.
                     </p><pre class="pre codeblock"><code>-- These calculated measures are from the measures_clause of the
-- sales_av analytic view.
MEASURES
 (sales FACT sales,                      -- A base measure
  units FACT units,                      -- A base measure
  sales_prior_period AS                  -- Calculated measures
    (LAG(sales) OVER (HIERARCHY time_hier OFFSET 1)),
  sales_year_ago AS
    (LAG(sales) OVER (HIERARCHY time_hier OFFSET 1
     ACROSS ANCESTOR AT LEVEL year)),
  chg_sales_year_ago AS
    (LAG_DIFF(sales) OVER (HIERARCHY time_hier OFFSET 1
     ACROSS ANCESTOR AT LEVEL year)),
  pct_chg_sales_year_ago AS
    (LAG_DIFF_PERCENT(sales) OVER (HIERARCHY time_hier OFFSET 1
     ACROSS ANCESTOR AT LEVEL year)),
  sales_qtr_ago AS
    (LAG(sales) OVER (HIERARCHY time_hier OFFSET 1
     ACROSS ANCESTOR AT LEVEL quarter)),
  chg_sales_qtr_ago AS
    (LAG_DIFF(sales) OVER (HIERARCHY time_hier OFFSET 1
     ACROSS ANCESTOR AT LEVEL quarter)),
  pct_chg_sales_qtr_ago AS
    (LAG_DIFF_PERCENT(sales) OVER (HIERARCHY time_hier OFFSET 1
     ACROSS ANCESTOR AT LEVEL quarter))
 )</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Example of a Window Expression</p>
                     <p>This calculated measure uses a window operation.</p><pre class="pre codeblock"><code>MEASURES
 (sales FACT sales,
  units FACT units,
  sales_qtd AS
    (SUM(sales) OVER (HIERARCHY time_hier
     BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER
     WITHIN ANCESTOR AT LEVEL QUARTER)),
  sales_ytd AS
    (SUM(sales) OVER (HIERARCHY time_hier
     BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER
     WITHIN ANCESTOR AT LEVEL YEAR))      
 )</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Examples of SHARE OF Expressions</p>
                     <p>These calculated measures use <code class="codeph">SHARE</code> <code class="codeph">OF</code> expressions.
                     </p><pre class="pre codeblock"><code>MEASURES
 (sales FACT sales,
  units FACT units,
 sales_shr_parent_prod AS
   (SHARE_OF(sales HIERARCHY product_hier PARENT)),
 sales_shr_parent_geog AS
   (SHARE_OF(sales HIERARCHY geography_hier PARENT)),
 sales_shr_region AS
   (SHARE_OF(sales HIERARCHY geography_hier LEVEL REGION)) 
 )</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2">Examples of QDR Expressions</p>
                     <p>These calculated measures use the <code class="codeph">QUALIFY</code> keyword to specify qualified data reference expressions.
                     </p><pre class="pre codeblock"><code>MEASURES
 (sales FACT sales,
  units FACT units,
  sales_2011 AS
    (QUALIFY (sales, time_hier = year['11'])),
  sales_pct_chg_2011 AS
    ((sales - (QUALIFY (sales, time_hier = year['11']))) /
    (QUALIFY (sales, time_hier = year['11'])))
 )</code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>