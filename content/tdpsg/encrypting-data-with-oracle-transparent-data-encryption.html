<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Transparent Data Encryption enables you to disguise data in table columns and in an entire tablespace.">
      <meta name="description" content="Transparent Data Encryption enables you to disguise data in table columns and in an entire tablespace.">
      <title>Encrypting Data with Oracle&nbsp;Transparent&nbsp;Data&nbsp;Encryption</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="2 Day + Security Guide ">
      <meta property="og:description" content="Transparent Data Encryption enables you to disguise data in table columns and in an entire tablespace.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="2 Day + Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="oracle-database-2-day-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2017-10-11T15:35:05-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2017">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85658-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="managing-user-privileges.html" title="Previous" type="text/html">
      <link rel="next" href="controlling-access-with-oracle-database-vault.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">
            {
                "primary":
                {
                    "category":{
                      "short_name":"database",
                      "element_name":"Database",
                      "display_in_url":true
                    },
                    "suite":{
                      "short_name":"oracle",
                      "element_name":"Oracle",
                      "display_in_url":true
                    },
                    "product_group":{
                      "short_name":"not-applicable",
                      "element_name":"Not applicable",
                      "display_in_url":false
                    },
                    "product":{
                      "short_name":"oracle-database",
                      "element_name":"Oracle Database",
                      "display_in_url":true
                    },
                    "release":{
                      "short_name":"12.2",
                      "element_name":"Release 12.2",
                      "display_in_url":true
                    },
                    "platform":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    },
                    "component":{
                      "short_name":"",
                      "element_name":"",
                      "display_in_url":false
                    }
                }
            }
            </script>
      
    <meta name="dcterms.title" content="Oracle Database 2 Day + Security Guide">
    <meta name="dcterms.isVersionOf" content="TDPSG">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-user-privileges.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="controlling-access-with-oracle-database-vault.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2 Day + Security Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Encrypting Data with Oracle&nbsp;Transparent&nbsp;Data&nbsp;Encryption</li>
            </ol>
            <a id="GUID-61259237-5514-4531-AFB4-CF716F93F1E5" name="GUID-61259237-5514-4531-AFB4-CF716F93F1E5"></a><a id="TDPSG94440"></a>
            
            <h2 id="TDPSG-GUID-61259237-5514-4531-AFB4-CF716F93F1E5" class="sect2"><span class="enumeration_chapter">4 </span>Encrypting Data with Oracle&nbsp;Transparent&nbsp;Data&nbsp;Encryption
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='encrypting-data-with-oracle-transparent-data-encryption'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Transparent Data Encryption enables you to disguise data in table columns and in an entire tablespace. </p>
            </div>
            <div>
               <p><strong>Topics:</strong></p>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-3D055E66-51CB-4C5F-880D-66482FF25DF6">About Encrypting Sensitive Data</a><br>Encrypted data is data that has been disguised so that only an authorized recipient can read it.
                  </li>
                  <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-C8698CBF-142D-45D1-8E23-ACD9749AAAAB">When Should You Encrypt Data?</a><br>In most cases, you must encrypt sensitive data on your site to meet a regulatory compliance. 
                  </li>
                  <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-6232A0A3-1211-4862-AEBF-6DCC1C6B53E5">How Transparent Data Encryption Works</a><br>Transparent Data Encryption enables you to encrypt individual table columns or an entire tablespace. 
                  </li>
                  <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-7D690169-ACB6-4B1F-8EE8-6A07667EA251">Configuring Data to Use Transparent Data Encryption</a><br>To start using Transparent Data Encryption, you must create a keystore and set a master key. 
                  </li>
                  <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-F6847274-E8E5-4D95-BDBE-4ED36E48CCC1">Checking Existing Encrypted Data</a><br>You can query the database for the data that you have encrypted. 
                  </li>
               </ul>
            </div>
            <a id="TDPSG40041"></a><div class="props_rev_3"><a id="GUID-3D055E66-51CB-4C5F-880D-66482FF25DF6" name="GUID-3D055E66-51CB-4C5F-880D-66482FF25DF6"></a><h3 id="TDPSG-GUID-3D055E66-51CB-4C5F-880D-66482FF25DF6" class="sect3"><span class="enumeration_section">4.1 </span>About Encrypting Sensitive Data
               </h3>
               <div>
                  <p>Encrypted data is data that has been disguised so that only an authorized recipient can read it.</p>
                  <p>You use encryption (Transparent Data Encryption, or TDE) to protect data in a potentially unprotected environment, such as data you have placed on backup media that is sent to an offsite storage location.</p>
                  <p>Encrypting data includes the following components: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">An algorithm to encrypt the data.</span> Oracle Databases use the encryption algorithm to encrypt and decrypt data. Oracle Database supports several industry-standard encryption and hashing algorithms, including the Advanced Encryption Standard (AES) encryption algorithm, which has been approved by the National Institute of Standards and Technology (NIST).
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">A key to encrypt and decrypt data.</span> When you encrypt data, Oracle Database uses the key and plain text data as input into the encryption algorithm. Conversely, when you decrypt data, the key is used as input into the algorithm to reverse the process and retrieve the clear text data. Oracle Database uses a symmetric encryption key to perform this task, in which the same key is used to both encrypt and decrypt the data. The encryption key is stored in the data dictionary, but encrypted with another master key. 
                        </p>
                     </li>
                  </ul>
                  <p>You can encrypt individual table columns or an entire tablespace. Be careful that you do not mix the two. For example, suppose you encrypt a table column and then encrypt its surrounding tablespace. This double encryption can cause performance problems. In addition, column encryption has limitations in data type support, and only supports B-tree indexes for equality searches. To check the current encrypted settings, you can query the <code class="codeph">V$ENCRYPTED_TABLESPACES</code> data dictionary view for tablespaces and the <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> view for encrypted columns. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-3D055E66-51CB-4C5F-880D-66482FF25DF6__GUID-F888C27A-C81B-444B-8AD0-7B5318FC75CB">
                     <p class="notep1">See Also:</p><a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG10117"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for detailed information about TDE
                  </div>
               </div>
            </div><a id="TDPSG40042"></a><div class="props_rev_3"><a id="GUID-C8698CBF-142D-45D1-8E23-ACD9749AAAAB" name="GUID-C8698CBF-142D-45D1-8E23-ACD9749AAAAB"></a><h3 id="TDPSG-GUID-C8698CBF-142D-45D1-8E23-ACD9749AAAAB" class="sect3"><span class="enumeration_section">4.2 </span>When Should You Encrypt Data?
               </h3>
               <div>
                  <p>In most cases, you must encrypt sensitive data on your site to meet a regulatory compliance. </p>
                  <p>For example, sensitive data such as credit card numbers, Social Security numbers, or patient health information must be encrypted.</p>
                  <p>Historically, users have wanted to encrypt data to restrict data access from their database administrators. However, this problem is more of an access control problem, not an encryption problem. You can address this problem by using Oracle Database Vault to control the access to your application data from database administrators. </p>
                  <p>In most cases, you encrypt sensitive data, such as credit cards and Social Security numbers, to prevent access when backup tapes or disk drives are lost or stolen. In recent years, industry regulations such as the Payment Card Industry (PCI) Data Security Standard and the Healthcare Insurance Portability and Accountability Act (HIPAA) have become a driving factor behind increased usage of encryption for protecting credit card and health care information, respectively.</p>
               </div>
            </div><a id="TDPSG40431"></a><div class="props_rev_3"><a id="GUID-6232A0A3-1211-4862-AEBF-6DCC1C6B53E5" name="GUID-6232A0A3-1211-4862-AEBF-6DCC1C6B53E5"></a><h3 id="TDPSG-GUID-6232A0A3-1211-4862-AEBF-6DCC1C6B53E5" class="sect3"><span class="enumeration_section">4.3 </span>How Transparent Data Encryption Works
               </h3>
               <div>
                  <p>Transparent Data Encryption enables you to encrypt individual table columns or an entire tablespace. </p>
                  <p>When a user inserts data into an encrypted column, Transparent Data Encryption automatically encrypts the data. When authorized users select the column, then the data is automatically decrypted. </p>
                  <p>To encrypt data by using Transparent Data Encryption, you create the following components:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">A keystore to store the master encryption key.</span> The keystore is an operating system file that is located outside the database. The database uses the keystore to store the master encryption key. To create the keystore, you can use the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL statement. The keystore is encrypted using a password as the encryption key. You create the password when you create the keystore. Access to the contents (or master key) of the keystore is then restricted to only those who know the password. After the keystore is created, you must open the keystore using the password so that the database can access the master encryption key.
                        </p>
                        <p>You can use either software keystores or hardware keystores. A software keystore is defined in a file that you create in a directory location. The software keystore can be one of the following types: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Password-based keystores:</span> Password-based keystores are protected by using a password that you create. You must open the keystore before the keys can be retrieved or used.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Auto-login keystores:</span> Auto-login keystores are protected by a system-generated password, and do not need to be explicitly opened by a security administrator. Auto-login keystores are automatically opened when accessed. Auto-login keystores can be used across different systems. If your environment does not require the extra security provided by a keystore that must be explicitly opened for use, then you can use an auto-login keystore.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Auto-login local keystores:</span> Auto-login local keystores are auto-login keystores that are local to the system on which they are created. Auto-login local keystores cannot be opened on any computer other than the one on which they are created.
                              </p>
                           </li>
                        </ul>
                        <p>A hardware keystore is used with a hardware security module, which is a physical device that is designed to provide secure storage for encryption keys. This guide explains how to configure software keystores only. For detailed information about hardware keystores, see <a href="../asoag/configuring-transparent-data-encryption.html#ASOAG10292"><span><cite>Oracle Database Advanced Security Guide</cite></span></a>. 
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">A location for the keystore. </span>You must specify the keystore location in the <code class="codeph">sqlnet.ora</code> file. 
                        </p>
                     </li>
                  </ul>
                  <p>Afterward, when a user enters data, Oracle Database performs the following steps: </p>
                  <ol>
                     <li>
                        <p>Retrieves the master key from the keystore.</p>
                     </li>
                     <li>
                        <p>Decrypts the encryption key using the master key.</p>
                     </li>
                     <li>
                        <p>Uses the encryption key to encrypt the data the user entered.</p>
                     </li>
                     <li>
                        <p>Stores the data in encrypted format in the database. </p>
                     </li>
                  </ol>
                  <p>If the user is selecting data, the process is similar: Oracle Database decrypts the data and then displays it in plain text format. </p>
                  <p>Transparent Data Encryption has the following benefits: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>As a security administrator, you can be sure that sensitive data is safe if the storage media or data file is stolen or lost.</p>
                     </li>
                     <li>
                        <p>Implementing Transparent Data Encryption helps you address security-related regulatory compliance issues.</p>
                     </li>
                     <li>
                        <p>Data from tables is transparently decrypted for the database user. You do not need to create triggers or views to decrypt data. </p>
                     </li>
                     <li>
                        <p>Database users do not need to be aware that the data they are accessing is stored in encrypted form. Data is transparently decrypted for the database users and does not require any action on their part.</p>
                     </li>
                     <li>
                        <p>Applications need not be modified to handle encrypted data. Data encryption and decryption is managed by the database.</p>
                     </li>
                  </ul>
                  <p>Transparent Data Encryption has a minimal impact on performance. Transparent Data Encryption column encryption affects performance only when data is retrieved from or inserted into an encrypted column. There is no impact on performance for operations involving unencrypted columns, even if these columns are in a table containing encrypted columns. However, be aware that encrypted data must have more storage space than plain text data. On average, encrypting a single column requires between 32 and 48 bytes of additional storage for each row. Transparent tablespace encryption provides even better performance because Oracle Database performs the encryption and decryption at the I/O block layer. Once blocks are decrypted, they are cached in Oracle Database memory for optimal performance. </p>
                  <div class="infoboxnotealso" id="GUID-6232A0A3-1211-4862-AEBF-6DCC1C6B53E5__GUID-3B33B437-9DC8-4C94-B84B-414668886908">
                     <p class="notep1">See Also:</p>
                     <p><a href="../asoag/asopart1.html#ASOAG600"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for detailed information about using Transparent Data Encryption
                     </p>
                  </div>
               </div>
            </div><a id="TDPSG40432"></a><div class="props_rev_3"><a id="GUID-7D690169-ACB6-4B1F-8EE8-6A07667EA251" name="GUID-7D690169-ACB6-4B1F-8EE8-6A07667EA251"></a><h3 id="TDPSG-GUID-7D690169-ACB6-4B1F-8EE8-6A07667EA251" class="sect3"><span class="enumeration_section">4.4 </span>Configuring Data to Use Transparent Data Encryption
               </h3>
               <div>
                  <p>To start using Transparent Data Encryption, you must create a keystore and set a master key. </p>
                  <p>The keystore should be a separate keystore specifically used by Transparent Data Encryption. This keystore will be used for all data that is being encrypted through Transparent Data Encryption. </p>
               </div>
               <div>
                  <p><strong>Topics:</strong></p>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-F357ED80-2CE3-4021-96F4-C3FA206E4095">Step 1: Configure the Keystore Location</a><br>When you create a software password-based keystore, you must designate the directory location for the keystore in the <code class="codeph">sqlnet.ora</code> file. 
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-8F9679F0-FD6E-4E02-9450-58B8F5F3E9ED">Step 2: Check the COMPATIBLE Initialization Parameter Setting</a><br>To configure the full set of tablespace encryption features, you must set the <code class="codeph">COMPATIBLE</code> initialization parameter for the database to <code class="codeph">11.2.0.0</code> or later. 
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-E6B591CF-0A94-4BE2-BD46-2D2C1D33C9C9">Step 3: Create the Software Password-Based Keystore</a><br>To create the keystore, use the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL statement. 
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-4CE7D5F7-7B12-4AEA-BDF4-5818AA6E1215">Step 4: Open (or Close) the Keystore</a><br>You can manually open and close keystores. Auto-login keystores open automatically when they are accessed.
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-F90A7511-7C03-48B1-ABCA-1F775802D122">Step 5: Create the Master Encryption Key</a><br>The master encryption key, which stored in a keystore, protects the table keys and tablespace encryption keys. 
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-133FD428-8AB6-4ADC-859C-B441F30F66A7">Step 6: Encrypt Data</a><br>Next, you are ready to encrypt either individual table columns or an entire tablespace. 
                     </li>
                  </ul>
               </div>
               <a id="TDPSG44321"></a><div class="props_rev_3"><a id="GUID-F357ED80-2CE3-4021-96F4-C3FA206E4095" name="GUID-F357ED80-2CE3-4021-96F4-C3FA206E4095"></a><h4 id="TDPSG-GUID-F357ED80-2CE3-4021-96F4-C3FA206E4095" class="sect4"><span class="enumeration_section">4.4.1 </span>Step 1: Configure the Keystore Location
                  </h4>
                  <div>
                     <p>When you create a software password-based keystore, you must designate the directory location for the keystore in the <code class="codeph">sqlnet.ora</code> file. 
                     </p>
                     <div class="section">You perform this step only once. </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To configure the keystore location: </p>
                        <ol>
                           <li>
                              <p>Create a directory in the <code class="codeph">$ORACLE_HOME</code> directory to store the keystore. 
                              </p>
                              <p>For example, on Microsoft Windows, you could create a directory called <code class="codeph">ORA_KEYSTORES</code> in the <code class="codeph">C:\oracle\product\12.2.0\db_1</code> directory. 
                              </p>
                           </li>
                           <li>
                              <p>Create a backup copy of the <code class="codeph">sqlnet.ora</code> file, which by default is located in the <code class="codeph">$ORACLE_HOME/network/admin</code> directory. 
                              </p>
                           </li>
                           <li>
                              <p>At the end of the <code class="codeph">sqlnet.ora</code> file, add code similar to the following, where <code class="codeph">ORA_KEYSTORES</code> is the name of the directory where you plan to store the keystore:
                              </p><pre class="oac_no_warn" dir="ltr">ENCRYPTION_WALLET_LOCATION=
 (SOURCE=
  (METHOD=file)
   (METHOD_DATA=
    (DIRECTORY=C:\oracle\product\12.2.0\db_1\ORA_KEYSTORES)))
</pre></li>
                           <li>
                              <p>Save and close the <code class="codeph">sqlnet.ora</code> file. 
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG94470"></a><div class="props_rev_3"><a id="GUID-8F9679F0-FD6E-4E02-9450-58B8F5F3E9ED" name="GUID-8F9679F0-FD6E-4E02-9450-58B8F5F3E9ED"></a><h4 id="TDPSG-GUID-8F9679F0-FD6E-4E02-9450-58B8F5F3E9ED" class="sect4"><span class="enumeration_section">4.4.2 </span>Step 2: Check the COMPATIBLE Initialization Parameter Setting
                  </h4>
                  <div>
                     <p>To configure the full set of tablespace encryption features, you must set the <code class="codeph">COMPATIBLE</code> initialization parameter for the database to <code class="codeph">11.2.0.0</code> or later. 
                     </p>
                     <div class="section">
                        <p>Otherwise, ensure that it is at least <code class="codeph">11.0.0.0</code>. Be aware that once you set this parameter, you cannot change it. Ideally, you should set <code class="codeph">COMPATIBLE</code> to accommodate the most current release of Oracle Database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To set the COMPATIBLE initialization parameter:</p>
                        <ol>
                           <li>
                              <p>Log into the database instance.</p>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin
Enter password: <span class="italic">password</span>
Connected.
</pre></li>
                           <li>
                              <p>Check the current setting of the <code class="codeph">COMPATIBLE</code> parameter.
                              </p>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">SHOW PARAMETER COMPATIBLE
 
NAME                                 TYPE        VALUE
------------------------------------ ----------- -------------
compatible                           string      11.0.0.0
</pre></li>
                           <li>
                              <p>If you must change the <code class="codeph">COMPATIBLE</code> parameter, then complete the remaining steps in this procedure.
                              </p>
                              <p>The value should be <code class="codeph">11.2.0.0</code> or higher. 
                              </p>
                           </li>
                           <li>
                              <p>Locate the initialization parameter file for the database instance. </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">UNIX systems:</span> This file is in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dbs</code> directory and is named <code class="codeph">init</code><span class="italic"><code class="codeph">ORACLE_SID</code></span><code class="codeph">.ora</code> (for example, <code class="codeph">initmydb.ora</code>).
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Windows systems:</span> This file is in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\database</code> directory and is named <code class="codeph">init</code><span class="italic"><code class="codeph">ORACLE_SID</code></span><code class="codeph">.ora</code> (for example, <code class="codeph">initmydb.ora</code>).
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Edit the initialization parameter file to use the correct <code class="codeph">COMPATIBLE</code> setting.
                              </p>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">COMPATIBLE = 12.2.0.0
</pre></li>
                           <li>
                              <p>In SQL*Plus, log in as a user who has the <code class="codeph">SYSDBA</code> administrative privilege. 
                              </p><pre class="oac_no_warn" dir="ltr">sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
</pre></li>
                           <li>
                              <p>Restart the Oracle Database instance.</p>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">SHUTDOWN IMMEDIATE
STARTUP
</pre></li>
                           <li>
                              <p>Do not log out of SQL*Plus.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG44322"></a><div class="props_rev_3"><a id="GUID-E6B591CF-0A94-4BE2-BD46-2D2C1D33C9C9" name="GUID-E6B591CF-0A94-4BE2-BD46-2D2C1D33C9C9"></a><h4 id="TDPSG-GUID-E6B591CF-0A94-4BE2-BD46-2D2C1D33C9C9" class="sect4"><span class="enumeration_section">4.4.3 </span>Step 3: Create the Software Password-Based Keystore
                  </h4>
                  <div>
                     <p>To create the keystore, use the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL statement. 
                     </p>
                     <div class="section">
                        <p>By default, the Oracle keystore stores a history of retired master keys, which enables you to change them and still be able to decrypt data that was encrypted under an old master key. A case-sensitive keystore password unknown to the database administrator provides separation of duty: a database administrator can restart the database, but the keystore is closed and must be manually opened by a security administrator before the database can encrypt or decrypt the data.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To create the keystore: </p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user who has been granted the <code class="codeph">SYSKM</code> administrative privilege. 
                              </p>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">CONNECT psmith / AS SYSKM
Enter password: <span class="italic">password</span>
</pre></li>
                           <li>
                              <p>Run the following <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL statement:
                              </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT CREATE KEYSTORE '<span class="italic">keystore_location</span>' IDENTIFIED BY <span class="italic">software_keystore_password</span>;
</pre><p>In this specification:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="italic"><code class="codeph">keystore_location</code></span> is the path to the keystore location that you defined in the <code class="codeph">sqlnet.ora</code> file (for example, <code class="codeph">oracle\product\12.2.0\db_1\ORA_KEYSTORES</code>). Enclose the <span class="italic"><code class="codeph">keystore_location</code></span> setting in single quotation marks. To find this location, query the <code class="codeph">WRL_PARAMETER</code> column of the <code class="codeph">V$ENCRYPTION_WALLET</code> view. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">software_keystore_password</code></span> is a new password that you, the security administrator, creates. 
                                    </p>
                                 </li>
                              </ul>
                              <p>For example, to create the keystore in the <code class="codeph">c:\oracle\product\12.2.0\db_1\ORA_KEYSTORES</code> directory:
                              </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT CREATE KEYSTORE <code class="codeph">'c:\oracle\product\12.2.0\db_1\ORA_KEYSTORES</code>' IDENTIFIED BY <span class="italic">password</span>;

keystore altered.
</pre><p>After you run this statement, the <code class="codeph">ewallet.p12</code> file, which contains the keystore, appears in the keystore location. 
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG44323"></a><div class="props_rev_3"><a id="GUID-4CE7D5F7-7B12-4AEA-BDF4-5818AA6E1215" name="GUID-4CE7D5F7-7B12-4AEA-BDF4-5818AA6E1215"></a><h4 id="TDPSG-GUID-4CE7D5F7-7B12-4AEA-BDF4-5818AA6E1215" class="sect4"><span class="enumeration_section">4.4.4 </span>Step 4: Open (or Close) the Keystore
                  </h4>
                  <div>
                     <p>You can manually open and close keystores. Auto-login keystores open automatically when they are accessed.</p>
                  </div>
                  <div>
                     <p><strong>Topics:</strong></p>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-5BA892C8-5A20-4902-AA4D-5890AC2A1092">Opening a Keystore</a><br>After you create a software password-based keystore, you must manually open it before you can use Transparent Data Encryption. 
                        </li>
                        <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-3BA5473C-3546-4734-9919-C815A1AEEC9C">Closing a Keystore</a><br>You can close a keystore to disable access to the master key and prevent access to the encrypted columns. 
                        </li>
                     </ul>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-5BA892C8-5A20-4902-AA4D-5890AC2A1092" name="GUID-5BA892C8-5A20-4902-AA4D-5890AC2A1092"></a><h5 id="TDPSG-GUID-5BA892C8-5A20-4902-AA4D-5890AC2A1092" class="sect5"><span class="enumeration_section">4.4.4.1 </span>Opening a Keystore
                     </h5>
                     <div>
                        <p>After you create a software password-based keystore, you must manually open it before you can use Transparent Data Encryption. </p>
                        <div class="section">
                           <p>You do not need to open the auto-login or hardware keystores because they open automatically. You can check the status of whether a keystore is open or closed by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">V$ENCRYPTION_WALLET</code> view.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">To open a keystore:</p>
                           <ol>
                              <li>
                                 <p>Ensure that you are logged into SQL*Plus as a user who has been granted the <code class="codeph">SYSKM</code> system privilege.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL statement: 
                                 </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET KEYSTORE OPEN IDENTIFIED BY <span class="italic">software_keystore_password</span>;

keystore altered.
</pre><p>Replace <span class="italic"><code class="codeph">software_keystore_password</code></span> with the password that you created in <a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-E6B591CF-0A94-4BE2-BD46-2D2C1D33C9C9" title="To create the keystore, use the ADMINISTER KEY MANAGEMENT SQL statement.">Step 3: Create the Software Password-Based Keystore</a>. 
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-3BA5473C-3546-4734-9919-C815A1AEEC9C" name="GUID-3BA5473C-3546-4734-9919-C815A1AEEC9C"></a><h5 id="TDPSG-GUID-3BA5473C-3546-4734-9919-C815A1AEEC9C" class="sect5"><span class="enumeration_section">4.4.4.2 </span>Closing a Keystore
                     </h5>
                     <div>
                        <p>You can close a keystore to disable access to the master key and prevent access to the encrypted columns. </p>
                        <div class="section">
                           <p>In most cases, leave the keystore open unless you have a reason for closing it. The keystore must be open for Transparent Data Encryption to work. To reopen the keystore, use the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> statement.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3">To close a keystore: </p>
                           <ol>
                              <li>
                                 <p>Ensure that you are logged into SQL*Plus as a user who has been granted the <code class="codeph">SYSKM</code> system privilege.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following SQL statement:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET KEYSTORE CLOSE IDENTIFIED BY <span class="italic">software_keystore_password</span>;</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TDPSG94471"></a><div class="props_rev_3"><a id="GUID-F90A7511-7C03-48B1-ABCA-1F775802D122" name="GUID-F90A7511-7C03-48B1-ABCA-1F775802D122"></a><h4 id="TDPSG-GUID-F90A7511-7C03-48B1-ABCA-1F775802D122" class="sect4"><span class="enumeration_section">4.4.5 </span>Step 5: Create the Master Encryption Key
                  </h4>
                  <div>
                     <p>The master encryption key, which stored in a keystore, protects the table keys and tablespace encryption keys. </p>
                     <div class="section">
                        <p>By default, the master encryption key is a random key generated by Transparent Data Encryption (TDE). </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To create the master encryption key:</p>
                        <ol>
                           <li>
                              <p>Ensure that you are logged into SQL*Plus as a user who has been granted the <code class="codeph">SYSKM</code> system privilege.
                              </p>
                           </li>
                           <li>
                              <p>Run the following <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL statement:
                              </p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET KEY IDENTIFIED BY <span class="italic">software_keystore_password</span> [WITH BACKUP [USING '<span class="italic">backup_identifier</span>']];

keystore altered.
</pre><p>In this specification:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="italic"><code class="codeph">software_keystore_password</code></span> is the password that you created in <a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-E6B591CF-0A94-4BE2-BD46-2D2C1D33C9C9" title="To create the keystore, use the ADMINISTER KEY MANAGEMENT SQL statement.">Step 3: Create the Software Password-Based Keystore</a>. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">WITH BACKUP</code> creates a backup of the keystore. You must use this option for password-based keystores. You do not need to use it for auto-login or auto-login local keystores. Optionally, you can use the <code class="codeph">USING</code> clause to add a brief description of the backup. Enclose this description in double quotation marks. This identifier is appended to the named keystore file (for example, <code class="codeph">ewallet_</code><span class="italic"><code class="codeph">timestamp</code></span><code class="codeph">_emp_key_backup.p12</code>).
                                    </p>
                                 </li>
                              </ul>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET ENCRYPTION KEY IDENTIFIED BY <span class="italic">software_keystore_password</span> WITH BACKUP USING 'password key backup';</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG44324"></a><div class="sect3"><a id="GUID-133FD428-8AB6-4ADC-859C-B441F30F66A7" name="GUID-133FD428-8AB6-4ADC-859C-B441F30F66A7"></a><h4 id="TDPSG-GUID-133FD428-8AB6-4ADC-859C-B441F30F66A7" class="sect4"><span class="enumeration_section">4.4.6 </span>Step 6: Encrypt Data
                  </h4>
                  <div>
                     <p>Next, you are ready to encrypt either individual table columns or an entire tablespace. </p>
                  </div>
                  <div>
                     <p><strong>Topics:</strong></p>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-17B731EF-D989-4E36-A6A5-F93553C11725">Encrypting Individual Table Columns</a><br>Oracle provides guidelines that you should follow before you encrypt columns, such as checking the column data types.
                        </li>
                        <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-956B2FB6-345B-4402-8D13-ED48D6357438">Encrypting a Tablespace</a><br>You can encrypt a new tablespace while you are creating it, but you cannot encrypt an existing tablespace. 
                        </li>
                     </ul>
                  </div>
                  <a id="TDPSG44325"></a><div class="sect4"><a id="GUID-17B731EF-D989-4E36-A6A5-F93553C11725" name="GUID-17B731EF-D989-4E36-A6A5-F93553C11725"></a><h5 id="TDPSG-GUID-17B731EF-D989-4E36-A6A5-F93553C11725" class="sect5"><span class="enumeration_section">4.4.6.1 </span>Encrypting Individual Table Columns
                     </h5>
                     <div>
                        <p>Oracle provides guidelines that you should follow before you encrypt columns, such as checking the column data types.</p>
                        <p>The decisions that you make when you identify columns to encrypt are determined by governmental security regulations, such as California Senate Bill 1386, or by industry standards such as the Payment Card Industry (PCI) Data Security Standard. Credit card numbers, Social Security numbers, and other personally identifiable information (PII) fall under this category. Your own internal security policies — trade secrets, research results, or employee salaries and bonuses — determine your needs for encryption. See <a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-C8698CBF-142D-45D1-8E23-ACD9749AAAAB" title="In most cases, you must encrypt sensitive data on your site to meet a regulatory compliance.">When Should You Encrypt Data?</a> for guidelines about when and when not to encrypt data. 
                        </p>
                        <p>Follow these guidelines when you select columns to encrypt: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Check the data types of the columns you plan to encrypt.</span> Transparent Data Encryption supports the following data types:
                              </p>
                              <div class="tblformal" id="GUID-17B731EF-D989-4E36-A6A5-F93553C11725__LISTOFSUPPORTEDDATATYPESFROMTOPTOBO-662D5798">
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="List of supported data types, from top to bottom, left to right" width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="54%" id="d11804e1429">Data Types B-L</th>
                                          <th align="left" valign="bottom" width="46%" id="d11804e1432">Data Types N-V</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="54%" id="d11804e1437" headers="d11804e1429 ">
                                             <p><code class="codeph">BINARY_FLOAT</code> 
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="46%" headers="d11804e1437 d11804e1432 ">
                                             <p><code class="codeph">NUMBER</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="54%" id="d11804e1447" headers="d11804e1429 ">
                                             <p><code class="codeph">BINARY_DOUBLE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="46%" headers="d11804e1447 d11804e1432 ">
                                             <p><code class="codeph">NVARCHAR2</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="54%" id="d11804e1456" headers="d11804e1429 ">
                                             <p><code class="codeph">CHAR</code></p>
                                          </td>
                                          <td align="left" valign="top" width="46%" headers="d11804e1456 d11804e1432 ">
                                             <p><code class="codeph">RAW</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="54%" id="d11804e1465" headers="d11804e1429 ">
                                             <p><code class="codeph">DATE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="46%" headers="d11804e1465 d11804e1432 ">
                                             <p><code class="codeph">TIMESTAMP</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="54%" id="d11804e1474" headers="d11804e1429 ">
                                             <p><code class="codeph">NCHAR</code></p>
                                          </td>
                                          <td align="left" valign="top" width="46%" headers="d11804e1474 d11804e1432 ">
                                             <p><code class="codeph">VARCHAR2</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="54%" id="d11804e1483" headers="d11804e1429 ">
                                             <p>Large object types (LOBs) such as <code class="codeph">BLOB</code> and <code class="codeph">CLOB</code><a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, " you="" cannot="" encrypt="" external="" lobs="" (bfile).")"=""><sup>Foot&nbsp;1</sup></a></p>
                                          </td>
                                          <td align="left" valign="top" width="46%" headers="d11804e1483 d11804e1432 ">
                                             <p>-</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>You cannot encrypt external LOBs (<code class="codeph">BFILE</code>).
                                 </p>
                              <p></p>
                           </li>
                           <li>
                              <p><span class="bold">Ensure that the columns you select are not part of a foreign key.</span> With Transparent Data Encryption, each table has its own encryption key, which is stored in the database data dictionary and encrypted with the external master key. Encrypted columns cannot be used as foreign keys.
                              </p>
                           </li>
                        </ul>
                        <div class="section">
                           <p class="subhead3">To encrypt a column in a table: </p>
                           <ol>
                              <li>
                                 <p>Ensure that you have created and opened the keystore and created a master encryption key.</p>
                                 <p>See the following sections, if necessary:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-E6B591CF-0A94-4BE2-BD46-2D2C1D33C9C9" title="To create the keystore, use the ADMINISTER KEY MANAGEMENT SQL statement.">Step 3: Create the Software Password-Based Keystore</a> to learn how to create a keystore key
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-4CE7D5F7-7B12-4AEA-BDF4-5818AA6E1215" title="You can manually open and close keystores. Auto-login keystores open automatically when they are accessed.">Step 4: Open (or Close) the Keystore</a> to learn how to open or a keystore
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-F90A7511-7C03-48B1-ABCA-1F775802D122" title="The master encryption key, which stored in a keystore, protects the table keys and tablespace encryption keys.">Step 5: Create the Master Encryption Key</a> to create the master encryption key
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>In Enterprise Manager, access the Database home page.</p>
                                 <p>See <a href="../admqs/getting-started-with-database-administration.html#ADMQS033"><span><cite>Oracle Database 2 Day DBA</cite></span></a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Schema</span> menu, select <span class="bold">Database Objects</span>, then <span class="bold">Tables</span>.
                                 </p>
                                 <p>If the Database Login page appears, then log in as <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege.
                                 </p>
                              </li>
                              <li>
                                 <p>In the Tables page, do one of the following: </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>To create a new table, click <span class="bold">Create</span>, and then answer the questions in the subsequent page to start creating the table. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>To modify an existing table, search for the table name by entering its schema name into the <span class="bold">Schema</span> field and the table name in the <span class="bold">Object Name</span> field. (You can use the percent sign (%) wildcard character to search for a group of tables, for example <code class="codeph">O%</code> to find all tables beginning with the letter O.) When the table is listed in the Tables page, select the table, and then click <span class="bold">Edit</span>. 
                                       </p>
                                    </li>
                                 </ul>
                                 <p>In the Create Table or Edit Table page, you can set the encryption options. </p>
                                 <p>For example, to encrypt columns in the <code class="codeph">OE.ORDERS</code> table, the Edit Table page appears as follows:
                                 </p>
                                 <div class="figure" id="GUID-17B731EF-D989-4E36-A6A5-F93553C11725__GUID-1BB32D06-C34E-4F96-86E3-CA296B701919"><img src="img/encrypt_cols.gif" width="480" alt="Description of encrypt_cols.gif follows" title="Description of encrypt_cols.gif follows" longdesc="img_text/encrypt_cols.html"><br><a href="img_text/encrypt_cols.html">Description of the illustration encrypt_cols.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>In the Create Table (or Edit Table) page, do the following: </p>
                                 <ol type="a">
                                    <li>
                                       <p>Select the column that you want to encrypt.</p>
                                       <p>Do not select columns that are part of a foreign key constraint (primary or unique key columns). You cannot encrypt these columns. These columns are indicated with a key or check mark icon to the left of their names. </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Encryption Options</span> to display the Encryption Options for the Table page. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>From the Encryption Algorithm list, select from the following options:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><span class="bold">AES192</span>: Sets the key length to 192 bits. AES is the abbreviation for Advanced Encryption Standard.
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">3DES168</span>: Sets the key length to 168 bits. 3DES is the abbreviation for Triple Data Encryption Standard.
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">AES128</span>: Sets the key length to 128 bits. This option is the default. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">AES256</span>: Sets the key length to 256 bits.
                                             </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li>
                                       <p>Under Key Generation, select either <span class="bold">Generate Key Randomly</span> or <span class="bold">Specify Key</span>. If you select<span class="bold"> Specify Key</span>, enter characters for the seed values in the <span class="bold">Enter Key</span> and <span class="bold">Confirm Key</span> fields.
                                       </p>
                                       <p>The <span class="bold">Generate Key Randomly</span> setting enables salt. <span class="bold">Salt</span> is a way to strengthen the security of encrypted data. It is a random string added to the data before it is encrypted, causing the same text to appear different when encrypted. Salt removes one method attackers use to steal data, namely, matching patterns of encrypted text.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Continue</span> to return to the Create Table (or Edit Table) page. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>Enable encryption for the column by selecting its box under <span class="bold">Encrypted</span>.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Apply</span>, and then click <span class="bold">Return</span>.
                                 </p>
                                 <p>The Tables page appears. </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <p>While a table is being updated, read access is still possible. Afterward, existing and future data in the column is encrypted when it is written to the database file, and it is decrypted when an authorized user selects it. If data manipulation language (DML) statements are needed, you can use online redefinition statements. </p>
                     </div>
                  </div><a id="TDPSG44326"></a><div class="sect4"><a id="GUID-956B2FB6-345B-4402-8D13-ED48D6357438" name="GUID-956B2FB6-345B-4402-8D13-ED48D6357438"></a><h5 id="TDPSG-GUID-956B2FB6-345B-4402-8D13-ED48D6357438" class="sect5"><span class="enumeration_section">4.4.6.2 </span>Encrypting a Tablespace
                     </h5>
                     <div>
                        <p>You can encrypt a new tablespace while you are creating it, but you cannot encrypt an existing tablespace. </p>
                        <p>As a workaround, you can use the <code class="codeph">CREATE TABLE AS SELECT</code>, <code class="codeph">ALTER TABLE MOVE</code>, or use Oracle Data Pump import to get data from an existing tablespace into an encrypted tablespace. For details about creating a tablespace, see <a href="../admqs/managing-database-storage-structures.html#ADMQS0622"><span><cite>Oracle Database 2 Day DBA</cite></span></a>.
                        </p>
                        <div class="section">
                           <p class="subhead3">To encrypt a tablespace: </p>
                           <ol>
                              <li>
                                 <p>Ensure that you have created and opened the keystore, as described in the preceding steps of this section.</p>
                              </li>
                              <li>
                                 <p>In Enterprise Manager, access the Database home page.</p>
                                 <p>See <a href="../admqs/getting-started-with-database-administration.html#ADMQS033"><span><cite>Oracle Database 2 Day DBA</cite></span></a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Administration</span> menu, select <span class="bold">Storage</span>, then <span class="bold">Tablespaces</span>.
                                 </p>
                                 <p>If the Database Login page appears, then log in as an administrative user, such as <code class="codeph">SYS</code>. User <code class="codeph">SYS</code> must log in with the <span class="bold">SYSDBA</span> role selected.
                                 </p>
                                 <p>The Tablespaces page appears. </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Create</span>, and then answer the questions in the subsequent page to start creating the tablespace and its required data file. 
                                 </p>
                              </li>
                              <li>
                                 <p>In the Create Tablespace page, do the following:</p>
                                 <ol type="a">
                                    <li>
                                       <p>Under Type, in the Permanent list, select the <span class="bold">Encryption</span> box. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>Under Datafiles, select <span class="bold">Add</span> to add a data file. (Linux and Windows systems only)
                                       </p>
                                    </li>
                                    <li>
                                       <p>Select <span class="bold">Encryption</span> options to display the Encryption Options page.
                                       </p>
                                    </li>
                                    <li>
                                       <p>From the Encryption Algorithm list, select from the following options:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><span class="bold">AES192</span>: Sets the key length to 192 bits. AES is the abbreviation for Advanced Encryption Standard.
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">3DES168</span>: Sets the key length to 168 bits. 3DES is the abbreviation for Triple Data Encryption Standard.
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">AES128</span>: Sets the key length to 128 bits. This option is the default. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">AES256</span>: Sets the key length to 256 bits.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>See "Available Methods" under Step <a href="securing-the-database-installation-and-configuration.html#GUID-D15D9135-6672-4E28-ABD7-A66579FCB869__CHDJBFBE">5</a> in <a href="securing-the-database-installation-and-configuration.html#GUID-D15D9135-6672-4E28-ABD7-A66579FCB869" title="You can configure network encryption by using either Oracle Net Manager or by editing the sqlnet.ora file.">Configuring Network Encryption</a> for more information about these encryption algorithms.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Continue</span>.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>In the Create Tablespace page, click <span class="bold">OK</span>.
                                 </p>
                                 <p>The new tablespace appears in the list of existing tablespaces. Remember that you cannot encrypt an existing tablespace. </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="infoboxnotealso" id="GUID-956B2FB6-345B-4402-8D13-ED48D6357438__GUID-403E740A-AC39-421D-9C7E-E0878A76510F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA" title="Oracle Database provides data dictionary views that describe encrypted tablespaces.">Data Dictionary Views for Checking Encrypted Tablespaces</a> to query the database for existing encrypted tablespaces
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG10139"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for detailed information about tablespace encryption 
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-TABLESPACE.html#SQLRF01403"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">CREATE TABLESPACE</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="TDPSG40433"></a><div class="props_rev_3"><a id="GUID-F6847274-E8E5-4D95-BDBE-4ED36E48CCC1" name="GUID-F6847274-E8E5-4D95-BDBE-4ED36E48CCC1"></a><h3 id="TDPSG-GUID-F6847274-E8E5-4D95-BDBE-4ED36E48CCC1" class="sect3"><span class="enumeration_section">4.5 </span>Checking Existing Encrypted Data
               </h3>
               <div>
                  <p>You can query the database for the data that you have encrypted. </p>
                  <p>You can check for individually encrypted columns, all tables in the current database instance that have encrypted columns, or all tablespaces that are encrypted. </p>
               </div>
               <div>
                  <p><strong>Topics:</strong></p>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-FE924225-3F77-4E07-8106-054E8CC4B048">Finding the Type of Keystore That Was Created</a><br>The <code class="codeph">V$ENCRYPTION_KEYS</code> dynamic view lists the type of keystore that was created.
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-37239133-78B0-423B-87D6-549632769449">Finding the Keystore Location</a><br>The <code class="codeph">V$ENCRYPTION_WALLET</code> dynamic view lists the location of a keystore.
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-5608F3E6-A2B7-45C4-8295-6AE03E841C12">Checking Whether a Keystore Is Open or Closed</a><br>The <code class="codeph">V$ENCRYPTION_WALLET</code> dynamic view indicates if a keystore is open or closed. 
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-27DD6D48-17A8-4C55-8DDF-ACB50F20B496">Checking Encrypted Columns of an Individual Table</a><br>The <code class="codeph">DESC</code> (for <code class="codeph">DESCRIBE</code>) statement in SQL*Plus checks the encrypted columns in a database table.
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-D01393BD-BDE8-4B44-8385-566139E5C909">Checking All Encrypted Table Columns in the Current Database Instance</a><br>The <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> data dictionary view lists all encrypted table columns in the current instance. 
                     </li>
                     <li class="ulchildlink"><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA">Data Dictionary Views for Checking Encrypted Tablespaces</a><br>Oracle Database provides data dictionary views that describe encrypted tablespaces.
                     </li>
                  </ul>
               </div>
               <a id="TDPSG94472"></a><div class="props_rev_3"><a id="GUID-FE924225-3F77-4E07-8106-054E8CC4B048" name="GUID-FE924225-3F77-4E07-8106-054E8CC4B048"></a><h4 id="TDPSG-GUID-FE924225-3F77-4E07-8106-054E8CC4B048" class="sect4"><span class="enumeration_section">4.5.1 </span>Finding the Type of Keystore That Was Created
                  </h4>
                  <div>
                     <p>The <code class="codeph">V$ENCRYPTION_KEYS</code> dynamic view lists the type of keystore that was created.
                     </p>
                     <div class="section">
                        <p class="subhead3">To find the type of keystore that was created:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In SQL*Plus, query the <code class="codeph">V$ENCRYPTION_KEYS</code> view as follows:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT KEYSTORE_TYPE FROM V$ENCRYPTION_KEYS;
</pre><p>The keystore location appears, similar to the following:</p><pre class="oac_no_warn" dir="ltr">KEYSTORE_TYPE
-----------------------------
SOFTWARE KEYSTORE</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG94473"></a><div class="props_rev_3"><a id="GUID-37239133-78B0-423B-87D6-549632769449" name="GUID-37239133-78B0-423B-87D6-549632769449"></a><h4 id="TDPSG-GUID-37239133-78B0-423B-87D6-549632769449" class="sect4"><span class="enumeration_section">4.5.2 </span>Finding the Keystore Location
                  </h4>
                  <div>
                     <p>The <code class="codeph">V$ENCRYPTION_WALLET</code> dynamic view lists the location of a keystore.
                     </p>
                     <div class="section">
                        <p class="subhead3">To find the keystore location:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In SQL*Plus, query the <code class="codeph">V$ENCRYPTION_WALLET</code> view as follows:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT WRL_PARAMETER FROM V$ENCRYPTION_WALLET;
</pre><p>The keystore location appears, similar to the following:</p><pre class="oac_no_warn" dir="ltr">WRL_PARAMETER
-----------------------------
C:\oracle\product\12.2.0\db_1</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG44334"></a><div class="props_rev_3"><a id="GUID-5608F3E6-A2B7-45C4-8295-6AE03E841C12" name="GUID-5608F3E6-A2B7-45C4-8295-6AE03E841C12"></a><h4 id="TDPSG-GUID-5608F3E6-A2B7-45C4-8295-6AE03E841C12" class="sect4"><span class="enumeration_section">4.5.3 </span>Checking Whether a Keystore Is Open or Closed
                  </h4>
                  <div>
                     <p>The <code class="codeph">V$ENCRYPTION_WALLET</code> dynamic view indicates if a keystore is open or closed. 
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To check whether a keystore is open or closed:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In SQL*Plus, query the <code class="codeph">V$ENCRYPTION_WALLET</code> view as follows:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT STATUS FROM V$ENCRYPTION_WALLET;
</pre><p>The keystore status appears, similar to the following:</p><pre class="oac_no_warn" dir="ltr">STATUS  
-------
OPEN</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG44331"></a><div class="props_rev_3"><a id="GUID-27DD6D48-17A8-4C55-8DDF-ACB50F20B496" name="GUID-27DD6D48-17A8-4C55-8DDF-ACB50F20B496"></a><h4 id="TDPSG-GUID-27DD6D48-17A8-4C55-8DDF-ACB50F20B496" class="sect4"><span class="enumeration_section">4.5.4 </span>Checking Encrypted Columns of an Individual Table
                  </h4>
                  <div>
                     <p>The <code class="codeph">DESC</code> (for <code class="codeph">DESCRIBE</code>) statement in SQL*Plus checks the encrypted columns in a database table.
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To check the encrypted columns of an individual table:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In SQL*Plus, run the <code class="codeph">DESC</code> statement using the following syntax. 
                              </p><pre class="oac_no_warn" dir="ltr">DESC <span class="italic">tablename</span>;
</pre><p>For example: </p><pre class="oac_no_warn" dir="ltr">DESC OE.ORDER_ITEMS;
</pre><p>A description of the table schema appears. The following output shows that the <code class="codeph">QUANTITY</code> column is encrypted: 
                              </p><pre class="oac_no_warn" dir="ltr">Name                                      Null?     Type
----------------------------------------  --------  --------------------------
ORDER_ID                                  NOT NULL  NUMBER(12)
LINE_ITEM_ID                              NOT NULL  NUMBER(3)
PRODUCT_ID                                NOT NULL  NUMBER(6)
UNIT_PRICE                                          NUMBER(8,2)
QUANTITY                                            NUMBER(8) <span class="bold">ENCRYPT</span></pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG44332"></a><div class="props_rev_3"><a id="GUID-D01393BD-BDE8-4B44-8385-566139E5C909" name="GUID-D01393BD-BDE8-4B44-8385-566139E5C909"></a><h4 id="TDPSG-GUID-D01393BD-BDE8-4B44-8385-566139E5C909" class="sect4"><span class="enumeration_section">4.5.5 </span>Checking All Encrypted Table Columns in the Current Database Instance
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> data dictionary view lists all encrypted table columns in the current instance. 
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3">To check all encrypted table columns in the current database instance:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In SQL*Plus, select from the <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> view:
                              </p>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_ENCRYPTED_COLUMNS;
</pre><p>This <code class="codeph">SELECT</code> statement lists all tables and column in the database that contain columns encrypted using Oracle Transparent Data Encryption. For example: 
                              </p><pre class="oac_no_warn" dir="ltr">OWNER    TABLE_NAME    COLUMN_NAME    ENCRYPTION_ALG     SALT   INTEGRITY_ALG
-------  ----------    -----------    ----------------   ----   -------------
OE       CUSTOMERS     INCOME_LEVEL   AES 128 bits key   YES    SHA-1
OE       UNIT_PRICE    ORADER_ITEMS   AES 128 bits key   YES    SHA-1
HR       EMPLOYEES     SALARY         AES 192 bits key   YES    SHA-1</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D01393BD-BDE8-4B44-8385-566139E5C909__GUID-3AB65182-3BCC-4AF7-834B-4A132FC61508">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/DBA_ENCRYPTED_COLUMNS.html#REFRN23534"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> view
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPSG94373"></a><a id="TDPSG44333"></a><div class="props_rev_3"><a id="GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA" name="GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA"></a><h4 id="TDPSG-GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA" class="sect4"><span class="enumeration_section">4.5.6 </span>Data Dictionary Views for Checking Encrypted Tablespaces
                  </h4>
                  <div>
                     <p>Oracle Database provides data dictionary views that describe encrypted tablespaces.</p>
                     <div class="section">
                        <p><a href="encrypting-data-with-oracle-transparent-data-encryption.html#GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA__CIACJEIB" title="Data Dictionary Views for Encrypted Tablespaces">Table 4-1</a> lists data dictionary views that you can use to check encrypted tablespaces. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA__CIACJEIB">
                        <p class="titleintable">Table 4-1 Data Dictionary Views for Encrypted Tablespaces</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Data Dictionary Views for Encrypted Tablespaces" summary="Data Dictionary Views for Encrypted Tablespaces" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d11804e2476">Data Dictionary View</th>
                                 <th align="left" valign="bottom" width="65%" id="d11804e2479">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d11804e2484" headers="d11804e2476 ">
                                    <p><a href="../refrn/DBA_TABLESPACES.html#REFRN23287"><code class="codeph">DBA_TABLESPACES</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d11804e2484 d11804e2479 ">
                                    <p>Describes all tablespaces in the database. For example, to determine if the tablespace has been encrypted, enter the following: </p><pre class="oac_no_warn" dir="ltr">SELECT TABLESPACE_NAME, ENCRYPTED FROM DBA_TABLESPACES;

TABLESPACE_NAME              ENC
---------------------------- ----
SYSTEM                       NO
SYSAUX                       NO
UNCOTBS1                     NO
TEMP                         NO
USERS                        NO
EXAMPLE                      NO
SECURESPACE                  YES</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d11804e2496" headers="d11804e2476 ">
                                    <p><a href="../refrn/USER_TABLESPACES.html#REFRN26287"><code class="codeph">USER_TABLESPACES</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d11804e2496 d11804e2479 ">
                                    <p>Describes the tablespaces accessible to the current user. It has the same columns as <code class="codeph">DBA_TABLESPACES</code>, except for the <code class="codeph">PLUGGED_IN</code> column. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d11804e2512" headers="d11804e2476 ">
                                    <p><a href="../refrn/V-ENCRYPTED_TABLESPACES.html#REFRN30496"><code class="codeph">V$ENCRYPTED_TABLESPACES</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d11804e2512 d11804e2479 ">
                                    <p>Displays information about the tablespaces that are encrypted. For example: </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V$ENCRYPTED_TABLESPACES;
</pre><pre class="oac_no_warn" dir="ltr">        TS#  ENCRYPTIONALG  ENCRYPTEDTS
-----------  -------------  -----------
         6   AES128         YES
</pre><p>The list includes the tablespace number, its encryption algorithm, and whether its encryption is enabled or disabled. </p>
                                    <p>If you want to find the name of the tablespace, use the following join operation:</p><pre class="oac_no_warn" dir="ltr">SELECT NAME, ENCRYPTIONALG ENCRYPTEDTS
FROM V$ENCRYPTED_TABLESPACES, V$TABLESPACE
WHERE V$ENCRYPTED_TABLESPACES.TS# = V$TABLESPACE.TS#;</pre></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-923ABFB1-CDFF-49BE-B619-345BFB497ADA__GUID-058BAEFF-3B80-4B90-82F1-A3964428EAFB">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/toc.htm"><span><cite>Oracle Database Reference</cite></span></a> for more information about data dictionary views
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>