<!DOCTYPE html
  SYSTEM "about:legacy-compat">

<!-- saved from url=(0023)https://docs.oracle.com -->

<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Use these instructions to display and change the kernel parameter values if they are different from the minimum recommended value.">
      <meta name="description" content="Use these instructions to display and change the kernel parameter values if they are different from the minimum recommended value.">
      <title>Changing Kernel Parameter Values</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation Guide">
      <meta property="og:description" content="Use these instructions to display and change the kernel parameter values if they are different from the minimum recommended value.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation Guide for Linux">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 17.8.1">
      <link rel="alternate" href="database-installation-guide-linux.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-01-23T02:40:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2015, 2018">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E85758-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/12.2">
      <meta name="dcterms.release" content="Release 12.2">
      <link rel="prev" href="minimum-parameter-settings-for-installation.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-additional-kernel-settings-for-suse-linux.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"12.2","element_name":"Release 12.2","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Installation Guide for Linux">
    <meta name="dcterms.isVersionOf" content="LADBI">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="minimum-parameter-settings-for-installation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-additional-kernel-settings-for-suse-linux.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="completing-preinstallation-tasks-manually.html" property="item" typeof="WebPage"><span property="name">Completing Preinstallation Tasks Manually</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-kernel-parameters-for-linux.html" property="item" typeof="WebPage"><span property="name">Configuring Kernel Parameters for Linux</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Changing Kernel Parameter Values</li>
            </ol>
            <a id="GUID-FB0CC366-61C9-4AA2-9BE7-233EB6810A31" name="GUID-FB0CC366-61C9-4AA2-9BE7-233EB6810A31"></a>
            
            <h2 id="LADBI-GUID-FB0CC366-61C9-4AA2-9BE7-233EB6810A31" class="sect2">Changing Kernel Parameter Values</h2>
         </header>
         <div class="ind">
            <div>
               <p>Use these instructions to display and change the kernel parameter values if they are different from the minimum recommended value.</p>
               <div class="p">
                  <p>Use the following commands to display the current values of the kernel parameters:</p>
                  <div class="tblformal" id="GUID-FB0CC366-61C9-4AA2-9BE7-233EB6810A31__COMMANDSTODISPLAYKERNELPARAMETERVAL-29B9DDF2">
                     <p class="titleintable">Table A-2 Commands to Display Kernel Parameter Values</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Commands to Display Kernel Parameter Values" summary="Note these values and identify any values that you must change:" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d31940e31">Parameter</th>
                              <th align="left" valign="bottom" id="d31940e33">Command</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e37" headers="d31940e31 "><code>semmsl</code>, <code>semmns</code>, <code>semopm</code>, and <code>semmni</code></td>
                              <td align="left" valign="top" headers="d31940e37 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep sem</code><p>This command displays the value of the semaphore parameters in the order listed.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e55" headers="d31940e31 "><code>shmall</code>, <code>shmmax</code>, and <code>shmmni</code></td>
                              <td align="left" valign="top" headers="d31940e55 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep shm</code><p>This command displays the details of the shared memory segment sizes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e70" headers="d31940e31 "><code>file-max</code></td>
                              <td align="left" valign="top" headers="d31940e70 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep file-max</code><p>This command displays the maximum number of file handles.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e79" headers="d31940e31 "><code>ip_local_port_range</code></td>
                              <td align="left" valign="top" headers="d31940e79 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep ip_local_port_range</code><p>This command displays a range of port numbers.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e88" headers="d31940e31 "><code>rmem_default</code></td>
                              <td align="left" valign="top" headers="d31940e88 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep rmem_default</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e95" headers="d31940e31 "><code>rmem_max</code></td>
                              <td align="left" valign="top" headers="d31940e95 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep rmem_max</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e102" headers="d31940e31 "><code>wmem_default</code></td>
                              <td align="left" valign="top" headers="d31940e102 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep wmem_default</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e109" headers="d31940e31 "><code>wmem_max</code></td>
                              <td align="left" valign="top" headers="d31940e109 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep wmem_max</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d31940e116" headers="d31940e31 "><code>aio-max-nr</code></td>
                              <td align="left" valign="top" headers="d31940e116 d31940e33 "><code class="codeph"># /sbin/sysctl -a | grep aio-max-nr</code></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>If you used the Oracle Preinstallation RPM to complete you preinstallation configuration tasks, then the Oracle Preinstallation RPM sets these kernel parameters for you. However, if you did not use the Oracle Preinstallation RPM or the kernel parameters are different from the minimum recommended value, then to change these kernel parameter values:</p>
               </div>
               <!-- class="section" -->
               <ol>
                  <li class="stepexpand"><span>Using any text editor, create or edit the <code>/etc/sysctl.d/97-oracle-database-sysctl.conf</code> file, and add or edit lines similar to:</span><div><pre class="pre codeblock"><code>fs.aio-max-nr = 1048576
fs.file-max = 6815744
kernel.shmall = 2097152
kernel.shmmax = 4294967295
kernel.shmmni = 4096
kernel.sem = 250 32000 100 128
net.ipv4.ip_local_port_range = 9000 65500
net.core.rmem_default = 262144
net.core.rmem_max = 4194304
net.core.wmem_default = 262144
net.core.wmem_max = 1048576</code></pre></div>
                     <div>By specifying the values in the <code>/etc/sysctl.d/97-oracle-database-sysctl.conf </code>file, the values persist on system restarts.
                     </div>
                  </li>
                  <li class="stepexpand"><span>To change the current values of the kernel parameters:</span><div><pre class="pre codeblock"><code># /sbin/sysctl --system</code></pre></div>
                     <div>Review the output. If the values are incorrect, edit the <code>/etc/sysctl.d/97-oracle-database-sysctl.conf</code> file, then enter this command again.
                     </div>
                  </li>
                  <li class="stepexpand"><span>Confirm that the values are set correctly:</span><div><pre class="pre codeblock"><code># /sbin/sysctl -a</code></pre></div>
                  </li>
                  <li class="stepexpand"><span>Restart the computer, or run <code>sysctl --system</code> to make the changes in the <code>/etc/sysctl.d/97-oracle-database-sysctl.conf</code> file available in the active kernel memory.</span></li>
               </ol>
               <div class="section"><span class="bold">Guidelines for Setting Kernel Parameter Values</span><ul style="list-style-type: disc;">
                     <li>
                        <p>If you used the Oracle Preinstallation RPM, then your kernel parameter settings reside in the <code>/etc/sysctl.d/99-oracle-database-server-18c-preinstall-sysctl.conf</code> file.
                        </p>
                     </li>
                     <li>
                        <p>Include lines only for the kernel parameter values to change. For the semaphore parameters (<code>kernel.sem</code>), you must specify all four values. If any of the current values are larger than the minimum value, then specify the larger value.
                        </p>
                     </li>
                     <li>
                        <p>The <code>/etc/sysctl.conf</code> file has been deprecated.
                        </p>
                     </li>
                     <li>
                        <p>Avoid setting kernel parameter values in multiple files under <code>/etc/sysctl.d/</code>. The file with a lexically later name under <code>/etc/sysctl.d/</code> takes precedence, followed by <code>/etc/sysctl.conf</code>. Oracle recommends that you use the Oracle Preinstallation RPM which, among other preinstallation tasks, also sets the kernel parameter values for your database installation.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FB0CC366-61C9-4AA2-9BE7-233EB6810A31__GUID-C437BEC4-5007-484C-A284-B06B42DB69C1">
                           <p class="notep1">See Also:</p><code class="codeph">sysctl.conf(5)</code> and <code class="codeph">sysctl.d(5)</code> man pages for more information
                        </div>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>